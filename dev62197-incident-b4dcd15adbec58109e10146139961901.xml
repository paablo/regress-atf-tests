<?xml version="1.0" encoding="UTF-8"?><unload unload_date="2020-05-20 09:38:07"><sys_remote_update_set action="INSERT_OR_UPDATE"><application display_value="Global">global</application><application_name>Global</application_name><application_scope>global</application_scope><application_version/><collisions/><commit_date/><deleted/><description>https://developer.servicenow.com/app.do#!/share/contents/5672333_regress_atf_service_catalog_test_generator?t=PRODUCT_DETAILS.</description><inserted/><name>Regress - ATF Recorder v0.994 (New York)</name><origin_sys_id/><parent/><release_date/><remote_base_update_set/><remote_parent_id/><remote_sys_id>f9e26152db2098109e1014613996196c</remote_sys_id><state>loaded</state><summary/><sys_class_name>sys_remote_update_set</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>61b4ee43db3814109e10146139961980</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><update_set/><update_source/><updated/></sys_remote_update_set><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>question_choice_0b0b85d2dbac58109e10146139961979</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="question_choice"><question_choice action="INSERT_OR_UPDATE"><misc>0</misc><order>1</order><question display_value="Recording capture level">613d13eadb86c0109e1014613996198d</question><rec_misc>0</rec_misc><sys_class_name>question_choice</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-05 08:55:27</sys_created_on><sys_id>0b0b85d2dbac58109e10146139961979</sys_id><sys_mod_count>1</sys_mod_count><sys_name>Actions only</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>question_choice_0b0b85d2dbac58109e10146139961979</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-05 10:29:59</sys_updated_on><text>Actions only</text><value>actions</value></question_choice><fx_price action="delete_multiple" query="id=0b0b85d2dbac58109e10146139961979"/><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>misc</field><id>0b0b85d2dbac58109e10146139961979</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-05 08:55:27</sys_created_on><sys_id>121bc5d2dbac58109e10146139961976</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-05 08:55:27</sys_updated_on><table>question_choice</table><type>calculated</type></fx_price><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>rec_misc</field><id>0b0b85d2dbac58109e10146139961979</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-05 08:55:27</sys_created_on><sys_id>9a1bc5d2dbac58109e10146139961974</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-05 08:55:27</sys_updated_on><table>question_choice</table><type>calculated</type></fx_price></record_update>]]></payload><payload_hash>2052298993</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>21b46ec3db3814109e1014613996190f</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b56620000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Actions only</target_name><type>Question Choice</type><update_domain>global</update_domain><update_guid>cfb0e15288209810a791f4086dce2eac</update_guid><update_guid_history>cfb0e15288209810a791f4086dce2eac:2052298993,1a1bc5d260ac58107f20849410e8ea77:1469589892</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_app_module_b10d79aadb02c0109e101461399619fe</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_app_module"><sys_app_module action="INSERT_OR_UPDATE"><active>true</active><application display_value="Regress - ATF Recorder">0a931f6adbc233001c4af53a2996195f</application><assessment/><content_page/><device_type/><filter/><hint/><homepage/><image/><link_type>SEPARATOR</link_type><map_page/><mobile_title>ATF Recorder</mobile_title><mobile_view_name>Mobile</mobile_view_name><name/><order>500</order><override_menu_roles>false</override_menu_roles><query/><report/><roles/><sys_class_name>sys_app_module</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-01-03 00:35:18</sys_created_on><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>b10d79aadb02c0109e101461399619fe</sys_id><sys_mod_count>2</sys_mod_count><sys_name>ATF Recorder</sys_name><sys_overrides/><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>sys_app_module_b10d79aadb02c0109e101461399619fe</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-01-06 09:59:10</sys_updated_on><timeline_page/><title>ATF Recorder</title><uncancelable>false</uncancelable><view_name/><window_name/></sys_app_module></record_update>]]></payload><payload_hash>475100106</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>21b46ec3db3814109e10146139961912</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4d490000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>ATF Recorder</target_name><type>Module</type><update_domain>global</update_domain><update_guid>c2ea93a741464010ab7b93dba759bd99</update_guid><update_guid_history>c2ea93a741464010ab7b93dba759bd99:475100106,2c7dfdaad202c010c76027d201bd87a9:-1191913398,c51db5aadc02c010c7d41dd2642bd030:390818459</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_properties_173a962adb82c0109e101461399619a9</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_properties"><sys_properties action="INSERT_OR_UPDATE"><choices/><description/><ignore_cache>false</ignore_cache><is_private>false</is_private><name>regress.new.record.existing.template</name><read_roles/><suffix/><sys_class_name>sys_properties</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-01-03 02:42:43</sys_created_on><sys_id>173a962adb82c0109e101461399619a9</sys_id><sys_mod_count>2</sys_mod_count><sys_name>regress.new.record.existing.template</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>sys_properties_173a962adb82c0109e101461399619a9</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-02-08 08:34:19</sys_updated_on><type>string</type><value>14f91dacdb710010f0a2f28239961902</value><write_roles>regress_user</write_roles></sys_properties><sys_translated_text action="delete_multiple" query="documentkey=173a962adb82c0109e101461399619a9"/></record_update>]]></payload><payload_hash>-12275573</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>21b46ec3db3814109e10146139961915</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4f240000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>regress.new.record.existing.template</target_name><type>System Property</type><update_domain>global</update_domain><update_guid>4df34d5e7f768810fc21e34bc2fa581d</update_guid><update_guid_history>4df34d5e7f768810fc21e34bc2fa581d:-12275573,201a0545a13e8410023b908adf336628:2064701370,3b3a962ac082c0109d8bb23371dfefb3:-12275573</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_script_include_0cda1655dbb373001c4af53a2996197d</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;global.SetVariableValuesTestStepGenerator&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;SetVariableValuesTestStepGenerator&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var SetVariableValuesTestStepGenerator = Class.create();
SetVariableValuesTestStepGenerator.prototype = Object.extendsObject(TestStepGenerator, {

	generateTestStep: function() {
		if (gs.nil(this.regressionObject.populatedVariableValues)) {
			this.grATFStep.deleteRecord();
		} else {
			if ( !gs.nil(this.regressionObject.catalogItem) ) {
				this.grATFStep.inputs['catalog_item'] = this.regressionObject.catalogItem;
			}
			// Remove any read only variables, as we can't set them
			// But they could have been made read only after they were set
			// Hhmmm... further thought required
			this.grATFStep.inputs['variable_values'] = this.regressionObject.populatedVariableValues;
			this.grATFStep.notes = 'Variables changed by the user during the recording';
			TestStepGenerator.prototype.generateTestStep.call(this);
		}

	},
	
    type: 'SetVariableValuesTestStepGenerator'
});]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-09-09 09:11:33&lt;/sys_created_on&gt;&lt;sys_id&gt;0cda1655dbb373001c4af53a2996197d&lt;/sys_id&gt;&lt;sys_mod_count&gt;8&lt;/sys_mod_count&gt;&lt;sys_name&gt;SetVariableValuesTestStepGenerator&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_0cda1655dbb373001c4af53a2996197d&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-14 09:58:56&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload><payload_hash>33191208</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>21b46ec3db3814109e10146139961918</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b52610000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>SetVariableValuesTestStepGenerator</target_name><type>Script Include</type><update_domain>global</update_domain><update_guid>f730992f5e401010c7a7fd1c9f823241</update_guid><update_guid_history>f730992f5e401010c7a7fd1c9f823241:33191208,9132c4a2c28cd0104e6f890e4d37b5f4:1498606234,390bf3c9b09a441013ae1be2e7f5bf58:1421998326,db17fe28385204103a2355c37e1ce14d:-1634804541,9636b228e4520410a2bbfc16dc0f3de7:1421998326,4fd5fe648a5204105da146575e583020:-2087689357,26515a98f216c0107238c5d395bb2563:1514880233,582b1a9533b373005a654330185de01f:369924369,40da165561b37300ea9cd9019d49d880:-1427490201</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_script_include_a05f0f02db4fc0109e10146139961973</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;public&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;global.RegressATFRecordSessionv2Ajax&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;true&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;RegressATFRecordSessionv2Ajax&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var RegressATFRecordSessionv2Ajax = Class.create();
RegressATFRecordSessionv2Ajax.prototype = Object.extendsObject(global.AbstractAjaxProcessor, {
	
	isRecording: function() {
		var answer = global.RegressATFRecordSessionv2.isRecording();
		
		return answer;
	},
	
	isRegressEnabledForTable: function() {
		var tableName = this.getParameter('sysparm_table_name');
		var answer = global.RegressATFRecordSessionv2.isRegressEnabledForTable(tableName);
		
		return answer;
	},
	
	canRecordForServicePortal: function() {

		var isRecording = global.RegressATFRecordSessionv2.isRecording();
		var recordingMsg = global.RegressATFRecordSessionv2.getRecordingMsg();
		var answer = {canRecordForTable: isRecording, recordingMsg:recordingMsg,isRecording:isRecording};
		var json = new JSON();		

		return json.encodeObject(answer);	
	},
	
	canRecordForTable: function() {
		var tableName = this.getParameter('sysparm_table_name');
		var isTableEnabled = global.RegressATFRecordSessionv2.isRegressEnabledForTable(tableName);
		var isRecording = global.RegressATFRecordSessionv2.isRecording();
		var recordingMsg = global.RegressATFRecordSessionv2.getRecordingMsg();
		var answer = {canRecordForTable: isTableEnabled &amp;&amp; isRecording, recordingMsg:recordingMsg,isRecording:isRecording};
		var json = new JSON();
		
		return json.encodeObject(answer);		
	},
	
    type: 'RegressATFRecordSessionv2Ajax'
});]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-20 10:20:41&lt;/sys_created_on&gt;&lt;sys_id&gt;a05f0f02db4fc0109e10146139961973&lt;/sys_id&gt;&lt;sys_mod_count&gt;15&lt;/sys_mod_count&gt;&lt;sys_name&gt;RegressATFRecordSessionv2Ajax&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_a05f0f02db4fc0109e10146139961973&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-19 02:36:23&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload><payload_hash>1939490005</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>21b46ec3db3814109e1014613996191b</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b52710000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>RegressATFRecordSessionv2Ajax</target_name><type>Script Include</type><update_domain>global</update_domain><update_guid>f1ea198de9149410c8bf57631c39b20d</update_guid><update_guid_history>f1ea198de9149410c8bf57631c39b20d:1939490005,d6699d4d1b14941076d88457f60685f4:1222662733,3c59d58d051494108c1b6bd80ac1fdf6:-2119811900,3139d18d8c149410d9333d1d4abf65ef:-582371516,3b19118d38149410aef30bf877162d62:-826562938,e2e8194dd1149410a7fbf8e6a7ba2dea:1020991413,77a8954dcc14941003f9acc320bdc994:-1123871882,0798590d70149410a2790c2e83b71fc4:-1686422952,efe75d8986149410d6b64016d44c34f9:1795568129,83171949871494109f1d4b722da8a653:-306698259,685bb525aa041010eeb7424750154b54:-1771466112,eff9d70e1d4fc010defaecc0f6e2460a:1141170856,3717574ace4fc01097e6a998d692a7f8:55592174,9c23db46614fc010af50288ee3a33899:-1932004403,6412d382aa4fc01025b9248667890ba7:-498604563,775f03027f4fc01030b9fe4a39adf5eb:1046492659</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>catalog_ui_policy_action_dbfac985db3e84109e1014613996190f</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="catalog_ui_policy_action"><catalog_ui_policy_action action="INSERT_OR_UPDATE"><catalog_item display_value="Regress Properties">e194ce26db42c0109e10146139961954</catalog_item><catalog_variable>IO:f3dc5aaadb82c0109e101461399619eb</catalog_variable><cleared>false</cleared><disabled>true</disabled><field/><mandatory>ignore</mandatory><order>100</order><sys_class_name>catalog_ui_policy_action</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-02-04 11:52:41</sys_created_on><sys_id>dbfac985db3e84109e1014613996190f</sys_id><sys_mod_count>0</sys_mod_count><sys_name>test_template_for_new_form</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>catalog_ui_policy_action_dbfac985db3e84109e1014613996190f</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-02-04 11:52:41</sys_updated_on><table/><ui_policy display_value="Always">acdac585db3e84109e101461399619e2</ui_policy><variable>test_template_for_new_form</variable><variable_set/><visible>ignore</visible></catalog_ui_policy_action></record_update>]]></payload><payload_hash>-1660342675</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>21b4ee43db3814109e10146139961982</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4ef10000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>test_template_for_new_form</target_name><type>Catalog UI Policy Action</type><update_domain>global</update_domain><update_guid>1bfac985cf3e8410492f1a5bc9771f11</update_guid><update_guid_history>1bfac985cf3e8410492f1a5bc9771f11:-1660342675</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_app_module_6aa7129edb4680109e10146139961938</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_app_module"><sys_app_module action="INSERT_OR_UPDATE"><active>true</active><application display_value="Regress - ATF Recorder">0a931f6adbc233001c4af53a2996195f</application><assessment/><content_page/><device_type/><filter/><hint/><homepage/><image/><link_type>DIRECT</link_type><map_page/><mobile_title>⏹ Stop Regression Test</mobile_title><mobile_view_name>Mobile</mobile_view_name><name/><order>520</order><override_menu_roles>false</override_menu_roles><query>endRegressRecording.do</query><report/><roles/><sys_class_name>sys_app_module</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-01-02 07:53:25</sys_created_on><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>6aa7129edb4680109e10146139961938</sys_id><sys_mod_count>8</sys_mod_count><sys_name>⏹ Stop ATF Recorder</sys_name><sys_overrides/><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>sys_app_module_6aa7129edb4680109e10146139961938</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-01-11 08:04:37</sys_updated_on><timeline_page/><title>⏹ Stop ATF Recorder</title><uncancelable>false</uncancelable><view_name/><window_name/></sys_app_module></record_update>]]></payload><payload_hash>603510731</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>25b46ec3db3814109e10146139961911</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4dd70000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>⏹ Stop ATF Recorder</target_name><type>Module</type><update_domain>global</update_domain><update_guid>a0a0f8d1d55e4410a1e289700fcb2e2c</update_guid><update_guid_history>a0a0f8d1d55e4410a1e289700fcb2e2c:603510731,9cfadf67f246401051dcd2de345f341e:813974725,65dcb5aa6c02c010bd04b010277a4b2d:1609241886,169cb1aafe02c010f009de49ba31532e:-466003972,a669dadec546801019a1bb259ed6927f:100868644,ca88d29e52468010530751e986a4f7eb:-1114812246,3518929e514680101e6b1b5bb73c9ec0:-1650865980,dde7d29edb46801049b4d5f4da8d27e4:1731033522,70c79a5ef3468010c798497c7ad984ea:-2119509148</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_processor_5443d55edbac58109e1014613996193a</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_processor"&gt;&lt;sys_processor action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;class_name/&gt;&lt;description/&gt;&lt;interactive&gt;false&lt;/interactive&gt;&lt;name&gt;Start Recording (Simple)&lt;/name&gt;&lt;parameters/&gt;&lt;params_endpoint/&gt;&lt;path&gt;startRecordingSimpleRegressionATFTest&lt;/path&gt;&lt;path_endpoint/&gt;&lt;require_csrf&gt;false&lt;/require_csrf&gt;&lt;roles&gt;snc_internal&lt;/roles&gt;&lt;script&gt;&lt;![CDATA[(function process(g_request, g_response, g_processor) {
	var response = "";

	 if (!RegressATFRecordSessionv2.isRecording()) {
		var recordingStarted = RegressATFRecordSessionv2.startRecording(null,"simple");
		var jsonParser = new JSON();
		response = jsonParser.encode(RegressATFRecordSessionv2.getSessionDetails());
		g_response.sendRedirect(gs.getSession().getStack().pop());
		if (recordingStarted) {
			gs.addInfoMessage('⏺ Started Regress ATF Test Recorder. For best results, start by creating a new record.');
		}
	 } 
	
})(g_request, g_response, g_processor);]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_processor&lt;/sys_class_name&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-05-05 09:31:05&lt;/sys_created_on&gt;&lt;sys_id&gt;5443d55edbac58109e1014613996193a&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;Start Recording (Simple)&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_processor_5443d55edbac58109e1014613996193a&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-05 09:31:05&lt;/sys_updated_on&gt;&lt;type&gt;script&lt;/type&gt;&lt;/sys_processor&gt;&lt;/record_update&gt;</payload><payload_hash>144824674</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>25b46ec3db3814109e10146139961914</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b548a0000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Start Recording (Simple)</target_name><type>Processor</type><update_domain>global</update_domain><update_guid>1c43d55e80ac581096a3bd667bd47d3b</update_guid><update_guid_history>1c43d55e80ac581096a3bd667bd47d3b:144824674</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_script_6aeddad2db8680109e10146139961998</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script"&gt;&lt;sys_script action="INSERT_OR_UPDATE"&gt;&lt;abort_action&gt;false&lt;/abort_action&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;action_delete&gt;false&lt;/action_delete&gt;&lt;action_insert&gt;false&lt;/action_insert&gt;&lt;action_query&gt;false&lt;/action_query&gt;&lt;action_update&gt;false&lt;/action_update&gt;&lt;active&gt;true&lt;/active&gt;&lt;add_message&gt;false&lt;/add_message&gt;&lt;advanced&gt;true&lt;/advanced&gt;&lt;change_fields&gt;false&lt;/change_fields&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;collection&gt;task&lt;/collection&gt;&lt;condition/&gt;&lt;description/&gt;&lt;execute_function&gt;false&lt;/execute_function&gt;&lt;filter_condition/&gt;&lt;is_rest&gt;false&lt;/is_rest&gt;&lt;message/&gt;&lt;name&gt;Regress Recordable Record Type&lt;/name&gt;&lt;order&gt;100&lt;/order&gt;&lt;priority&gt;100&lt;/priority&gt;&lt;rest_method/&gt;&lt;rest_method_text/&gt;&lt;rest_service/&gt;&lt;rest_service_text/&gt;&lt;rest_variables/&gt;&lt;role_conditions/&gt;&lt;script&gt;&lt;![CDATA[(function executeRule(current, previous /*null when async*/) {

	// This Business Rule is no longer required, as Regress recording has been opening up to all tables
	// Global Business Rules can no longer be used, so this check must be done client side
	if (RegressATFRecordSessionv2.isRecording()) {
		g_scratchpad.can_regress = true;
	}

})(current, previous);]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script&lt;/sys_class_name&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-01-02 08:20:18&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;6aeddad2db8680109e10146139961998&lt;/sys_id&gt;&lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;&lt;sys_name&gt;Regress Recordable Record Type&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_6aeddad2db8680109e10146139961998&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-20 10:58:52&lt;/sys_updated_on&gt;&lt;template/&gt;&lt;when&gt;before_display&lt;/when&gt;&lt;/sys_script&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=6aeddad2db8680109e10146139961998"/&gt;&lt;/record_update&gt;</payload><payload_hash>817579695</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>25b46ec3db3814109e10146139961917</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4fff0000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table>task</table><target_name>Regress Recordable Record Type</target_name><type>Business Rule</type><update_domain>global</update_domain><update_guid>0718df8a794fc010a4d3f326ccc67307</update_guid><update_guid_history>0718df8a794fc010a4d3f326ccc67307:817579695,e397570a574fc0105699cd39a24d9f84:-1635269436,aaf2a95a1c52001079e95b6d002451ba:-1120712420,e7867c1d9b5e4410d0643e165822440b:2129172150,492edad24e868010cdecea8298af0d86:1211355069,2aeddad2be86801059bf6276b792249b:-67334682</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_script_include_69b3505adb3233001c4af53a299619a0</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;active&gt;false&lt;/active&gt;&lt;api_name&gt;global.RegressionObject&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;RegressionObject&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var RegressionObject = Class.create();

RegressionObject.GetWorker = function(regressionObject) {
	var regressionWorker;
	
	switch(regressionObject.getTableName()) {
		case "sys_ui_policy":
			regressionWorker = new UIPolicyRegression(regressionObject);
			break;
		case "sc_req_item":
			regressionWorker = new CatalogueItemRegression(regressionObject);
			break;
		default:
		regressionWorker = new RegressionObject(regressionObject);
		
	}
	
	return regressionWorker;
	
};

RegressionObject.prototype = {
	initialize: function(regressionObject) {
		this.regressionObject = regressionObject;
		
		this.mandatoryFields = '';
		this.notMandatoryFields = '';
		this.visibleFields ='';
		this.notVisibleFields ='';
		this.readOnlyFields = '';
		this.notReadOnlyFields = '';
		this.visibleUIActions = '';
		
		this.tableName = regressionObject.getTableName();
		this.sys_id = regressionObject.getValue('sys_id');
		this.impersonate = gs.getUserID();
		this.viewName = '';
		this.conditions = regressionObject.getEncodedQuery();
		this.setFieldValues = [];
		
	},
	
	setAction: function(uiActionSysID) {
		this.uiActionSysID = uiActionSysID;
	},

	
	type: 'RegressionObject'
};]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-07-24 08:52:38&lt;/sys_created_on&gt;&lt;sys_id&gt;69b3505adb3233001c4af53a299619a0&lt;/sys_id&gt;&lt;sys_mod_count&gt;16&lt;/sys_mod_count&gt;&lt;sys_name&gt;RegressionObject&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_69b3505adb3233001c4af53a299619a0&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-01-03 06:37:22&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload><payload_hash>-1196059941</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>25b46ec3db3814109e1014613996191a</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4cf50000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>RegressionObject</target_name><type>Script Include</type><update_domain>global</update_domain><update_guid>e4ff4b6af846c0103300895b8ff4768c</update_guid><update_guid_history>e4ff4b6af846c0103300895b8ff4768c:847731142,073d96d26e868010eb8dd05199802299:1191386097,62bf15a46ab100103786d1e0d1783d06:730991995,15212835995dc01030a24cf40c5fb7da:-1908326352,ea2c52d563b37300025f6e8eae424aba:326637724,87c2b3979f7233006be217d161a33f1e:1593449764,69c23b974b7233000e3de5700bf7f847:1294987059,dca72b1fb832330027209dbe4047b142:-1076897328,ea24e3dbf1323300ab06c0f0d9d903f2:1630673777,43c1671b76323300cef2dc48ed813d75:711831725,6101ef1bea32330013904f80b9229e68:-1626395516,e6d02bd740323300c1a1d1b179aa05b5:-711124355,7d0f17d7f0323300425f3a7d7187ce2d:1582685500,a48e17d7f5323300fd998681216fe45d:-2071152863,ebd7905a23323300e1231daea10d442f:-942476130,9486985a3e323300eaef787d215fed9c:-164854254,a4c3dc9686323300a9748089cced5540:-1275790686</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_user_role_42931f6adbc233001c4af53a29961962</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_user_role"><sys_user_role action="INSERT_OR_UPDATE"><assignable_by/><can_delegate>true</can_delegate><description/><elevated_privilege>false</elevated_privilege><encryption_context/><grantable>true</grantable><includes_roles/><name>regress_user</name><requires_subscription>-1</requires_subscription><scoped_admin>false</scoped_admin><suffix/><sys_class_name>sys_user_role</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2019-06-18 10:42:10</sys_created_on><sys_id>42931f6adbc233001c4af53a29961962</sys_id><sys_mod_count>0</sys_mod_count><sys_name>regress_user</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>sys_user_role_42931f6adbc233001c4af53a29961962</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2019-06-18 10:42:10</sys_updated_on></sys_user_role></record_update>]]></payload><payload_hash>505781357</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>25b46ec3db3814109e1014613996191e</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4c6a0000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>regress_user</target_name><type>Role</type><update_domain>global</update_domain><update_guid>42931f6a9ec2330023c4f9576bc30665</update_guid><update_guid_history>42931f6a9ec2330023c4f9576bc30665:1274808178</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>catalog_ui_policy_action_6e0b0985db3e84109e1014613996192a</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="catalog_ui_policy_action"><catalog_ui_policy_action action="INSERT_OR_UPDATE"><catalog_item display_value="Regress Properties">e194ce26db42c0109e10146139961954</catalog_item><catalog_variable>IO:045c56aadb82c0109e10146139961931</catalog_variable><cleared>false</cleared><disabled>true</disabled><field/><mandatory>ignore</mandatory><order>100</order><sys_class_name>catalog_ui_policy_action</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-02-04 11:52:54</sys_created_on><sys_id>6e0b0985db3e84109e1014613996192a</sys_id><sys_mod_count>0</sys_mod_count><sys_name>test_template_on_form_action</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>catalog_ui_policy_action_6e0b0985db3e84109e1014613996192a</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-02-04 11:52:54</sys_updated_on><table/><ui_policy display_value="Always">acdac585db3e84109e101461399619e2</ui_policy><variable>test_template_on_form_action</variable><variable_set/><visible>ignore</visible></catalog_ui_policy_action></record_update>]]></payload><payload_hash>1356721145</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>25b4ee43db3814109e10146139961981</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4f0b0000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>test_template_on_form_action</target_name><type>Catalog UI Policy Action</type><update_domain>global</update_domain><update_guid>ba0b09856b3e8410697705b8acdbd22c</update_guid><update_guid_history>ba0b09856b3e8410697705b8acdbd22c:1356721145</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>item_option_new_ecf15d1bdbc200109e101461399619d9</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="item_option_new"&gt;&lt;item_option_new action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;attributes/&gt;&lt;cat_item display_value="Regress Properties"&gt;e194ce26db42c0109e10146139961954&lt;/cat_item&gt;&lt;category/&gt;&lt;choice_direction&gt;down&lt;/choice_direction&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;create_roles/&gt;&lt;default_html_value/&gt;&lt;default_value&gt;javascript:RegressSystemPropertyHelper.GetExistingRecordFieldDefaultValues();&lt;/default_value&gt;&lt;delete_roles/&gt;&lt;delivery_plan/&gt;&lt;description/&gt;&lt;display_title&gt;false&lt;/display_title&gt;&lt;do_not_select_first&gt;false&lt;/do_not_select_first&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;example_text/&gt;&lt;field/&gt;&lt;global&gt;false&lt;/global&gt;&lt;help_tag&gt;More information&lt;/help_tag&gt;&lt;help_text/&gt;&lt;include_none&gt;false&lt;/include_none&gt;&lt;instructions&gt;&lt;![CDATA[&lt;p&gt;&lt;strong&gt;Please Note&lt;/strong&gt;: Once a field is selected, all fields extending Task that share the field name will be included, even if it is specifically excluded below.&lt;/p&gt;]]&gt;&lt;/instructions&gt;&lt;layout&gt;normal&lt;/layout&gt;&lt;list_table&gt;sys_dictionary&lt;/list_table&gt;&lt;lookup_label/&gt;&lt;lookup_price/&gt;&lt;lookup_table/&gt;&lt;lookup_unique&gt;false&lt;/lookup_unique&gt;&lt;lookup_value/&gt;&lt;macro/&gt;&lt;mandatory&gt;false&lt;/mandatory&gt;&lt;map_to_field&gt;false&lt;/map_to_field&gt;&lt;mask_use_confirmation&gt;false&lt;/mask_use_confirmation&gt;&lt;mask_use_encryption&gt;false&lt;/mask_use_encryption&gt;&lt;name&gt;fields_for_existing_record_queries&lt;/name&gt;&lt;order&gt;150&lt;/order&gt;&lt;price_if_checked&gt;0&lt;/price_if_checked&gt;&lt;pricing_implications&gt;false&lt;/pricing_implications&gt;&lt;question_text&gt;Base similar record queries from these field names&lt;/question_text&gt;&lt;read_roles/&gt;&lt;rec_lookup_price/&gt;&lt;rec_price_if_checked&gt;0&lt;/rec_price_if_checked&gt;&lt;record/&gt;&lt;record_producer_table&gt;global&lt;/record_producer_table&gt;&lt;reference/&gt;&lt;reference_qual&gt;javascript:RegressSystemPropertyHelper.GetExistingRecordFieldFilterByTableSysIDs(current.variables.automatically_record_for_these_tables);&amp;#13;
&lt;/reference_qual&gt;&lt;reference_qual_condition/&gt;&lt;scale_max&gt;5&lt;/scale_max&gt;&lt;scale_min&gt;0&lt;/scale_min&gt;&lt;show_help&gt;true&lt;/show_help&gt;&lt;show_help_on_load&gt;false&lt;/show_help_on_load&gt;&lt;sp_widget/&gt;&lt;summary_macro/&gt;&lt;sys_class_name&gt;item_option_new&lt;/sys_class_name&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-01-05 05:31:13&lt;/sys_created_on&gt;&lt;sys_id&gt;ecf15d1bdbc200109e101461399619d9&lt;/sys_id&gt;&lt;sys_mod_count&gt;21&lt;/sys_mod_count&gt;&lt;sys_name&gt;Base similar record queries from these field names&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;item_option_new_ecf15d1bdbc200109e101461399619d9&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-22 09:18:29&lt;/sys_updated_on&gt;&lt;table/&gt;&lt;tooltip/&gt;&lt;type&gt;21&lt;/type&gt;&lt;ui_page/&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;advanced&lt;/use_reference_qualifier&gt;&lt;validate_regex/&gt;&lt;variable_name/&gt;&lt;variable_set/&gt;&lt;variable_width/&gt;&lt;visibility&gt;1&lt;/visibility&gt;&lt;visible_bundle&gt;true&lt;/visible_bundle&gt;&lt;visible_guide&gt;true&lt;/visible_guide&gt;&lt;visible_standalone&gt;true&lt;/visible_standalone&gt;&lt;visible_summary&gt;true&lt;/visible_summary&gt;&lt;write_roles/&gt;&lt;/item_option_new&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=ecf15d1bdbc200109e101461399619d9"/&gt;&lt;fx_price action="delete_multiple" query="id=ecf15d1bdbc200109e101461399619d9"/&gt;&lt;fx_price action="INSERT_OR_UPDATE"&gt;&lt;amount&gt;0&lt;/amount&gt;&lt;currency display_value="USD"&gt;USD&lt;/currency&gt;&lt;field&gt;price_if_checked&lt;/field&gt;&lt;id&gt;ecf15d1bdbc200109e101461399619d9&lt;/id&gt;&lt;parent/&gt;&lt;reference_amount&gt;0&lt;/reference_amount&gt;&lt;reference_currency display_value="USD"&gt;USD&lt;/reference_currency&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-01-05 05:31:14&lt;/sys_created_on&gt;&lt;sys_id&gt;1ff3d59bdbc200109e101461399619d2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-01-05 05:31:14&lt;/sys_updated_on&gt;&lt;table&gt;item_option_new&lt;/table&gt;&lt;type&gt;calculated&lt;/type&gt;&lt;/fx_price&gt;&lt;fx_price action="INSERT_OR_UPDATE"&gt;&lt;amount&gt;0&lt;/amount&gt;&lt;currency display_value="USD"&gt;USD&lt;/currency&gt;&lt;field&gt;rec_price_if_checked&lt;/field&gt;&lt;id&gt;ecf15d1bdbc200109e101461399619d9&lt;/id&gt;&lt;parent/&gt;&lt;reference_amount&gt;0&lt;/reference_amount&gt;&lt;reference_currency display_value="USD"&gt;USD&lt;/reference_currency&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-01-05 05:31:14&lt;/sys_created_on&gt;&lt;sys_id&gt;1ff3d59bdbc200109e101461399619d1&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-01-05 05:31:14&lt;/sys_updated_on&gt;&lt;table&gt;item_option_new&lt;/table&gt;&lt;type&gt;calculated&lt;/type&gt;&lt;/fx_price&gt;&lt;/record_update&gt;</payload><payload_hash>1017512550</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>25b4ee43db3814109e10146139961984</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b51450000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Base similar record queries from these field names</target_name><type>Variable</type><update_domain>global</update_domain><update_guid>4054993a190784104e32aa44d03fd327</update_guid><update_guid_history>4054993a190784104e32aa44d03fd327:1017512550,7c71d176790784106f584ba8f2e40f87:-750181020,1151557665078410c8339ada03011127:353078029,ded0d93654078410b3fc5c2409be7f08:-750181020,cdc05936620784109832353df87f60ae:-985794131,6a609136f8078410b527f69be259b9a1:-280357517,bb64b0f640838410d49bc2125b6afbe3:-750181020,cf5438f674838410c8e2ce29b726d370:2103621145,d444f0f6b38384103b8f3052a4c91313:-1736434918,779378b665838410513c08e5abf29ba3:1727858217,f363b4b66b83841008f63253071c6938:-1977886291,ffff851d25de44105473c340796e2af9:-242516873,d87f051d44de44102c002dad65edfc84:238857613,9f7e6ddf30060010d1bb6af39cf7d341:1627515950,8d7ae19bd5060010100572b6ca517e18:1390459862,f358e15be206001001564f879ed37faa:372357876,333599db62c20010a294890df377a476:-1245656205,c3a411dbc6c20010f82458b5d7fe47e2:-940549011,c124999bd8c20010e7d77fc16a076a0a:-2145193137,53f3d59b20c2001089b61c1552aacad6:1897421703</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_app_module_0bee1129db9233001c4af53a2996197a</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_app_module"><sys_app_module action="INSERT_OR_UPDATE"><active>true</active><application display_value="Regress - ATF Recorder">0a931f6adbc233001c4af53a2996195f</application><assessment/><content_page/><device_type/><filter table="sys_atf_test_template">sys_scope=86935f2adbc233001c4af53a2996191f^EQ<item display_table="sys_scope" display_value="Regress - ATF Recorder" endquery="false" field="sys_scope" goto="false" newquery="false" operator="=" or="false" value="86935f2adbc233001c4af53a2996191f"/><item endquery="true" field="" goto="false" newquery="false" operator="=" or="false" value=""/></filter><hint/><homepage/><image/><link_type>LIST</link_type><map_page/><mobile_title>Test Templates</mobile_title><mobile_view_name>Mobile</mobile_view_name><name>sys_atf_test_template</name><order>20</order><override_menu_roles>false</override_menu_roles><query/><report/><roles/><sys_class_name>sys_app_module</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2019-06-27 09:54:42</sys_created_on><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>0bee1129db9233001c4af53a2996197a</sys_id><sys_mod_count>4</sys_mod_count><sys_name>Test Templates</sys_name><sys_overrides/><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>sys_app_module_0bee1129db9233001c4af53a2996197a</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-01-06 09:59:56</sys_updated_on><timeline_page/><title>Test Templates</title><uncancelable>false</uncancelable><view_name/><window_name/></sys_app_module></record_update>]]></payload><payload_hash>1491976588</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>29b46ec3db3814109e10146139961910</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4d7b0000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table>sys_atf_test_template</table><target_name>Test Templates</target_name><type>Module</type><update_domain>global</update_domain><update_guid>091b1f67ba464010efeeb743adee9536</update_guid><update_guid_history>091b1f67ba464010efeeb743adee9536:1491976588,11cd35ea4902c010c4197f2f23600eb2:452201293,417a149032000010c5f3e099be1e6f00:1122946286,752fd12957923300e1a24fdac2598b0b:-289314643,ea0f5de594923300f2dbb90e2fbec1ec:516963541</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_atf_test_template_bd95652cdbb10010f0a2f282399619b3</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_atf_test_template"><sys_atf_test_template action="INSERT_OR_UPDATE"><description>Used by Regress ATF Recorder on the first instance that a new record is recorded.</description><name>Regress ATF Recorder - New Record</name><sys_class_name>sys_atf_test_template</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2019-12-15 07:29:58</sys_created_on><sys_id>bd95652cdbb10010f0a2f282399619b3</sys_id><sys_mod_count>8</sys_mod_count><sys_name>Regress ATF Recorder - New Record</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>sys_atf_test_template_bd95652cdbb10010f0a2f282399619b3</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-01-12 04:50:55</sys_updated_on><template>071ee5b253331200040729cac2dc348d,05317cd10b10220050192f15d6673af8,d8fdf5e10b1022009cfdc71437673adc,fcae4a935332120028bc29cac2dc340e,1dfece935332120028bc29cac2dc3478,1b97cd31872022008182c9ded0e3ece5,323ca6e1c3b2220076173b0ac3d3aec1,33f637e8c3ba220076173b0ac3d3aee1,0f4a128297202200abe4bb7503ac4af0</template></sys_atf_test_template></record_update>]]></payload><payload_hash>-1318074623</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>29b46ec3db3814109e10146139961913</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4e1c0000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Regress ATF Recorder - New Record</target_name><type>Test Template</type><update_domain>global</update_domain><update_guid>f8ed49a157da84109f661171cdcce321</update_guid><update_guid_history>f8ed49a157da84109f661171cdcce321:-1318074623,f4e30d59cf9e4410b21fe6afbfabd322:457017243,0dc34199f89e441000c00fb1c20c95df:-948448679,81457d14c7d2c010feaef9087633af1b:-1246403780,10bc1fe76e4640106e780281cbf3d90e:1735875390,e568ec138d420010320056a6f0bc9530:1221930843,3e186cd3e5420010cec23d321cd51fc7:-27423501,5686c6da7a068010e112e82b54285d2b:698176904,6dc5292c67b100107b684f89c6d1a4ad:314275947</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_properties_ea510ee9db0410109e1014613996197a</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_properties"><sys_properties action="INSERT_OR_UPDATE"><choices/><description>Test template to use for Service Catalog item</description><ignore_cache>false</ignore_cache><is_private>false</is_private><name>regress.record.servicecatalog_cat_item_view</name><read_roles/><suffix/><sys_class_name>sys_properties</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-04-08 08:26:32</sys_created_on><sys_id>ea510ee9db0410109e1014613996197a</sys_id><sys_mod_count>2</sys_mod_count><sys_name>regress.record.servicecatalog_cat_item_view</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>sys_properties_ea510ee9db0410109e1014613996197a</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-04-08 08:27:21</sys_updated_on><type>string</type><value>05edf129db0410109e10146139961986</value><write_roles>admin</write_roles></sys_properties><sys_translated_text action="delete_multiple" query="documentkey=ea510ee9db0410109e1014613996197a"/></record_update>]]></payload><payload_hash>1163027227</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>29b46ec3db3814109e10146139961916</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b520c0000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>regress.record.servicecatalog_cat_item_view</target_name><type>System Property</type><update_domain>global</update_domain><update_guid>ccc14a2df4041010483bd432eecbca28</update_guid><update_guid_history>ccc14a2df4041010483bd432eecbca28:1163027227,06a1c22d29041010fda1e4b52797a83f:2125303077,8c91cee9f60410106fb47244611430ec:1045254256</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_script_include_33c630aedb8014109e1014613996192d</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;global.OrderCatalogueItemTestStepGenerator&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;OrderCatalogueItemTestStepGenerator&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var OrderCatalogueItemTestStepGenerator = Class.create();
OrderCatalogueItemTestStepGenerator.prototype = Object.extendsObject(TestStepGenerator, {

	generateTestStep: function() {
		//RegressATFRecordSessionv2.addTestStepMarker(this.regressionObject.catalogItem, this.grATFStep.getValue('sys_id'));
		
		TestStepGenerator.prototype.generateTestStep.call(this);
	},
	
    type: 'OrderCatalogueItemTestStepGenerator'
});]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-04-11 05:33:52&lt;/sys_created_on&gt;&lt;sys_id&gt;33c630aedb8014109e1014613996192d&lt;/sys_id&gt;&lt;sys_mod_count&gt;4&lt;/sys_mod_count&gt;&lt;sys_name&gt;OrderCatalogueItemTestStepGenerator&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_33c630aedb8014109e1014613996192d&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-13 06:15:11&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload><payload_hash>-76332857</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>29b46ec3db3814109e10146139961919</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b52550000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>OrderCatalogueItemTestStepGenerator</target_name><type>Script Include</type><update_domain>global</update_domain><update_guid>dc73d707754c94109086cdb1065fe35e</update_guid><update_guid_history>dc73d707754c94109086cdb1065fe35e:-76332857,391b38622ac0141044b1436f747a7786:900600567,df68b4ee6f8014109850bcc01b326ad5:-1763116870,c4e670aeef801410f4734a90cc1cc385:1982175116,3fc630ae328014109f1e1dd28414562f:227322166</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_script_include_d658c4c0db7633001c4af53a299619b4</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;global.SetFieldValuesTestStepGenerator&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;SetFieldValuesTestStepGenerator&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var SetFieldValuesTestStepGenerator = Class.create();
SetFieldValuesTestStepGenerator.prototype = Object.extendsObject(TestStepGenerator, {

	generateTestStep: function() {
		if ( gs.nil(this.regressionObject.populatedFieldValues) ) {
			this.grATFStep.deleteRecord();
		} else {
			this.grATFStep.inputs['field_values'] = this.regressionObject.populatedFieldValues.toString();
			this.grATFStep.notes = 'The fields populated by the user during recording.';
			TestStepGenerator.prototype.generateTestStep.call(this);
		}
	},
	
    type: 'SetFieldValuesTestStepGenerator'
});]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-07-17 08:16:54&lt;/sys_created_on&gt;&lt;sys_id&gt;d658c4c0db7633001c4af53a299619b4&lt;/sys_id&gt;&lt;sys_mod_count&gt;16&lt;/sys_mod_count&gt;&lt;sys_name&gt;SetFieldValuesTestStepGenerator&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_d658c4c0db7633001c4af53a299619b4&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-01-05 02:33:06&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload><payload_hash>-92175252</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>29b46ec3db3814109e1014613996191c</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4d350000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>SetFieldValuesTestStepGenerator</target_name><type>Script Include</type><update_domain>global</update_domain><update_guid>753be497e942001073249217985831fd</update_guid><update_guid_history>753be497e942001073249217985831fd:1857539159,7fde98572b020010650fe5e137210990:2087520806,a93dc3a6ae46c010b88a119eccd9399e:-1199434784,62fa03261946c0105c475f9fb6a76d36:-1470590834,a18fee6a7dc2c01050e0c79a201e91c0:685330725,f9e96a9e5586801004369bda6d6099d7:499778455,228e8c53a1733300906892bc7f6db9ca:-1618957739,5cac48531c733300b8611ffe3aae6562:1186261513,37b91ed177b373003af9e3a967c51a13:-1618957739,91852fdbb1323300590249e1c65e574e:-1396368185,80279d944c323300a210c18d9439355d:356333356,b6d6d994803233001af39a229fba4520:1534665332,d4f3ddd0f4323300445401b9cd1274e7:620435166,a54e00483a763300caff672f1b32f421:1259841386,428b4884d9763300d82458e18ffd5aba:-1861577126,1c6ac8442076330020c082622fa64d48:-571799181,cd784404c4763300834aa5521ae8e993:1274565434</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_ui_application_ae931f6adbc233001c4af53a299619f8</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_ui_application"><sys_ui_application action="INSERT_OR_UPDATE"><active>true</active><hint/><name>Regress</name><order/><roles>regress_user</roles><sys_class_name>sys_ui_application</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2019-06-18 10:42:12</sys_created_on><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>ae931f6adbc233001c4af53a299619f8</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Regress</sys_name><sys_overrides/><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>sys_ui_application_ae931f6adbc233001c4af53a299619f8</sys_update_name><sys_updated_by>admin</sys_updated_by><sys_updated_on>2019-06-18 10:42:12</sys_updated_on></sys_ui_application></record_update>]]></payload><payload_hash>952745511</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>29b46ec3db3814109e1014613996191d</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4c830000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Regress</target_name><type>Application Menu</type><update_domain>global</update_domain><update_guid>e2931f6ac6c23300b5dc1ae9c4c885fa</update_guid><update_guid_history>e2931f6ac6c23300b5dc1ae9c4c885fa:2111028157</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>catalog_script_client_a2751549db1494109e101461399619d5</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="catalog_script_client"&gt;&lt;catalog_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_catalog&gt;true&lt;/applies_catalog&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;applies_req_item&gt;false&lt;/applies_req_item&gt;&lt;applies_sc_task&gt;false&lt;/applies_sc_task&gt;&lt;applies_target_record&gt;false&lt;/applies_target_record&gt;&lt;applies_to&gt;set&lt;/applies_to&gt;&lt;cat_item/&gt;&lt;cat_variable/&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field/&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;Regress load (SP)&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onLoad() {

	var ga = new GlideAjax('RegressATFRecordSessionv2Ajax');
	ga.addParam('sysparm_name','canRecordForServicePortal');
	ga.setErrorCallback(handleCallbackError);
	ga.getXMLAnswer(canRecordTableCallback);	
}

// SP does not support jslog
function jslog(msg) {
	console.log(msg);
}

function handleCallbackError(req) {
	jslog('Regress Error: ' + req.type + ": " + req.respnseText);
}

function canRecordTableCallback(xmlAnswer) {
	try {
		var regressDetails = JSON.parse(xmlAnswer);
		jslog(regressDetails);
		if (regressDetails.isRecording == true) {
			// Regress scripts are already loaded in SP
			runRegressUI();		
			g_form.addInfoMessage(regressDetails.recordingMsg);
		} else {
			jslog("Regress is not recording or is not enabled for this table.");
		}
	} catch(e) {
		jslog("Regress UI Error: " + e);
	}
}

function runRegressUI() {
	// Added delay to wait for UI Policies to run first
	jslog('Waiting 1500 ms for UI Policies to execute');
	setTimeout(captureInitialFormState,1000);

} 

function captureInitialFormState() {
	jslog(g_form);
	try {
		if (typeof regress !== 'undefined') {
			jslog('Capturing initial form state after delay');
			regress.reg_form.setGlideForm(g_form);
			regress.reg_form.setGlideUser(g_user);
			regress.reg_form.runRegressUI();
		}
	} catch (e) {
		g_form.addErrorMessage('RegressUI Error: ' + e);		
	}
}

]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;catalog_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-04-19 02:12:41&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;a2751549db1494109e101461399619d5&lt;/sys_id&gt;&lt;sys_mod_count&gt;20&lt;/sys_mod_count&gt;&lt;sys_name&gt;Regress load (SP)&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;catalog_script_client_a2751549db1494109e101461399619d5&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-25 04:03:21&lt;/sys_updated_on&gt;&lt;table/&gt;&lt;type&gt;onLoad&lt;/type&gt;&lt;ui_type&gt;1&lt;/ui_type&gt;&lt;variable_set display_value="Regress Item Recorder"&gt;6df85e0ddb7f00109e101461399619f6&lt;/variable_set&gt;&lt;view/&gt;&lt;/catalog_script_client&gt;&lt;/record_update&gt;</payload><payload_hash>493139968</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>29b4ee43db3814109e10146139961980</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b52c00000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Regress load (SP)</target_name><type>Catalog Client Scripts</type><update_domain>global</update_domain><update_guid>4658200767949c10b9fccb06cf1bc63a</update_guid><update_guid_history>4658200767949c10b9fccb06cf1bc63a:493139968,0eb6180f17d09c10fe4b1248502b1d10:-1696087178,2155d88beed09c10155e406b1c82fa84:1066292975,140421c9e45494105be7eff1067b9c2a:493139968,3f53ad4911549410c01f1cc579259a39:-2087673152,0692658909549410e3ffad54d5de5a4b:493139968,579021098e549410a673c0a91b754a92:-1203091606,94dd5505175494101fae3112de50bb80:1798915344,54bd190550549410949eaf2b911c571d:-710172409,647d5dc1a554941020a398e0f9c9dc2c:1325524147,da5d1dc1e7549410ebd764a4ebc7c479:1236635666,482d95c112549410291be545d2a62337:-910414602,81ecd5c181549410910fbea3c0563cb0:756483062,5b7bd141705494105f4dc952c8335ff5:1826810569,b02b19017b5494105e2a70c371efce06:2074724241,30bad1cd6d149410757812e6096bb8f2:-1890443588,c21a1d8d361494109345cae7c5947f07:-93355804,680ad1cd251494103c7d54bcb220cdd7:1195819932,2cc9198da4149410836ec546d5ffe753:-1963248566,c7f751c94a149410bd15665f734bcdaa:-723279141,26751549ea1494109986dcdb875c73d7:-206780793</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>item_option_new_613d13eadb86c0109e1014613996198d</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="item_option_new"&gt;&lt;item_option_new action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;attributes/&gt;&lt;cat_item display_value="Regress Properties"&gt;e194ce26db42c0109e10146139961954&lt;/cat_item&gt;&lt;category/&gt;&lt;choice_direction&gt;down&lt;/choice_direction&gt;&lt;choice_field/&gt;&lt;choice_table/&gt;&lt;create_roles/&gt;&lt;default_html_value/&gt;&lt;default_value&gt;javascript:gs.getProperty('regress.regression.level','simple');&lt;/default_value&gt;&lt;delete_roles/&gt;&lt;delivery_plan/&gt;&lt;description/&gt;&lt;display_title&gt;false&lt;/display_title&gt;&lt;do_not_select_first&gt;false&lt;/do_not_select_first&gt;&lt;dynamic_default_value/&gt;&lt;dynamic_ref_qual/&gt;&lt;example_text/&gt;&lt;field/&gt;&lt;global&gt;false&lt;/global&gt;&lt;help_tag&gt;More information&lt;/help_tag&gt;&lt;help_text/&gt;&lt;include_none&gt;false&lt;/include_none&gt;&lt;instructions&gt;&lt;![CDATA[&lt;p&gt;&lt;strong&gt;Actions only: &lt;/strong&gt;Ignores all field state and visibility checks and only records actions taken.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Simple: &lt;/strong&gt;Records only some form changes. Use to create simple Regression Tests. These Tests will execute faster than Exhaustive.&lt;/p&gt;
&lt;ul style="list-style-position: inside;"&gt;&lt;li&gt;Field State will only be check for Hidden, Read only and Mandatory fields&lt;/li&gt;&lt;li&gt;UI Action Visibility will only check for UI Actions that are visible&lt;/li&gt;&lt;li&gt;No Field Value validation&lt;/li&gt;&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Exhaustive: &lt;/strong&gt;Records all form changes. Use for full regression testing. Tests will take longer to complete.&lt;/p&gt;
&lt;ul style="list-style-position: inside;"&gt;&lt;li&gt;Field State checks for Visible, Optional and Editable fields&lt;/li&gt;&lt;li&gt;UI Action Visibility checks for all possible UI Actions that are hidden including inactive &amp;amp; Global&lt;/li&gt;&lt;li&gt;Field Value validation checks all fields changed by Scripts&lt;/li&gt;&lt;/ul&gt;]]&gt;&lt;/instructions&gt;&lt;layout&gt;normal&lt;/layout&gt;&lt;list_table/&gt;&lt;lookup_label/&gt;&lt;lookup_price/&gt;&lt;lookup_table/&gt;&lt;lookup_unique&gt;false&lt;/lookup_unique&gt;&lt;lookup_value/&gt;&lt;macro/&gt;&lt;mandatory&gt;true&lt;/mandatory&gt;&lt;map_to_field&gt;false&lt;/map_to_field&gt;&lt;mask_use_confirmation&gt;false&lt;/mask_use_confirmation&gt;&lt;mask_use_encryption&gt;false&lt;/mask_use_encryption&gt;&lt;name&gt;regression_level&lt;/name&gt;&lt;order&gt;25&lt;/order&gt;&lt;price_if_checked&gt;0&lt;/price_if_checked&gt;&lt;pricing_implications&gt;false&lt;/pricing_implications&gt;&lt;question_text&gt;Recording capture level&lt;/question_text&gt;&lt;read_roles/&gt;&lt;rec_lookup_price/&gt;&lt;rec_price_if_checked&gt;0&lt;/rec_price_if_checked&gt;&lt;record/&gt;&lt;record_producer_table&gt;global&lt;/record_producer_table&gt;&lt;reference/&gt;&lt;reference_qual/&gt;&lt;reference_qual_condition/&gt;&lt;scale_max&gt;5&lt;/scale_max&gt;&lt;scale_min&gt;0&lt;/scale_min&gt;&lt;show_help&gt;true&lt;/show_help&gt;&lt;show_help_on_load&gt;false&lt;/show_help_on_load&gt;&lt;sp_widget/&gt;&lt;summary_macro/&gt;&lt;sys_class_name&gt;item_option_new&lt;/sys_class_name&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-01-03 07:36:30&lt;/sys_created_on&gt;&lt;sys_id&gt;613d13eadb86c0109e1014613996198d&lt;/sys_id&gt;&lt;sys_mod_count&gt;10&lt;/sys_mod_count&gt;&lt;sys_name&gt;Recording capture level&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;item_option_new_613d13eadb86c0109e1014613996198d&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-05 10:03:43&lt;/sys_updated_on&gt;&lt;table/&gt;&lt;tooltip/&gt;&lt;type&gt;3&lt;/type&gt;&lt;ui_page/&gt;&lt;use_dynamic_default&gt;false&lt;/use_dynamic_default&gt;&lt;use_reference_qualifier&gt;advanced&lt;/use_reference_qualifier&gt;&lt;validate_regex/&gt;&lt;variable_name/&gt;&lt;variable_set/&gt;&lt;variable_width/&gt;&lt;visibility&gt;1&lt;/visibility&gt;&lt;visible_bundle&gt;true&lt;/visible_bundle&gt;&lt;visible_guide&gt;true&lt;/visible_guide&gt;&lt;visible_standalone&gt;true&lt;/visible_standalone&gt;&lt;visible_summary&gt;true&lt;/visible_summary&gt;&lt;write_roles&gt;regress_user&lt;/write_roles&gt;&lt;/item_option_new&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=613d13eadb86c0109e1014613996198d"/&gt;&lt;fx_price action="delete_multiple" query="id=613d13eadb86c0109e1014613996198d"/&gt;&lt;fx_price action="INSERT_OR_UPDATE"&gt;&lt;amount&gt;0&lt;/amount&gt;&lt;currency display_value="USD"&gt;USD&lt;/currency&gt;&lt;field&gt;price_if_checked&lt;/field&gt;&lt;id&gt;613d13eadb86c0109e1014613996198d&lt;/id&gt;&lt;parent/&gt;&lt;reference_amount&gt;0&lt;/reference_amount&gt;&lt;reference_currency display_value="USD"&gt;USD&lt;/reference_currency&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-01-03 07:36:31&lt;/sys_created_on&gt;&lt;sys_id&gt;877d17eadb86c0109e1014613996190c&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-01-03 07:36:31&lt;/sys_updated_on&gt;&lt;table&gt;item_option_new&lt;/table&gt;&lt;type&gt;calculated&lt;/type&gt;&lt;/fx_price&gt;&lt;fx_price action="INSERT_OR_UPDATE"&gt;&lt;amount&gt;0&lt;/amount&gt;&lt;currency display_value="USD"&gt;USD&lt;/currency&gt;&lt;field&gt;rec_price_if_checked&lt;/field&gt;&lt;id&gt;613d13eadb86c0109e1014613996198d&lt;/id&gt;&lt;parent/&gt;&lt;reference_amount&gt;0&lt;/reference_amount&gt;&lt;reference_currency display_value="USD"&gt;USD&lt;/reference_currency&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-01-03 07:36:31&lt;/sys_created_on&gt;&lt;sys_id&gt;037d17eadb86c0109e1014613996190b&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-01-03 07:36:31&lt;/sys_updated_on&gt;&lt;table&gt;item_option_new&lt;/table&gt;&lt;type&gt;calculated&lt;/type&gt;&lt;/fx_price&gt;&lt;/record_update&gt;</payload><payload_hash>-148707283</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>29b4ee43db3814109e10146139961983</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b556d0000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Recording capture level</target_name><type>Variable</type><update_domain>global</update_domain><update_guid>62ba919690ec581082e0f4160cc84ddb</update_guid><update_guid_history>62ba919690ec581082e0f4160cc84ddb:-148707283,f5f5b41d325e4410c196ea8424e1cc14:-1480517819,88e5fcd9245e44109ea43107c5ddfa5e:-16980351,e0ed29dffe060010e2926c2a06599783:926426007,036da81bf942001001b8fe91e63549a0:-1919413128,33ec2cd7c1420010f36c2697c845eb81:-1500048093,0cbc64d7854200100e10f232124a92a5:1089194569,b60e5feaa386c0100ebb4f1dd26d4ea0:-1957392272,05ed93eafa86c010d3a52e5c7f3347a1:-161566684,e4cd1bea0986c0107876c739c4e2467a:-1548635537,c77d17eacd86c010b849509c464c570f:1736957865</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>question_choice_fd9ddbaadb86c0109e10146139961982</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="question_choice"><question_choice action="INSERT_OR_UPDATE"><misc>0</misc><order>200</order><question display_value="Recording capture level">613d13eadb86c0109e1014613996198d</question><rec_misc>0</rec_misc><sys_class_name>question_choice</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-01-03 07:37:07</sys_created_on><sys_id>fd9ddbaadb86c0109e10146139961982</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Exhaustive</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>question_choice_fd9ddbaadb86c0109e10146139961982</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-01-03 07:37:07</sys_updated_on><text>Exhaustive</text><value>exhaustive</value></question_choice><fx_price action="delete_multiple" query="id=fd9ddbaadb86c0109e10146139961982"/><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>misc</field><id>fd9ddbaadb86c0109e10146139961982</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-01-03 07:37:07</sys_created_on><sys_id>bf9d57eadb86c0109e10146139961991</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-01-03 07:37:07</sys_updated_on><table>question_choice</table><type>calculated</type></fx_price><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>rec_misc</field><id>fd9ddbaadb86c0109e10146139961982</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-01-03 07:37:07</sys_created_on><sys_id>779d57eadb86c0109e10146139961991</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-01-03 07:37:07</sys_updated_on><table>question_choice</table><type>calculated</type></fx_price></record_update>]]></payload><payload_hash>-363160425</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>2db46ec3db3814109e1014613996190f</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4d270000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Exhaustive</target_name><type>Question Choice</type><update_domain>global</update_domain><update_guid>f39d57ea9a86c010d913f2802d3f4a93</update_guid><update_guid_history>f39d57ea9a86c010d913f2802d3f4a93:-1920169471</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_atf_test_template_05edf129db0410109e10146139961986</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_atf_test_template"><sys_atf_test_template action="INSERT_OR_UPDATE"><description>Used by Regress ATF Recorder for ordering an item via the Service Catalog form.</description><name>Regress ATF Recorder - Service Cat</name><sys_class_name>sys_atf_test_template</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-04-08 08:10:43</sys_created_on><sys_id>05edf129db0410109e10146139961986</sys_id><sys_mod_count>7</sys_mod_count><sys_name>Regress ATF Recorder - Service Cat</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>sys_atf_test_template_05edf129db0410109e10146139961986</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-04-27 06:32:06</sys_updated_on><template>071ee5b253331200040729cac2dc348d,2516c0e1c332220076173b0ac3d3ae39,323ca6e1c3b2220076173b0ac3d3aec1,33f637e8c3ba220076173b0ac3d3aee1,c930b4b2c310320076173b0ac3d3aeec</template></sys_atf_test_template></record_update>]]></payload><payload_hash>-554037793</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>2db46ec3db3814109e10146139961912</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b537b0000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Regress ATF Recorder - Service Cat</target_name><type>Test Template</type><update_domain>global</update_domain><update_guid>789d1767b8d09010037f401505892c3e</update_guid><update_guid_history>789d1767b8d09010037f401505892c3e:-554037793,ad689421b890181043c2179fb784150c:1315335807,67b71ced6b5018101ecef7e8a8c7c8a5:1870772153,0617e6b7e0c45010f47946949d301c60:-1668050625,9405ece650401410ca233c863e615c1a:-1855503091,2edefda5050410100d6801f22c68935b:1465388403,3d3e31e55604101006a993995a73f1cb:-451182972,08fd35a5a3041010b92cfc0211f61254:554312577</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_properties_b85ad62adb82c0109e1014613996190e</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_properties"><sys_properties action="INSERT_OR_UPDATE"><choices/><description/><ignore_cache>false</ignore_cache><is_private>false</is_private><name>regress.record.action.template</name><read_roles/><suffix/><sys_class_name>sys_properties</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-01-03 02:43:05</sys_created_on><sys_id>b85ad62adb82c0109e1014613996190e</sys_id><sys_mod_count>3</sys_mod_count><sys_name>regress.record.action.template</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>sys_properties_b85ad62adb82c0109e1014613996190e</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-02-08 08:34:24</sys_updated_on><type>string</type><value>d1985d6cdb710010f0a2f282399619eb</value><write_roles>regress_user</write_roles></sys_properties><sys_translated_text action="delete_multiple" query="documentkey=b85ad62adb82c0109e1014613996190e"/></record_update>]]></payload><payload_hash>314953521</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>2db46ec3db3814109e10146139961915</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4f380000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>regress.record.action.template</target_name><type>System Property</type><update_domain>global</update_domain><update_guid>12f3cd5e43768810891dea112b02770b</update_guid><update_guid_history>12f3cd5e43768810891dea112b02770b:314953521,c41a0545f53e84103605b0862495a613:-1515715360,ab5a162a3c82c010f4997112f681f85d:314953521,495a5a2a0182c0100de6995e340071ea:1131168929</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_script_include_1cdaf3bcdb3333001c4af53a299619a2</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;active&gt;false&lt;/active&gt;&lt;api_name&gt;global.CatalogueItemRegression&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description&gt;Decided not to go down this path&lt;/description&gt;&lt;name&gt;CatalogueItemRegression&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var CatalogueItemRegression = Class.create();
CatalogueItemRegression.prototype = Object.extendsObject(RegressionObject, {

	initialize: function(gr) {
		RegressionObject.prototype.initialize.call(this,gr);
		
		this.variableValues = this.getVariableValues(gr);
		this.catalogItem = gr.cat_item;
		
	},
	
	// Does not support multi row variable sets
	getVariableValues: function(gr) {
		var variableValues = "";
		var queries = [];
		var variables = gr.variables.getElements(); 
		
		for (var i=0;i&lt;variables.length;i++) { 
			var question = variables[i].getQuestion(); 
			var query = gs.getMessage("IO:{0}={1}",[question.id, question.value]);
		    queries.push(query);
		} 

		variableValues = queries.join("^") + "^EQ";
		
		return variableValues;
	},
	
	getVariableUIPolicy:function() {

		// TODO
		// Get all policies for variable sets
		var builder = new CatalogUIPolicyBuilder();
		var grUIPolicies = this.getUIPoliciesForCatalogItem();
		builder.process(grUIPolicies);
		this.processUIPolicies(builder);
		// Check condition againt reg item
		// if onchange, only process if our reg variables are included
		// This should be possible by changing IO: to variables and checking against reg record using .checkRecord()
		// Add variables to field state arrays
		// To the opposite if reverse if false
		// Add logic for variable state field test step
		// variable is stored as sys_id of variable
		// Reference CatalogUIPolicyBuilder, GlideQueryString, UIPolicyBuilder, GlideFilter
		
	},
	
	getUIPoliciesForCatalogItem: function() {
		var gr = new GlideRecordSecure('catalog_ui_policy');
		gr.addActiveQuery();
		gr.addQuery('applies_to', 'item');
		gr.addQuery('catalog_item', this.catalogItem);
		gr.addQuery('applies_catalog', true);
		gr.orderBy('order');
		gr.query();	
	},
	
	processUIPolicies: function(builder) {
		
		for (var i = 0; i != builder.uiPolicy.fieldPolicies.length; i++) {
			var conditions = builder.uiPolicy.fieldPolicies[i].conditions;
			for (var j = 0; j != conditions.length; j++) {
				var condition = conditions[j];
				condition.type = "__preevaluated__";
				var f = new GlideFilter(condition.term, "UI Policy Filter");
				condition.value = f.match(gr, true);
				
			}
		}	
	},
	
	type: 'CatalogueItemRegression'
});]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-09-08 02:54:03&lt;/sys_created_on&gt;&lt;sys_id&gt;1cdaf3bcdb3333001c4af53a299619a2&lt;/sys_id&gt;&lt;sys_mod_count&gt;12&lt;/sys_mod_count&gt;&lt;sys_name&gt;CatalogueItemRegression&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_1cdaf3bcdb3333001c4af53a299619a2&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-01-11 08:30:02&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload><payload_hash>1651937019</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>2db46ec3db3814109e10146139961918</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4de30000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>CatalogueItemRegression</target_name><type>Script Include</type><update_domain>global</update_domain><update_guid>3076f81d565e44103f728a0525cf77f6</update_guid><update_guid_history>3076f81d565e44103f728a0525cf77f6:-148060442,5ea53cd99c5e4410b85ca60c47f4cc0d:-1305118033,ec51799f8277330041f5ae70e891f7af:1188758504,3d40b51f9d77330026b958f31b238541:1015152021,a4dd3c5bfbf333006748a9fe4f749dd0:-76020628,613afc57a3f333007f1c6d6e147e33c3:1431413582,4349709768f3330074ab65088f3cfcc5:958205475,ef0bd69594b3730010568b2674c20957:977416789,d508de9170b373005268f8a91ace0bf8:-1812847992,de661291bbb37300b1c79385f7eda0cd:386455814,29abfbbc8533330058fdb99139d18610:1308187139,27fabff89a3333003c38487776aeb957:-1716960979,94daf3bc8f33330059391f63466fe7a5:71399161</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_script_include_b8c5dca2db0014109e10146139961926</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;public&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;global.CreateUserTestStepGenerator&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;CreateUserTestStepGenerator&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var CreateUserTestStepGenerator = Class.create();
CreateUserTestStepGenerator.prototype = Object.extendsObject(TestStepGenerator, {

	generateTestStep: function() {
		
		// If test recording user has not changed, there is no need for impersonation step
		if (RegressATFRecordSessionv2.hasRecordingUserChanged()) {
			var currentUser = gs.getUser();
			this.grATFStep.inputs['first_name'] = currentUser.firstName;
			this.grATFStep.inputs['last_name'] = currentUser.lastName;
			// Methods below return a JavaObject, must be converted to string for glidelist field
			this.grATFStep.inputs['roles'] = currentUser.getRoles().toArray().join(",");
			this.grATFStep.inputs['groups'] = currentUser.getMyGroups().toArray().join(","); 
			this.grATFStep.notes = "Temporary user based on " + currentUser.getDisplayName() + " [" + currentUser.getID() + "]";
			//Impersonate defaults to true
			TestStepGenerator.prototype.generateTestStep.call(this);
		} else {
			this.grATFStep.deleteRecord();
		}
	},
	
    type: 'CreateUserTestStepGenerator'
});]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-04-11 03:09:30&lt;/sys_created_on&gt;&lt;sys_id&gt;b8c5dca2db0014109e10146139961926&lt;/sys_id&gt;&lt;sys_mod_count&gt;5&lt;/sys_mod_count&gt;&lt;sys_name&gt;CreateUserTestStepGenerator&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_b8c5dca2db0014109e10146139961926&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-11 03:24:44&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload><payload_hash>-571990497</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>2db46ec3db3814109e1014613996191b</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b52260000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>CreateUserTestStepGenerator</target_name><type>Script Include</type><update_domain>global</update_domain><update_guid>c049d4e60b001410f915cfe746d2472d</update_guid><update_guid_history>c049d4e60b001410f915cfe746d2472d:-571990497,95f8dca6a1001410a3c120601b1e6d34:204497447,c2381066c4001410888f0b88c22016b5:-1084569259,5c18d0a66f001410df4cb55570b94f58:-1567948758,eba71ce25300141005015aecd8b0b9e5:-511445974,34c51ce212001410fbf93f20dfaf1b86:127587708</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>item_option_new_170d96aadb82c0109e101461399619b8</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="item_option_new"><item_option_new action="INSERT_OR_UPDATE"><active>true</active><attributes/><cat_item display_value="Regress Properties">e194ce26db42c0109e10146139961954</cat_item><category/><choice_direction>down</choice_direction><choice_field/><choice_table/><create_roles/><default_html_value/><default_value>javascript:gs.getProperty('regress.new.record.existing.template',''); </default_value><delete_roles/><delivery_plan/><description/><display_title>false</display_title><do_not_select_first>false</do_not_select_first><dynamic_default_value/><dynamic_ref_qual/><example_text/><field/><global>false</global><help_tag>More information</help_tag><help_text/><include_none>false</include_none><instructions/><layout>normal</layout><list_table/><lookup_label/><lookup_price/><lookup_table/><lookup_unique>false</lookup_unique><lookup_value/><macro/><mandatory>false</mandatory><map_to_field>false</map_to_field><mask_use_confirmation>false</mask_use_confirmation><mask_use_encryption>false</mask_use_encryption><name>test_template_for_existing_record</name><order>200</order><price_if_checked>0</price_if_checked><pricing_implications>false</pricing_implications><question_text>Test Template for Existing Record</question_text><read_roles/><rec_lookup_price/><rec_price_if_checked>0</rec_price_if_checked><record/><record_producer_table>global</record_producer_table><reference>sys_atf_test_template</reference><reference_qual/><reference_qual_condition/><scale_max>5</scale_max><scale_min>0</scale_min><show_help>false</show_help><show_help_on_load>false</show_help_on_load><sp_widget/><summary_macro/><sys_class_name>item_option_new</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-01-03 02:55:00</sys_created_on><sys_id>170d96aadb82c0109e101461399619b8</sys_id><sys_mod_count>3</sys_mod_count><sys_name>Test Template for Existing Record</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>item_option_new_170d96aadb82c0109e101461399619b8</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-02-08 08:37:08</sys_updated_on><table/><tooltip/><type>8</type><ui_page/><use_dynamic_default>false</use_dynamic_default><use_reference_qualifier>simple</use_reference_qualifier><validate_regex/><variable_name/><variable_set/><variable_width/><visibility>1</visibility><visible_bundle>true</visible_bundle><visible_guide>true</visible_guide><visible_standalone>true</visible_standalone><visible_summary>true</visible_summary><write_roles/></item_option_new><sys_translated_text action="delete_multiple" query="documentkey=170d96aadb82c0109e101461399619b8"/><fx_price action="delete_multiple" query="id=170d96aadb82c0109e101461399619b8"/><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>price_if_checked</field><id>170d96aadb82c0109e101461399619b8</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-01-03 02:55:00</sys_created_on><sys_id>130d12eadb82c0109e101461399619b0</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-01-03 02:55:00</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>rec_price_if_checked</field><id>170d96aadb82c0109e101461399619b8</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-01-03 02:55:00</sys_created_on><sys_id>d70d12eadb82c0109e101461399619af</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-01-03 02:55:00</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price></record_update>]]></payload><payload_hash>2053035305</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>2db4ee43db3814109e10146139961982</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4f980000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Test Template for Existing Record</target_name><type>Variable</type><update_domain>global</update_domain><update_guid>3194c99eb57688106167e73070e82eaa</update_guid><update_guid_history>3194c99eb57688106167e73070e82eaa:2053035305,daffc51d49de441074dd39ef38dbca74:-1391560852,a45d52ea6c82c01039e9165a942ed4e1:-644258337,9f0d12ea3482c0102235df64acc2e4b2:-1235923756</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_app_module_51e59daddb5233001c4af53a299619b4</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_app_module"><sys_app_module action="INSERT_OR_UPDATE"><active>true</active><application display_value="Regress - ATF Recorder">0a931f6adbc233001c4af53a2996195f</application><assessment/><content_page/><device_type/><filter table="sys_atf_test">active=true^nameSTARTSWITHRegress Test^EQ<item endquery="false" field="active" goto="false" newquery="false" operator="=" or="false" value="true"/><item endquery="false" field="name" goto="false" newquery="false" operator="STARTSWITH" or="false" value="Regress Test"/><item endquery="true" field="" goto="false" newquery="false" operator="=" or="false" value=""/></filter><hint/><homepage/><image/><link_type>LIST</link_type><map_page/><mobile_title>Generated Tests</mobile_title><mobile_view_name>Mobile</mobile_view_name><name>sys_atf_test</name><order>10</order><override_menu_roles>false</override_menu_roles><query>^GROUPBYsys_created_by</query><report/><roles>regress_user</roles><sys_class_name>sys_app_module</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2019-06-27 09:15:45</sys_created_on><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>51e59daddb5233001c4af53a299619b4</sys_id><sys_mod_count>11</sys_mod_count><sys_name>All Generated Tests</sys_name><sys_overrides/><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>sys_app_module_51e59daddb5233001c4af53a299619b4</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-04-27 05:40:08</sys_updated_on><timeline_page/><title>All Generated Tests</title><uncancelable>false</uncancelable><view_name/><window_name/></sys_app_module></record_update>]]></payload><payload_hash>-1300582107</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>61b46ec3db3814109e10146139961911</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b530f0000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table>sys_atf_test</table><target_name>All Generated Tests</target_name><type>Module</type><update_domain>global</update_domain><update_guid>1ba1976330909010f9adb556da21feac</update_guid><update_guid_history>1ba1976330909010f9adb556da21feac:-1300582107,f161df2387909010983f8b8cd13ec23e:1492664811,19119723d39090105214e9ebee10c684:-2109354636,6af09723f29090108c0b6cf4edfd897e:-1300582107,e9c05323f59090108a8cb20935402cee:-350699097,8e016e3479e64010f7257f3086396a04:1709302267,ba5cd630f3e64010337bb53dcf59555a:357742012,f0af8dabba5600107f1c9947ba3f35b0:-903600978,1a0bd3a7f44640106aff20838c16487d:623785039,5f8d31eadb02c0109014622e60400002:-1764400539,24bad525d89233002a0b21b9634a621b:-1521178323,80265dadab52330001a578173a354798:-284485334</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_processor_2e69b1e6db02c0109e1014613996190e</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_processor"&gt;&lt;sys_processor action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;class_name/&gt;&lt;description/&gt;&lt;interactive&gt;false&lt;/interactive&gt;&lt;name&gt;Show Recording Session Details&lt;/name&gt;&lt;parameters/&gt;&lt;params_endpoint/&gt;&lt;path&gt;showRecordingSessionDetails&lt;/path&gt;&lt;path_endpoint/&gt;&lt;require_csrf&gt;false&lt;/require_csrf&gt;&lt;roles&gt;snc_internal&lt;/roles&gt;&lt;script&gt;&lt;![CDATA[(function process(g_request, g_response, g_processor) {
	var response=[];
	var sessionDetails = RegressATFRecordSessionv2.getSessionDetails();
	

	showDetails(sessionDetails);
	
	function showDetails(obj) {

		for (var d in obj) {
			if (!gs.nil(obj[d])) {
				if (d == "testRecordMarkers" || obj[d].toString() == "[object Object]") {
					showDetails(obj[d]);
				} else {
					response.push( "&lt;b&gt;" + d +"&lt;/b&gt;:" + obj[d]);
				}
			}
		}
	}
	
	g_processor.setContentType("text/html;charset=UTF-8");
	g_processor.writeOutput("&lt;h1&gt;Regress Recording Session Details&lt;/h1&gt;" + response.join("&lt;br/&gt;"));
	
})(g_request, g_response, g_processor);

]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_processor&lt;/sys_class_name&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-01-03 00:19:18&lt;/sys_created_on&gt;&lt;sys_id&gt;2e69b1e6db02c0109e1014613996190e&lt;/sys_id&gt;&lt;sys_mod_count&gt;24&lt;/sys_mod_count&gt;&lt;sys_name&gt;Show Recording Session Details&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_processor_2e69b1e6db02c0109e1014613996190e&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-08 10:47:47&lt;/sys_updated_on&gt;&lt;type&gt;script&lt;/type&gt;&lt;/sys_processor&gt;&lt;/record_update&gt;</payload><payload_hash>1106454413</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>61b46ec3db3814109e10146139961914</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4fe90000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Show Recording Session Details</target_name><type>Processor</type><update_domain>global</update_domain><update_guid>fb72e5d6bbf688108be1a8a9b3a761c8</update_guid><update_guid_history>fb72e5d6bbf688108be1a8a9b3a761c8:1106454413,3bd1ad968ef68810e0e7c090c915e7b4:1564622124,f110b8b635220010d479e80c59d00bc9:-122351172,ce7fa8b686220010c13dcc720189dbb7:1132055050,283fe8b6e82200101d64d177f18c41ab:-200414906,ae1f60b6402200107e21cd8459a8f6d1:1510113141,6701cf41536680109c0e923f7d0d4939:-904290985,57c083417b668010b11cdd8dc31ab3b7:-1078506715,d4904341f866801030ca11016271115b:1891321433,61608741bf6680104c06145d09e09625:1050256063,b420cf011b668010c0eb78d1acb61853:-853775310,55000341c6668010640d5890c642cdd9:-254481840,c5ff7e01af66801005f5beb3acaee231:-1713297424,52ef7e01b2668010383bbc45c76d3f2d:1940958672,47bf3a010d6680106a9c209872aa20c4:-2057684432,808f3a01bd668010e71a024ba91a535d:-483093265,1c4f7acd4f2680108f28adfbfb42b510:685116287,403f7201b5668010dde46568a2af10e7:-650433985,342cb96a4f02c010c07010ec3574ca2c:448385702,bc1c792a2c02c010449787db3674fa63:4239558,047b316a8e02c010af4911846edb6678:-331995673,ae5bbd2a1802c010f40c879ec2324830:-881627595,50dab12aa602c0101ac5a0342e55005f:-323497173,197939e67402c01063f90972c3cbfd05:-1423743426,6269b1e6d602c01003e325a264d1c210:-1783844657</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_script_4667f45ddb5e44109e101461399619ac</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script"&gt;&lt;sys_script action="INSERT_OR_UPDATE"&gt;&lt;abort_action&gt;false&lt;/abort_action&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;action_delete&gt;false&lt;/action_delete&gt;&lt;action_insert&gt;false&lt;/action_insert&gt;&lt;action_query&gt;false&lt;/action_query&gt;&lt;action_update&gt;false&lt;/action_update&gt;&lt;active&gt;true&lt;/active&gt;&lt;add_message&gt;false&lt;/add_message&gt;&lt;advanced&gt;true&lt;/advanced&gt;&lt;change_fields&gt;false&lt;/change_fields&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;collection&gt;sysapproval_approver&lt;/collection&gt;&lt;condition/&gt;&lt;description/&gt;&lt;execute_function&gt;false&lt;/execute_function&gt;&lt;filter_condition/&gt;&lt;is_rest&gt;false&lt;/is_rest&gt;&lt;message/&gt;&lt;name&gt;Regress Recordable Record Type&lt;/name&gt;&lt;order&gt;100&lt;/order&gt;&lt;priority&gt;100&lt;/priority&gt;&lt;rest_method/&gt;&lt;rest_method_text/&gt;&lt;rest_service/&gt;&lt;rest_service_text/&gt;&lt;rest_variables/&gt;&lt;role_conditions/&gt;&lt;script&gt;&lt;![CDATA[(function executeRule(current, previous /*null when async*/) {

	// Add your code here
	if (RegressATFRecordSessionv2.isRecording()) {
		g_scratchpad.can_regress = true;
	}

})(current, previous);]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script&lt;/sys_class_name&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-01-11 08:34:12&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;4667f45ddb5e44109e101461399619ac&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name&gt;Regress Recordable Record Type&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_4667f45ddb5e44109e101461399619ac&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-01-14 14:18:14&lt;/sys_updated_on&gt;&lt;template/&gt;&lt;when&gt;before_display&lt;/when&gt;&lt;/sys_script&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=4667f45ddb5e44109e101461399619ac"/&gt;&lt;/record_update&gt;</payload><payload_hash>-1403110933</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>61b46ec3db3814109e10146139961917</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4e350000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table>sysapproval_approver</table><target_name>Regress Recordable Record Type</target_name><type>Business Rule</type><update_domain>global</update_domain><update_guid>bae2a15ae252001083e8ee9db2f73651</update_guid><update_guid_history>bae2a15ae252001083e8ee9db2f73651:-1403110933,c267f45d445e4410fa4b29d00ff66eaf:1382510405</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_script_include_58c8d429db11c010f0a2f282399619bf</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;public&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;global.ImpersonateUserTestStepGenerator&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;ImpersonateUserTestStepGenerator&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var ImpersonateUserTestStepGenerator = Class.create();
ImpersonateUserTestStepGenerator.prototype = Object.extendsObject(TestStepGenerator, {

	generateTestStep: function() {
		
		// If test recording user has not changed, there is no need for impersonation step
		if (RegressATFRecordSessionv2.hasRecordingUserChanged()) {
			this.grATFStep.inputs['user'] = this.regressionObject.impersonate;
			this.grATFStep.notes = "User who recorded the test.";
			TestStepGenerator.prototype.generateTestStep.call(this);
		}
	},
	
    type: 'ImpersonateUserTestStepGenerator'
});]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-11-23 07:55:58&lt;/sys_created_on&gt;&lt;sys_id&gt;58c8d429db11c010f0a2f282399619bf&lt;/sys_id&gt;&lt;sys_mod_count&gt;11&lt;/sys_mod_count&gt;&lt;sys_name&gt;ImpersonateUserTestStepGenerator&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_58c8d429db11c010f0a2f282399619bf&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-27 06:03:38&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload><payload_hash>-547235064</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>61b46ec3db3814109e1014613996191a</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b53340000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>ImpersonateUserTestStepGenerator</target_name><type>Script Include</type><update_domain>global</update_domain><update_guid>7307d7e73890901098f45b8d173ed444</update_guid><update_guid_history>7307d7e73890901098f45b8d173ed444:-547235064,40f5dba7ff909010e6b196d6514edf45:517805320,709317e3509090104c528312d8ed42c4:1780997864,a9c181193a9e44106a39e00aa340a713:1584884157,8bd005d5449e4410a034ea574148d5ed:-1196705115,9d4005d5669e4410727d80038cdb18a3:-1426818618,e445b4d9b85e44100800f088a2b5248d:-2028755193,b72570d90d5e441092f0dc33bebb026b:-1593812919,f1ca946d7711c01038d54fe45016062b:-490243582,1f5ad82d0411c010ea10e25d11afbe53:-1555378818,7df994e98d11c0104e7f2b8fe5d40395:-74880290,dcc818e9d211c01097f2bee9712f520c:-1247370730</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_ui_script_e8a46a83db99c410f0a2f28239961922</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ui_script"&gt;&lt;sys_ui_script action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;description&gt;This class is responsible for sending the regression details to the server and managing the form state snapshot class..&lt;/description&gt;&lt;global&gt;false&lt;/global&gt;&lt;name&gt;RegressUI&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var regress = {};

regress.FieldState = function() {
    this.mandatory = [];
    this.readOnly = [];
    this.hidden = [];
    this.optional = [];
    this.editable = [];
    this.visible = [];
};

regress.reg_form = (function() {
    "use strict";

    //Class variables
    var recordFormState = {
        sysID: '',
        tableName: '',
        display: '',
        fieldState: new regress.FieldState(),
        variableState: new regress.FieldState(),
        populatedFieldValues: '',
        populatedVariableValues: '',
        changedFieldValues: '',
        existingRecordQuery: '',
        visibleUIActions: [],
        uiAction: '',
        isNewRecord: '',
        impersonate: '',
        viewName: '',
        catalogItem: '',
        type: 'recordFormState_v1'
    };

    var gForm;
    var gUser;

    (function() {
        getGlideGlobals();
    });


    var recordingSessionDetails = null;
    var previouslyPromptedForUIAction = false;
    var manuallySelectedUIAction = '';
    var isRecording = false;

    return {

        setGlideForm: function(gform) {
            gForm = gform;
        },

        setGlideUser: function(guser) {
            gUser = guser;
        },

        // Public functions

        getGForm: function() {
            return gForm;
        },

        isRecording: function() {
            return isRecording;
        },

        runRegressUI: function() {
            isRecording = true;
            this.recordInitialFormState();
        },

        takeSnapshot: function() {
            var formState = new FormStateRegressionSnapshot(gForm, gUser);
            formState.snapshotFieldState();
            formState.snapshotVariableState();
            formState.snapshotPopulatedFieldsAndVariables();
        },

        recordInitialFormState: function() {
			getGlideGlobals();
            recordFormState.sysID = gForm.getUniqueValue();
            recordFormState.tableName = gForm.getTableName();
            recordFormState.isNewRecord = gForm.isNewRecord();
            recordFormState.impersonate = gUser.userID;
            recordFormState.viewName = gForm.getViewName();
            recordFormState.display = gForm.getDisplayValue();

			if (recordFormState.tableName != "ni") {
				// When the form initially loads, all we need is the mandatory fields to create the existing record query
				this.determineExistingRecordQuery();
			}
        },
		
		determineExistingRecordQuery: function() {
			var initialGlideFormRegression = new FormStateRegressionSnapshot(gForm, gUser);
			initialGlideFormRegression.snapshotFieldState();
			var mandatoryFields = initialGlideFormRegression.getMandatoryFields();
			recordFormState.existingRecordQuery = createExistingRecordEncodedQuery(mandatoryFields);
			log('Initially mandatory fields: ' + mandatoryFields);			
		},
		
        recordFinalFormState: function() {

            var finalGlideFormRegression = new FormStateRegressionSnapshot(gForm, gUser);
            finalGlideFormRegression.snapshotFieldState();
            finalGlideFormRegression.snapshotVariableState();
            finalGlideFormRegression.snapshotPopulatedFieldsAndVariables();

            recordFormState.fieldState = finalGlideFormRegression.getFieldState();
            recordFormState.variableState = finalGlideFormRegression.getVariableState();
            recordFormState.populatedFieldValues = finalGlideFormRegression.getPopulatedFieldsAsEncQry();
            recordFormState.populatedVariableValues = finalGlideFormRegression.getPopulatedVariablesAsEncQry();
            recordFormState.changedFieldValues = finalGlideFormRegression.getAllChangedFieldsAsEncQry();
            recordFormState.visibleUIActions = finalGlideFormRegression.getVisibleUIActions();
            if (gForm.getTableName() == "ni") {
                recordFormState.catalogItem = gForm.getUniqueValue(); // Get the catalogue item sys_id
            } else {
                recordFormState.catalogItem = gForm.getValue('cat_item');
            }

            log('Existing record qry: ' + recordFormState.existingRecordQuery.toString());
            log('Visible UI Actions:' + recordFormState.visibleUIActions.toString());

        },

        recordCatItemSP: function() {
            // todo: ignore population of read only and script populated field
            // ideas
            // getEditableFields
            // _userModifiedFields (it is private with no getter, probably not possible to get)
            // need to find some sort of marker for script populated vs manual.
            var finalGlideFormRegression = new ServicePortalFormState(gForm, gUser);
            finalGlideFormRegression.snapshotVariableState();
            finalGlideFormRegression.snapshotPopulatatedVariables();

            recordFormState.populatedVariableValues = finalGlideFormRegression.getPopulatedVariablesAsEncQry();
            recordFormState.variableState = finalGlideFormRegression.getVariableState();
            recordFormState.catalogItem = gForm.getUniqueValue(); // Get the catalogue item sys_id
            generateTestForSP();
            log('Action: ' + gForm.getActionName());

            return true;
        },

        recordAction: function() {

            if (!previouslyPromptedForUIAction) {
                this.recordFinalFormState();
            }

            var actionName = gForm.getActionName();

            log('UI ActionName: ' + actionName);

            // A client side UI action using gForm.save() or gForm.submit() could have triggered this, and there is no way to trace the origin
            if (!previouslyPromptedForUIAction &amp;&amp; (actionName == 'sysverb_update_and_stay' || actionName == 'sysverb_submit')) {
                this.showVerifyUIActionDialog(actionName);
                return false;
            } else {
                if (recordFormState.uiAction != '') {
                    log('Generating test using manually selected UI Action with sys_id of ' + recordFormState.uiAction);
                    return generateTest(recordFormState.uiAction);
                } else {
                    log('Using UI Action based on ActionName');
                    this.recordActionByActionName(actionName);
                }
            }

            return true;
        },

        showVerifyUIActionDialog: function(actionName) {

            var DialogClass = window.GlideModal ? GlideModal : GlideDialogWindow;
            var dialog = new DialogClass('regress_confirm_ui_action');
            dialog.setTitle("Regress - ATF Recorder - Action Required");
            dialog.setPreference('title', "Due to a limitation in ServiceNow and the tracability of UI Actions, we must ask you what UI Action you just clicked? ");
            dialog.setPreference('onPromptComplete', this.resubmitForm);
            dialog.setPreference('onPromptCancel', function() {
                return false;
            });
            dialog.setPreference('visibleUIActions', recordFormState.visibleUIActions);
            dialog.setPreference('actionName', actionName);
            dialog.render();

        },

        resubmitForm: function(selectedUIActionSysID) {

            if (selectedUIActionSysID != undefined) {
                recordFormState.uiAction = selectedUIActionSysID;
            }

            var actionName = gForm.getActionName();
            previouslyPromptedForUIAction = true;

            log('Resubmitting form using UI Action: ' + recordFormState.uiAction);

            gForm.submit(actionName);
        },

        recordActionByActionName: function(actionName) {
            var uiActionSysID = getUIActionSysID();
            recordFormState.uiAction = uiActionSysID;
            generateTest();
            return true;
        },

        logCurrentFormState: function() {
            var formStateJSON = JSON.stringify(recordFormState);
            log(formStateJSON);
        },

        type: 'RegressUI'

    };

    function getGlideGlobals() {
        try {
            if (typeof gForm == 'undefined') {
                gForm = window.g_form;
            }
            if (typeof gUser == 'undefined') {
                gUser = window.g_user;
            }
        } catch (e) {
            log('Could not get Glide Globals. Must use setGlideForm() and setGlideUser() methods');
        }

    }

    // where all mandatory fields are populated and state-type field values match
    function createExistingRecordEncodedQuery(mandatoryFields) {

        var encodedQuery = '';
        var regressionQueryArray = [];
        var fieldName, qry;

        for (var i = 0; i &lt; mandatoryFields.length; i++) {
            fieldName = mandatoryFields[i];
            qry = fieldName + "ISNOTEMPTY";
            regressionQueryArray.push(qry);
        }

        encodedQuery = regressionQueryArray.join("^");
        log("createExistingRecordEncodedQuery():" + encodedQuery);

        return encodedQuery;
    }

	function generateTestForSP() {
		gForm.addInfoMessage('Recording Action');

        var formStateJSON = JSON.stringify(recordFormState);
        var ga = new GlideAjax('TestGenAjax');
        ga.addParam('sysparm_name', 'process');
        ga.addParam('sysparm_form_state', formStateJSON);
        log(formStateJSON);
        ga.getXMLAnswer(getTestGenAjaxResponse);

        return true;		
	}
	
	function getTestGenAjaxResponse(answer) {
		if (answer) {
			gForm.addInfoMessage('Form snapshot added to Test');
		} else {
			gForm.addErrorMessage('Form snapshot could not be added to Test. Could not record actions.');
		}
	}
	
    function generateTest() {

        gForm.addInfoMessage('Recording Action');

        var formStateJSON = JSON.stringify(recordFormState);
        var ga = new GlideAjax('TestGenAjax');
        ga.addParam('sysparm_name', 'process');
        ga.addParam('sysparm_form_state', formStateJSON);
        log(formStateJSON);
        //Using wait because server side test generation needs to occur before record is saved
        ga.getXMLWait();
        var answer = ga.getAnswer();
        if (answer) {
            gForm.addInfoMessage('Form snapshot added to Test');
        } else {
            gForm.addErrorMessage('Form snapshot could not be added to Test. Could not submit form. Please stop recording to progress record.');
            return false;
        }

        return true;
    }
	

    function getUIActionSysID() {
        var uiActionSysID = '';

        var form = gForm.getFormElement();
        if (form) {
            var theButton = form.sys_action;
            if (theButton) {
                var buttonName = theButton.value;
                //Try get UI Action Sys ID
                var actionElement = gForm.getElement(buttonName);
                if (actionElement) {
                    uiActionSysID = actionElement.getAttribute("gsft_id");
                    log('Clicked UI action SYS_ID is ' + uiActionSysID);
                }
            }
        }

        return uiActionSysID;
    }

    function log(msg) {
        if (typeof jslog == "undefined") {
            // log not supported in SP
            console.log(msg);
        } else {
            jslog(msg);
        }
    }

})();]]&gt;&lt;/script&gt;&lt;script_name/&gt;&lt;sys_class_name&gt;sys_ui_script&lt;/sys_class_name&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-11-28 09:58:15&lt;/sys_created_on&gt;&lt;sys_id&gt;e8a46a83db99c410f0a2f28239961922&lt;/sys_id&gt;&lt;sys_mod_count&gt;297&lt;/sys_mod_count&gt;&lt;sys_name&gt;RegressUI&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_script_e8a46a83db99c410f0a2f28239961922&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-29 09:03:01&lt;/sys_updated_on&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;use_scoped_format&gt;false&lt;/use_scoped_format&gt;&lt;/sys_ui_script&gt;&lt;/record_update&gt;</payload><payload_hash>1579603794</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>61b46ec3db3814109e1014613996191e</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b53d00000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>RegressUI</target_name><type>UI Script</type><update_domain>global</update_domain><update_guid>3a43d29c56209010df92d0e220932b8f</update_guid><update_guid_history>3a43d29c56209010df92d0e220932b8f:1579603794,b3174d0c88a81010d9b9b73804830844:-1520102396,a1a92407ab949c10539b5091ddf0c187:-1659579565,4ee3604b57549c10a73c1bf3f2f052d9:564486234,cbbf5443b3549c1082eb068cb405878c:524479202,257f54430c549c10fa2f842a464e241a:1023469075,5bbd100bce149c10878c96cf3bb4eb82:-43268999,1cad10c7d1149c1005f12de59807a57a:2061744496,257ddc8730149c10016eab66d115df82:-43268999,bbabd88327149c1097d6e6ec6d0f0520:1372126848,1c37180f23d09c1009b2a72912ac6c16:1946138737,0356100facd09c100594f5accd533eab:740616578,d3465c6dec501810165db52028bb17ad:-1951371611,d01498e9cd501810fe063f0baa386b22:1670084941,fb6394e9985018106c12fb9a0037a16d:547901138,f2dca94d49949410aafc61d71f17d5d2:-998234543,4c4a6589fc949410e30280e5cc072fe0:-282653234,adb86909ee949410c4402d0fd8faa4d7:-162915038,eb28a9051f949410285421e684cb2ef3:337656311,2407e585499494105c95a8ee1f1abb70:-1878714243,78f26d89cb5494104ed27ebaabb3b975:-1294687730,7ad1ed4587549410ce23ff548b76375c:2035038820,1090edc52b549410ca6d1e9a9100f581:1132990846,c04069452f54941098838501c495583d:-831003225,edbf5945f85494107a8f5db8c51b7d6d:749052295,9cbed145b7549410215e73836dcd7637:2078962077,208e11058b54941059f3c603aca0b89e:1940328203,5a5ed145015494106a254c8690ad0832:1037308565,074c9541dc549410ed7a5a41d8210665:-1887186984,2be315c52f1494101b327eb740e5e2ad:-794819572,576291452214941021a84a4ecfa32a60:-651890531,1326886ac78cd010ea441ace77bb576b:495852606,6b85886ac48cd01077922ad8383bc766:-389060302,9985486a3c8cd01066867b2f51025463:495852606,ffb30ca2f38cd010f1b7b66b364e5feb:-389060302,8791cc62d88cd01027e987ba0610001b:-131577412,ad94db350a8850105752059ce145523e:1183483013,2b9cc62953441010a8cd97d707d80b16:1032833589,68ec8b94811b0c10e8b5140ae29a9ed2:-1875398401,f9bc47585f1b0c10f89e6a29cde8514d:1114609554,64a73536f80b84109c8bd5ebb9ec497f:685847662,1146317ac6c784105f9eeba8af1d8d02:-888845726,1336fd3ac9c78410a227c84ec62c255a:1923944370,bc26357a78c7841009d5b0aefdaaa607:-1588897011,b9c4f536b7c784103bf7ff9f733adf5c:-836630611,2880f13ab08784102804f5a87b3480da:406361187,b2e85fca814fc010caa5caa17f6631a4:-546321114,131297c28a4fc010d34fe93e4c78276a:-1647612370,72bef4c515fa841091d6ee141d0303d3:2040991016,b65e34c53afa8410728196d543ed81b1:-1606309886,11031408ab7ac010b4947bd4e6c429c5:-1270321155,affe0c04597ac01030a4bdea7e08ea83:-934392778,a00cc800937ac010c5a587c8c703a073:-1706791323,83db4c00e27ac010b33c0d2824a411bb:439355475,c8ba48cc813ac0105e03ab77cb0f5ebe:509434089,f76a004cbb3ac010192529569fd289a2:-1681553233,fa4a804cfe3ac0105e7da741efef4712:781106041,1078800cd63ac0105587ef36cdea493c:-1573310347,320744c8093ac01033c776abc4af716e:2110892884,e942c8c4b13ac0101ea8305f2f9e8b2f:-1678351830,afd144c4913ac010562a49cc96634fe2:-255152581,b4d0cc44e23ac01081e6da8672e5e5d1:-1075020169,91708c44553ac0100fd25d9fc7f8aa03:-235364574,e9dfff37b12ac0102b129a6212d1fc06:9337535,a4bf7f37fb2ac010e0ddfff15b101bf0:750443866,33aebfffaae6c010daf535fc15bed00c:815476224,5bb89e3c5aa6401038ddcdcbc94837e1:-373616883,acc692b885a64010d9bb6d47466ba420:1067414980,7cb6da7891a640103483388818ca02fe:453221476,1befcaf089a64010bea0be4dc562ef43:-1811933908,be1a5df066e240103666fb1145aa3bb6:-1192048144,5ff92524672a001033cc2964c51443b4:-495359214,0a49a5646c2a0010cb170a5f36e5468d:1226816490,6de82164352a0010bec3308bf55c8b53:-608599845,560829e02c2a0010a1ae87ba8cc18e89:-386571796,9e97e5a07c2a0010babbb956c84124a2:1543703374,3336e1606f2a0010fcd7ca099f3a57a7:1885894963,66d56520542a0010a2e96c473fedbba9:-1712196885,7135a1ecb0e600105c9e3e02134785ec:-1673585164,3125a1ec92e60010546bbe79b379ca28:-333353985,fba4a1ec24e600103956cc7d0e71b0a6:-1449894462,b28429ac06e60010052a42edba6e5651:-1522605440,8b44ed6c3ce600109f774b341ff4281d:2024276810,fff3ed6c6ae600102d1d8a50a0043a46:1348645679,7cd3696c3ce600109575aab6c44d6dc6:1950835275,b6f2e92c64e60010b87a68aeac12591c:442047000,dca261e826e60010da4dc3042e7a5864:828804955,464261e836e6001060953e0ffacdb75e:-525719831,0cbf1da075e60010a4be8c3b67b1e32d:1600068754,58dfcda84fa6001005f39cd9999138ae:1368325319,516e0d6853a60010590eefccb6bd36c1:605997289,1e0d89686ba6001033e01b8eafeedaed:167723463,9597682ca9260010ff2b323bf91195c3:-936941871,d627682c322600103c80d8a5312342f0:-973333323,4796e8e80426001081d30d5e930c01fc:1037199098,e76c5c2042260010a86dc53363e31d30:1942436298,a88b5020e1260010aa2863ef70df81a2:-298678281,1566f304e8ae4010876b99301f022de0:814893605,74f57f0407ae4010c999fbe4ea321942:768977990,e425b7c0c3ae40105f9167c7feba40db:61520405,3ba4bb802cae40107656920a530f8f97:1707607508,4bb3bf00f5ae4010e50eb26c2d6850f3:-1053444237,f933bb4021ae4010a5b0b0cd68548aa2:1159147912,9c82f7004aae40105172c5e73f0579b9:-672216133,1562fb00deae401057199c66db4351f7:-1570122281,bdb1f3000fae4010f962dfa254aff06b:1029946805,55d0f3cc976e40105c2a7601e5b66a6e:364670166,5b807f0c8e6e40106221da17a40b9ce2:-1826466834,a3afa3c8a56e4010ef1c03577f474a7d:1401965157,c78fd6bb191e001090dc558815744548:-765794476,be7f9ebbb21e0010fb12da295bf7f362:-921592094,854b1ef3d71e0010b51c74491adf5170:1056832785,1d5c8da73a560010f0f5db2c58291ef1:-2139653785,721bcda3a956001079ba0edc1fd6c601:1794951754,a86ac563da560010d355895f03d5f51a:314316993,1b0a4563f7560010c7f9e03df0f3127d:-1104075204,10a905234a5600106797414ef197a964:1393624394,8c895c6b1492001070d73cd8b5bbcf2f:1224189252,16f894e7e0920010fcc351c55b31d107:1116095839,8ab14067235200103b2f4506d8bfccfc:-2095711074,2afbb1a2d8520010f03b86c5e6744feb:1023901686,9069b1a2565200100e86abf5cd9fc5c0:573692367,1f94e15e79520010e7e99a6da942146f:-1618684268,11e3a99a8d5200108c9c175c62a82d23:-1679290399,da42ed1ad5520010b499259cf7759f82:-1792600773,3971e1d661520010dc6524b9a40f3cfc:-316590893,235b4161cfda8410f1ed0ad41b69a002:980081968,72260969499a841099fa1fce16734500:244387158,df61519d3bde4410c3388dcffa3bad54:791531728,c009895182de4410dccfb4bf159a053f:-1992427167,1db7019dd69e44103a111de054fb4dba:-882098651,f717c55dc19e4410166b37bdb57d141e:540618004,277a3491629e4410042d98f13c3fafc4:-1590554378,501a7011149e4410ea0540d278ff254d:1612439688,b46938dde65e4410de5a61b8a3e064f2:-31744847,64687c9d745e4410a5036b6127671a32:-1617333399,bdf33459095e44104bcf188d944decd9:-1840559280,a5a3f459895e44102693fd6942f9dfb2:-2094641596,d6637495635e4410113de3e33183a8f5:-1755771545,2c33bc19a05e4410ae3840c149c74eef:-342950635,04cc374d509a44101d3a92f4b0d60e62:1374218140,bf815a985416c0105d045f04f26191af:1433794763,f1cc7d982ad2c010b10674e35ae63f16:1924801014,c5b4fdd096d2c010cc5687b9a61adb75:-1907286014,054471d03dd2c010364b63d87e9f3029:-1280849893,0bfde15c5892c010a35c0417b39a08fd:-1400990280,c0aded983392c010b0ba9e980d94f9a8:310320824,0b8de1d88592c01065b30e5f21ab7273:-435060743,7fc528c41516801070743b90809280a6:1121149944,1c85e88464168010edd5866e6927f2ef:-1930994088,74352884ee16801038bfe4aa4c9fc391:-1849986567,2b6420043816801049e0c8d5deba7919:647994337,72c3e0c0e5168010ce167ec0726db4ab:-1305912127,b57523efd2464010ca8d1db3b4e07794:610117843,9a64e7afe646401061699a43ce982d84:-747366978,53e9fddf7a4600100862452b41d32491:1592988876,e789b113658600102558f9face0dc4b6:-1520147695,4649fddfea460010b3c6f9d3532b6c0f:-253365288,4939f9df2446001036dee685e4f2f0e4:-99688332,e3b7b15f5f46001001990e6e108a743c:348255953,7b2675db8d4600105c5d81c6dba0a007:88697110,9db5399b65460010770bcf28b5a8965e:731168413,30d4b55b11460010bd02ea342ab6df00:-1958319126,f52239d3a446001028b3a2cda035fd61:1091913736,92d13197ff460010ed64c74a45cdc033:745636725,e6a9c99310c2001070a2e1a4fb4c76e7:-888575421,0ea5059fa082001052ffd3e0a3abff86:1526098557,e765bcdf0742001074b6a694b13c37ba:1179581143,93253c5f07420010fa0527f6c5cff3ff:353612487,cf83305fbb420010c0aac1c1c389dc66:317691433,4d13b81f4d420010e2bdae527e68dfef:663322447,a88660130f420010c69b239aa353f151:1208910776,38f1a8d70c020010b1b17c278cb4fd01:-1123651585,309168d7cd020010f4b9532bb338d091:839686556,7a8f9097b902001010186276ed498387:-832483620,adced0935b020010e037201e8c056103:-608124018,12cc17aa0186c01055ed906279142b4e:1636873358,72de8b2a4546c010a409fc12d9310ab9:-442344351,158d47a66b46c010ce12940503edf3ec:-1045351288,6e1c07669b46c010ec4d4919c9ed6870:-1737225552,8d778f229746c010fe40e5f07f6fa758:1774181687,1ff4cfae5906c0105612f5d56bc3ee99:1267914661,9f714f6a0906c0109e02d393f3c6d363:62548877,97c00fe62006c010973ad153b876deb6:400611,72df762abd06c0104ace82767f66aae2:-774734268,9d1de6a625c2c010396a92d921d381a4:-930372830,10cce6a6a7c2c010d2b170d44670e3a0:1748320395,9267eeda7c86801077dbebc9f175577c:489709811,71c5ae9adf868010fe3fb45ed6eb12de:16153844,77d4d29ae246801086b5bb6833981ef6:-291385531,19dc02923146801037e7d22582d4ffa1:831603313,6c06861a9706801099c9a552280c087c:1826770826,be35359e9ec2801037985f6d1b916c63:-609439316,b373b55e0fc28010f8472b2705fba0e5:-1357625219,d5d23d1e3bc2801075de5c51b818935b:-1852131045,7603a112bcc28010a62487b2a25171ff:-151889058,01d1a112f2c28010a1db8860ba3d5ba2:65744726,c15d5d6021b100108646d100ce0f4520:-1228121044,4344b5df682140107c22e004bec345d9:-1812800041,06133d9fc92140105f2ac9b09617b32a:626697432,886ea59bdd21401022769f062b7a324f:-1472383278,f5cb251bb7214010e412048e93a54d61:-1740014070,0a656dd3672140109e165ac953cf6f2e:-306215934,ac7cf48bb9e10010f06aeae972f2cc4f:1569123222,f64bb0077ee1001038feba4c8d9aaa7a:881944089,183b544326a10010c12d8a42daea2cf8:-1134643835,1efa1443e6a1001046a9ad87a59a354f:206854541,2ec9944304a10010cf4340d1fceeadc3:-1276301812,1139948f166100103621269231e1af14:109442370,86385c8f2f6100106930b6ef9b973ddf:1582030785,92b69c0f03610010925cd3fb688bae5f:-1021568732,90569c0f3661001082ae52e21d987a2e:-461626374,f306980fd361001082bc46627500fe02:-22227527,0cb5100fe861001015877baa2dd9134a:2006584793,ff2558cb9a6100104608ec1cb538c089:-1506302194,3336008772210010141b8940a449aa34:-102471934,44a9c55eab250010e978bed2631a70f6:1534937977,e99985dafa2500105e15fe8186330a91:387061250,9de6c99eade10010a0a0e5ca293084cd:-102471934,b533b09e63a100102faeab836ec31d74:-1526916763,3f52fcda66a100101f9c714a490da073:-102471934,80d0b01a98a1001069d9cc06cc86378a:-486609969,8d7ea4d279a10010308b0095e54fcbe9:1381234282,31ad6c5216a10010840bb02d3a381e4d:285382451,1eec6412c7a10010b38761025d5a024d:1733130300,41bca01272a10010a969ae3b31eeb49e:-929501450,7d8ce4de3b610010ae92a154af773740:-32494698,4c4b6c1ec461001085f335b710a75527:-1398094499,4f5aa41eeb6100106b0f2140b3007c9a:778970249,d9d82c9a03610010b27453208f53e576:-1692873202,c008ec5aaa61001079eed10d79d2961a:-499054241,0e67241ab0610010dfa5eb29e2722831:1836572514,7347a01a8e610010144a29aff5ab2402:1045002651,6e04e092ab6100100871af59173ad07f:-1291622762,1fa3601690610010190526bf3bdfe751:-1524367322,6f4368924e610010f9d563637f32c159:2047793894,20022892ba610010df1b1bf183b926dd:943623690,fc712c52e6610010c71cfdf4d588bb48:1388713362,19412cde2c21001091e1e85496e02a53:107180240,7fc06052df6100104219b42c4940fc70:-694871180,c920e012ed61001030201d63d5cc2f79:1494014800,24df949e0d210010625fc6a1440f6a4f:-775193796,c81d1496682100100d33edfd9a69df6a:266643039,b3cb549a062100109943bbee53667a87:-214571111,c7585cd69d2100102019e80a81dee140:1040536149,9e4ea08cf4e100105714ccf9a8ddc84d:1979029198,694d640c4ce1001067bb12f8d95693d3:1014261189,4e9ca04412e100103631b23c2224e598:-2086708949,0d1c24843fe10010f39c0059bd65596e:-1385613983,c77bacc424e100100d3eaaf2368f4185:-353860842,5a59a40402e1001009685160b7080033:-710354737,33b820446fe10010903842c87287123b:-1456581310,7574e8002de1001066e090413643e696:1564514124,82346c4c0ca10010ce04a2a6e5abb6fa:767310866,c0c2e008c9a10010f2146873f5648264:798194263,1c82a0c88ca10010b1a47c2a39826295:851066651,a2502444b9a100106c5c271ba7862669:-1017313735,31cf14440ea10010573ee7604dd7ac60:-1684043597,e59f9c0011a10010d1236fe1ece3154d:-1996982941,2a1f5840caa10010596a63cd7f35c3e1:-981242654,07ae544c6a610010b7f9107b24cb2dc9:1924986572,c05e5c003fa10010ff88c124eedc6efa:-1858938942,efcd184cf5610010690bf2de1ee22815:-1996982941,19fc944c2861001068062c9a54f7435b:-1858938942,63bc58083761001045dde215494a3851:263770025,4e5c98887f6100102cff01739e0f4b48:-1488236315,2bcbdc0862610010fb054efe407e5e7b:-308767607,107bd408966100109c77899f8d0f2abe:-1542389853,78ca1c8442610010f3315c59e94a6de1:-510777827,68aa5044d0610010f44b6197fe591324:652122334,7bd91cc0ab610010b39f31414cc6b87a:34859477,d9b99040d7610010e2cc8f13a7cceb55:-1913992457,dd69dc00d861001027ab464d048135d4:1814329544,720914cc9e2100109021aa6f5818f637:1698757267,27d8d0ccea21001038a531d28381a4fd:-1053691458,b868184ccb210010b8bd8326474a5c83:578797888,2df79c48ee210010e2ab7641703d2092:1069830302,1a079c484a21001066e21dd2b911f53a:-1605157117,d5e6d408412100104270d904b85e2648:2051192881,798618c0382100106fdf9fce02d9ce4b:-1853852847,725550c0082100102afcbb77dbaae8ec:-1911788098,6868f6476a1dc4104fce3d58da160405:910615248,f5b73e43f21dc41061c9f0d8f32c181f:-564997437,80973a8f8dd9c41057ad4b02136eb024:1828550963,7337724f6dd9c410e5505cee65100e92:-935268188,92f6760fa9d9c410e216c1528ac592b0:-380514180,7ae6760f07d9c410d53a75fd7832273f:-935268188,9186fe0330d9c4109b932e40a2a62074:-1565872124,f89a6a0328d9c4107be0ba7ac39e179a:159649925,5d5aea03f6d9c410f2d09a52a22b46d0:53089492,641a22cfec99c410143ae6146f8b294d:602049132,26e9ee8ffa99c4103933d414a8c1bf36:443697158,93d9628f9899c4108f10ce3f12d34e9b:1817645502,59a9e60f2899c41034e68e8c0d0c6f5d:-699323298,4569e68b5499c410865ba70f0d455fd2:-363283759,e7096a8b7a99c410206469eae8123be6:169685477,d4d8e68bab99c41095812c30285dc681:1238015687,5208664b8e99c41088626243d8030f3f:-30267925,a4b566c32e99c4103c4e843e4ce47a2a:639210850,64652a033899c410c80dfa49e4c3c237:674144863,58d42243ee99c410ca316d2ccc2213d9:-693634442,84b4ae03be99c41047d50175a01507e8:-2143279096</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>catalog_ui_policy_acdac585db3e84109e101461399619e2</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="catalog_ui_policy"&gt;&lt;catalog_ui_policy action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_catalog&gt;true&lt;/applies_catalog&gt;&lt;applies_req_item&gt;false&lt;/applies_req_item&gt;&lt;applies_sc_task&gt;false&lt;/applies_sc_task&gt;&lt;applies_target_record&gt;false&lt;/applies_target_record&gt;&lt;applies_to&gt;item&lt;/applies_to&gt;&lt;catalog_conditions/&gt;&lt;catalog_item display_value="Regress Properties"&gt;e194ce26db42c0109e10146139961954&lt;/catalog_item&gt;&lt;conditions/&gt;&lt;description/&gt;&lt;global&gt;true&lt;/global&gt;&lt;inherit&gt;false&lt;/inherit&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;model_id/&gt;&lt;model_table/&gt;&lt;on_load&gt;true&lt;/on_load&gt;&lt;order&gt;100&lt;/order&gt;&lt;reverse_if_false&gt;true&lt;/reverse_if_false&gt;&lt;run_scripts&gt;false&lt;/run_scripts&gt;&lt;script_false&gt;&lt;![CDATA[function onCondition() {

}]]&gt;&lt;/script_false&gt;&lt;script_true&gt;&lt;![CDATA[function onCondition() {

}]]&gt;&lt;/script_true&gt;&lt;set_values/&gt;&lt;short_description&gt;Always&lt;/short_description&gt;&lt;sys_class_name&gt;catalog_ui_policy&lt;/sys_class_name&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-02-04 11:52:10&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;acdac585db3e84109e101461399619e2&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;Always&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;catalog_ui_policy_acdac585db3e84109e101461399619e2&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-04 11:52:10&lt;/sys_updated_on&gt;&lt;table/&gt;&lt;ui_type&gt;0&lt;/ui_type&gt;&lt;variable_set/&gt;&lt;view/&gt;&lt;/catalog_ui_policy&gt;&lt;/record_update&gt;</payload><payload_hash>16048659</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>61b4ee43db3814109e10146139961981</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4ed30000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Always</target_name><type>Catalog UI Policy</type><update_domain>global</update_domain><update_guid>84ea0985d73e84100b3f18afea7f4673</update_guid><update_guid_history>84ea0985d73e84100b3f18afea7f4673:16048659</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>item_option_new_d1e02cf2db4384109e10146139961937</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="item_option_new"><item_option_new action="INSERT_OR_UPDATE"><active>true</active><attributes/><cat_item display_value="Regress Properties">e194ce26db42c0109e10146139961954</cat_item><category/><choice_direction>down</choice_direction><choice_field/><choice_table/><create_roles/><default_html_value/><default_value>javascript:RegressSystemPropertyHelper.GetExistingAllowedTables();</default_value><delete_roles/><delivery_plan/><description/><display_title>false</display_title><do_not_select_first>false</do_not_select_first><dynamic_default_value/><dynamic_ref_qual/><example_text/><field/><global>false</global><help_tag>More information</help_tag><help_text/><include_none>false</include_none><instructions/><layout>normal</layout><list_table>sys_db_object</list_table><lookup_label/><lookup_price/><lookup_table>sys_db_object</lookup_table><lookup_unique>false</lookup_unique><lookup_value>name</lookup_value><macro/><mandatory>false</mandatory><map_to_field>false</map_to_field><mask_use_confirmation>false</mask_use_confirmation><mask_use_encryption>false</mask_use_encryption><name>automatically_record_for_these_tables</name><order>125</order><price_if_checked>0</price_if_checked><pricing_implications>false</pricing_implications><question_text>Automatically record for these tables (and their extensions)</question_text><read_roles/><rec_lookup_price/><rec_price_if_checked>0</rec_price_if_checked><record/><record_producer_table>global</record_producer_table><reference/><reference_qual/><reference_qual_condition/><scale_max>5</scale_max><scale_min>0</scale_min><show_help>false</show_help><show_help_on_load>false</show_help_on_load><sp_widget/><summary_macro/><sys_class_name>item_option_new</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-02-22 05:35:42</sys_created_on><sys_id>d1e02cf2db4384109e10146139961937</sys_id><sys_mod_count>5</sys_mod_count><sys_name>Automatically record for these tables (and their extensions)</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>item_option_new_d1e02cf2db4384109e10146139961937</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-02-22 09:09:39</sys_updated_on><table/><tooltip/><type>21</type><ui_page/><use_dynamic_default>false</use_dynamic_default><use_reference_qualifier>advanced</use_reference_qualifier><validate_regex/><variable_name/><variable_set/><variable_width/><visibility>1</visibility><visible_bundle>true</visible_bundle><visible_guide>true</visible_guide><visible_standalone>true</visible_standalone><visible_summary>true</visible_summary><write_roles/></item_option_new><sys_translated_text action="delete_multiple" query="documentkey=d1e02cf2db4384109e10146139961937"/><fx_price action="delete_multiple" query="id=d1e02cf2db4384109e10146139961937"/><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>price_if_checked</field><id>d1e02cf2db4384109e10146139961937</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-02-22 05:35:42</sys_created_on><sys_id>a051a436db4384109e10146139961946</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-02-22 05:35:42</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>rec_price_if_checked</field><id>d1e02cf2db4384109e10146139961937</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-02-22 05:35:42</sys_created_on><sys_id>2851a436db4384109e10146139961945</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-02-22 05:35:42</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price></record_update>]]></payload><payload_hash>2138046582</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>61b4ee43db3814109e10146139961984</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b50e60000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Automatically record for these tables (and their extensions)</target_name><type>Variable</type><update_domain>global</update_domain><update_guid>a24215b639078410eb57fb88178753c2</update_guid><update_guid_history>a24215b639078410eb57fb88178753c2:2138046582,1babc9be2bc38410fcb051514bb38792:790310330,f3b1ac3694438410ebce07e263c834d5:-1009968601,ec816836f14384103ccdf3d93d5add34:-2119895491,f451a436a8438410e7f986d0e3467e49:1406605475</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_app_application_0a931f6adbc233001c4af53a2996195f</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_app_application"><sys_app_application action="INSERT_OR_UPDATE"><active>true</active><category/><description/><device_type>browser</device_type><hint/><name>Regress</name><order/><roles>regress_user</roles><sys_class_name>sys_app_application</sys_class_name><sys_created_by>admin</sys_created_by><sys_created_on>2019-06-18 10:42:10</sys_created_on><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>0a931f6adbc233001c4af53a2996195f</sys_id><sys_mod_count>2</sys_mod_count><sys_name>Regress - ATF Recorder</sys_name><sys_overrides/><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>sys_app_application_0a931f6adbc233001c4af53a2996195f</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-01-03 00:34:49</sys_updated_on><title>Regress - ATF Recorder</title><view_name/></sys_app_application></record_update>]]></payload><payload_hash>-456705550</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>65b46ec3db3814109e10146139961910</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4cd50000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Regress - ATF Recorder</target_name><type>Application Menu</type><update_domain>global</update_domain><update_guid>3dfcb1aaee02c01071ad4e6eda6756e2</update_guid><update_guid_history>3dfcb1aaee02c01071ad4e6eda6756e2:-456705550,86931f6ad4c23300b205fec1545e4eaa:630002406,8e931f6a9fc233009179698240d41c60:-672416471</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_atf_test_template_66f610eddb5018109e1014613996195c</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_atf_test_template"><sys_atf_test_template action="INSERT_OR_UPDATE"><description>Used by Regress ATF Recorder for ordering an item via the Service Portal.</description><name>Regress ATF Recorder - Service Cat (SP)</name><sys_class_name>sys_atf_test_template</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-04-20 10:56:54</sys_created_on><sys_id>66f610eddb5018109e1014613996195c</sys_id><sys_mod_count>8</sys_mod_count><sys_name>Regress ATF Recorder - Service Cat (SP)</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>sys_atf_test_template_66f610eddb5018109e1014613996195c</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-04-27 06:31:58</sys_updated_on><template>071ee5b253331200040729cac2dc348d,e81f02dc73e703008e6b0d573cf6a76f,2e4229b48703030070870cf888cb0b5c,1ebb17799f1303002528d4b4232e70c0,c0fede515f23030076861f9f2f7313db</template></sys_atf_test_template></record_update>]]></payload><payload_hash>-826632319</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>65b46ec3db3814109e10146139961913</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b53720000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Regress ATF Recorder - Service Cat (SP)</target_name><type>Test Template</type><update_domain>global</update_domain><update_guid>228d53671ad09010ebeacaf2bdb5c5b6</update_guid><update_guid_history>228d53671ad09010ebeacaf2bdb5c5b6:-826632319,2a1d604b2c949c105a963747a1023301:-1636229937,dccca04b4e949c10404249539581742d:-1145014472,149ce80b6e949c10d2fcf375580cb8cf:1419467657,07a7942148901810079ef22d83147e09:1089727330,0c97d4215b901810e33331d413906390:-444052512,f46794edc65018102bdd1d510a98e4e3:1479335997,495710ed02501810681eb25f2e40bd60:1926006002,970710adb1501810344c27121c5eb83b:554312577</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_properties_d9f5d322db86c0109e10146139961917</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_properties"><sys_properties action="INSERT_OR_UPDATE"><choices>actions&#13;
simple&#13;
exhaustive</choices><description>Sets the degree of regression captured</description><ignore_cache>false</ignore_cache><is_private>false</is_private><name>regress.regression.level</name><read_roles/><suffix/><sys_class_name>sys_properties</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-01-03 07:05:27</sys_created_on><sys_id>d9f5d322db86c0109e10146139961917</sys_id><sys_mod_count>20</sys_mod_count><sys_name>regress.regression.level</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>sys_properties_d9f5d322db86c0109e10146139961917</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-05 10:20:34</sys_updated_on><type>choicelist</type><value>simple</value><write_roles>regress_user</write_roles></sys_properties><sys_translated_text action="delete_multiple" query="documentkey=d9f5d322db86c0109e10146139961917"/></record_update>]]></payload><payload_hash>-2141524048</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>65b46ec3db3814109e10146139961916</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b55e40000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>regress.regression.level</target_name><type>System Property</type><update_domain>global</update_domain><update_guid>e19ed95eccec58100ef99eea44575196</update_guid><update_guid_history>e19ed95eccec58100ef99eea44575196:-2141524048,7c2a1956f3ec5810193d56d586d18c84:146292183,c5aa0192cfac5810428e850b369a30d6:-2141524048,ac9e1ccee8a818109dd0a2e183f18cff:2098497281,2cb80a2c4020d010ec7585663ada010f:1338900285,c3d2e93ec747841023215ef42a9e2ad7:2098497281,537161fa2a478410c6e273b0babda798:1338900285,e83c9d1220f688107b97493695237545:2098497281,1504819eb4768810a11d6828290078f8:1338900285,1e4a4945213e8410573580f9c78082b5:-755505788,b20ac1453c3e841015ecbb11e3bf0b0c:-347952952,aba34d8d07fa841056d79f65f277b193:2098497281,648e9552fa52001091647a71d960b379:1338900285,444e9512825200106b35ab2f1df081a2:2098497281,90a89d5aa0120010d96a91d7401145e8:1667521083,bac9ff49469a4410870f63587f9e00e8:-25397633,e79560dfa10200108da49632f2b6c9e9:1667521083,ad1f5f2e4f86c0102c31c4dfaa6f3a28:-25397633,5bfe5b2e9e86c010842726a41bbb58d6:1667521083,f16ad3663386c010de971ae85954c9a3:-25397633,98669b224a86c0100227415ab7c67dd3:1667521083</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_script_include_293784c0db7633001c4af53a299619d8</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;public&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;global.TestStepGenerator&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;TestStepGenerator&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var TestStepGenerator = Class.create();

//MISC
TestStepGenerator.STEP_CONFIG_IMPERSONATE_USER = '071ee5b253331200040729cac2dc348d';
TestStepGenerator.STEP_CONFIG_CREATE_USER = 'd9bc5f21ff6033008d3f5d9ad53bf12d';

//GLIDEFORM
TestStepGenerator.STEP_CONFIG_RECORD_QUERY = '0270b8005f30220012b44adb7f46666a';
TestStepGenerator.STEP_CONFIG_OPEN_AN_EXISTING_RECORD = '5f2e0e535332120028bc29cac2dc34d3';
TestStepGenerator.STEP_CONFIG_OPEN_NEW_FORM = '05317cd10b10220050192f15d6673af8';
TestStepGenerator.STEP_CONFIG_SET_FIELD_VALUES = 'fcae4a935332120028bc29cac2dc340e';
TestStepGenerator.STEP_CONFIG_FIELD_STATE_VALIDATION = '1dfece935332120028bc29cac2dc3478';
TestStepGenerator.STEP_CONFIG_FIELD_VALUES_VALIDATION = '1b97cd31872022008182c9ded0e3ece5';
TestStepGenerator.STEP_CONFIG_CLICK_UI_ACTION = '0f4a128297202200abe4bb7503ac4af0';
TestStepGenerator.STEP_CONFIG_UI_ACTION_VISIBILITY = 'd8fdf5e10b1022009cfdc71437673adc';
TestStepGenerator.STEP_CONFIG_VARIABLE_STATE_VALIDATION = '33f637e8c3ba220076173b0ac3d3aee1';
TestStepGenerator.STEP_CONFIG_SET_VARIABLE_VALUES = '323ca6e1c3b2220076173b0ac3d3aec1';
TestStepGenerator.STEP_CONFIG_VALIDATE_VARIABLE_VALUES = '41b4d0a2db0014109e10146139961971';
//CATALOG ITEM
TestStepGenerator.STEP_CONFIG_OPEN_A_CATALOG_ITEM = '2516c0e1c332220076173b0ac3d3ae39';
TestStepGenerator.STEP_CONFIG_OPEN_A_CATALOG_ITEM_SP = 'e81f02dc73e703008e6b0d573cf6a76f';
TestStepGenerator.STEP_CONFIG_SET_VARIABLE_VALUES_SP = '2e4229b48703030070870cf888cb0b5c';
TestStepGenerator.STEP_CONFIG_VARIABLE_STATE_VALIDATION_SP = '1ebb17799f1303002528d4b4232e70c0';
TestStepGenerator.STEP_CONFIG_ORDER_A_CATALOG_ITEM = 'c930b4b2c310320076173b0ac3d3aeec';
TestStepGenerator.STEP_CONFIG_ORDER_A_CATALOG_ITEM_SP = 'c0fede515f23030076861f9f2f7313db';

TestStepGenerator.GetTestStepWorker = function(grATFStep, regressionObject) {
    var testStepWorker;

    switch (grATFStep.getValue('step_config')) {
		case TestStepGenerator.STEP_CONFIG_IMPERSONATE_USER:
            testStepWorker = new ImpersonateUserTestStepGenerator(grATFStep, regressionObject);
            break;
        case TestStepGenerator.STEP_CONFIG_CREATE_USER:
            testStepWorker = new CreateUserTestStepGenerator(grATFStep, regressionObject);
            break;
        case TestStepGenerator.STEP_CONFIG_RECORD_QUERY:
            testStepWorker = new RecordQueryTestStepGenerator(grATFStep, regressionObject);
            break;
        case TestStepGenerator.STEP_CONFIG_OPEN_AN_EXISTING_RECORD:
            testStepWorker = new OpenAnExistingRecordStepGenerator(grATFStep, regressionObject);
            break;
        case TestStepGenerator.STEP_CONFIG_OPEN_NEW_FORM:
            testStepWorker = new OpenNewFormTestStepGenerator(grATFStep, regressionObject);
            break;
        case TestStepGenerator.STEP_CONFIG_UI_ACTION_VISIBILITY:
            testStepWorker = new VisibleUIActionTestStepGenerator(grATFStep, regressionObject);
            break;
        case TestStepGenerator.STEP_CONFIG_SET_FIELD_VALUES:
            testStepWorker = new SetFieldValuesTestStepGenerator(grATFStep, regressionObject);
            break;
        case TestStepGenerator.STEP_CONFIG_FIELD_VALUES_VALIDATION:
            testStepWorker = new FieldValuesValidationTestStepGenerator(grATFStep, regressionObject);
            break;
        case TestStepGenerator.STEP_CONFIG_FIELD_STATE_VALIDATION:
            testStepWorker = new FieldStateValidationTestStepGenerator(grATFStep, regressionObject);
            break;
        case TestStepGenerator.STEP_CONFIG_CLICK_UI_ACTION:
            testStepWorker = new ClickUIActionTestStepGenerator(grATFStep, regressionObject);
            break;
        case TestStepGenerator.STEP_CONFIG_OPEN_A_CATALOG_ITEM:
        case TestStepGenerator.STEP_CONFIG_OPEN_A_CATALOG_ITEM_SP:
            testStepWorker = new CatalogItemTestStepGenerator(grATFStep, regressionObject);
            break;
        case TestStepGenerator.STEP_CONFIG_SET_VARIABLE_VALUES:
        case TestStepGenerator.STEP_CONFIG_SET_VARIABLE_VALUES_SP:
            testStepWorker = new SetVariableValuesTestStepGenerator(grATFStep, regressionObject);
            break;
        case TestStepGenerator.STEP_CONFIG_VARIABLE_STATE_VALIDATION:
        case TestStepGenerator.STEP_CONFIG_VARIABLE_STATE_VALIDATION_SP:
            testStepWorker = new VariableStateValidationTestStepGenerator(grATFStep, regressionObject);
            break;
        case TestStepGenerator.STEP_CONFIG_ORDER_A_CATALOG_ITEM:
        case TestStepGenerator.STEP_CONFIG_ORDER_A_CATALOG_ITEM_SP:
            testStepWorker = new OrderCatalogueItemTestStepGenerator(grATFStep, regressionObject);
            break;
        default:
            testStepWorker = new TestStepGenerator(grATFStep, regressionObject);
    }

    return testStepWorker;
};

TestStepGenerator.prototype = {

    initialize: function(grATFStep, regressionObject) {
        this.grATFStep = grATFStep;
        this.regressionObject = regressionObject;
        this.grATFStep.notes = "Automatically generated using Regress";
        this.log = [];
    },

    generateTestStep: function() {
        this.grATFStep.update();
    },

    setContextualValueVariable: function(inputVariable, value) {
        // First we need to insert the record
        this.grATFStep.update();
        // inputs.record_id is stored in sys_element_mapping table 
        this.grATFStep.inputs[inputVariable] = value;
        // This is not generated until an attempt to set inputs
        this.grATFStep.update();

        // Now the sys_element_mapping record exists, but for some reason, record_id is always empty regardless of what gets put in inputs
        var elementMapping = this.getRecordIDInputVar(inputVariable);

        // So we have to manually populate it by manipulating what is in sys_element_mapping
        // Even setting inputs.record_id after the sys_element_mapping is created doesn't update it after save
        var foundElementMapping = elementMapping.isValidRecord();

        if (foundElementMapping) {
            elementMapping.value = value;
            elementMapping.update();
        } else {
            this.log('Could not retrieve element mapping for test step.');
        }

        return foundElementMapping;
    },

    getTestStepsBetween: function(low, high) {
        var afterOrder = this.grATFStep.getValue('order');
        var grLastQueryStep = new GlideRecord('sys_atf_step');
        grLastQueryStep.addQuery('test', this.grATFStep.test);
        grLastQueryStep.addQuery('order', '&gt;', low);
        grLastQueryStep.addQuery('order', '&lt;', high);
        grLastQueryStep.addQuery('sys_id', '!=', this.grATFStep);
        grLastQueryStep.orderByDesc('order');
        grLastQueryStep.query();

        return grLastQueryStep;
    },

    getTestStepsAfterCurrentStep: function() {
        var afterOrder = this.grATFStep.getValue('order');
        var grLastQueryStep = new GlideRecord('sys_atf_step');
        grLastQueryStep.addQuery('test', this.grATFStep.test);
        grLastQueryStep.addQuery('order', '&gt;=', afterOrder); // Order may not have changed yet, so just in case
        grLastQueryStep.addQuery('sys_id', '!=', this.grATFStep);
        grLastQueryStep.orderByDesc('order');
        grLastQueryStep.query();

        return grLastQueryStep;
    },

    getLastTestWithRequestOutput: function() {
        var beforeOrder = this.grATFStep.getValue('order');
        var grLastQueryStep = new GlideRecord('sys_atf_step');
        grLastQueryStep.addQuery('test', this.grATFStep.test);
        grLastQueryStep.addQuery('step_config', TestStepGenerator.STEP_CONFIG_ORDER_A_CATALOG_ITEM_SP)
            .addOrCondition('step_config', TestStepGenerator.STEP_CONFIG_ORDER_A_CATALOG_ITEM);
        grLastQueryStep.addQuery('order', '&lt;', beforeOrder);
        grLastQueryStep.orderByDesc('order');
        grLastQueryStep.query();
        if (grLastQueryStep.next() ) {
            gs.debug('Step ' + grLastQueryStep.getValue('order') + ' found for Catalogue Output ');         
        }

        return grLastQueryStep;
    },

    getLastTestStepWithRecordOutput: function(tableName) {

        var beforeOrder = this.grATFStep.getValue('order');
        var grLastQueryStep = new GlideRecord('sys_atf_step');
        grLastQueryStep.addQuery('test', this.grATFStep.test);
        grLastQueryStep.addQuery('step_config', TestStepGenerator.STEP_CONFIG_ORDER_A_CATALOG_ITEM_SP)
            .addOrCondition('step_config', TestStepGenerator.STEP_CONFIG_ORDER_A_CATALOG_ITEM)
            .addOrCondition('step_config', TestStepGenerator.STEP_CONFIG_RECORD_QUERY)
            .addOrCondition('step_config', TestStepGenerator.STEP_CONFIG_CLICK_UI_ACTION)
            .addOrCondition('step_config', TestStepGenerator.STEP_CONFIG_OPEN_AN_EXISTING_RECORD);
        grLastQueryStep.addQuery('order', '&lt;', beforeOrder);
        grLastQueryStep.orderByDesc('order');
        grLastQueryStep.query();
        while (grLastQueryStep.next()) {
            if (!gs.nil(tableName)) {
                if (grLastQueryStep.inputs.hasOwnProperty('table') &amp;&amp; grLastQueryStep.inputs.table == tableName) {
                    break;
                }
            } else {
                break;
            }

        }

        gs.debug('Step ' + grLastQueryStep.getValue('order') + ' has table of ' + grLastQueryStep.inputs.table);

        return grLastQueryStep;
    },

    getLastTestStep: function(stepConfigSysID) {
        var beforeOrder = this.grATFStep.getValue('order');
        var grLastQueryStep = new GlideRecord('sys_atf_step');
        grLastQueryStep.addQuery('test', this.grATFStep.test);
        if (stepConfigSysID)
            grLastQueryStep.addQuery('step_config', stepConfigSysID);
        grLastQueryStep.addQuery('order', '&lt;', beforeOrder);
        grLastQueryStep.orderByDesc('order');
        grLastQueryStep.query();
        grLastQueryStep.next();

        //should do a table check here too...
        return grLastQueryStep;
    },

    getRecordIDInputVar: function(inputVariable, testStepID) {

        if (gs.nil(testStepID)) {
            testStepID = this.grATFStep.getValue('sys_id');
        }

        var elementMapping = new GlideRecord('sys_element_mapping');
        elementMapping.addQuery('id', testStepID);
        elementMapping.addQuery('field', inputVariable);
        elementMapping.query();
        elementMapping.next();

        return elementMapping;
    },

    buildRecordIDString: function(stepSysID, outputField) {
        // Example string: {{step['e0f46d2ddb9233001c4af53a299619f9'].first_record}}

        var stepStrFormat = "step['{0}'].{1}";
        var stepStr = gs.getMessage(stepStrFormat, [stepSysID, outputField]);

        return "{{" + stepStr + "}}"; // Could not work out how to escape {} in gs.getMessage
    },

    getStepOutputField: function(grLastQueryStep) {
        var stepConfig = grLastQueryStep.getValue('step_config');
        var outputField;
        switch (stepConfig) {
            case TestStepGenerator.STEP_CONFIG_RECORD_QUERY:
                outputField = 'first_record';
                break;
            case TestStepGenerator.STEP_CONFIG_ORDER_A_CATALOG_ITEM:
                outputField = 'request_id';
                break;
            default:
                outputField = 'record_id';
        }

        return outputField;
    },

    log: function(msg) {
        this.log.push(msg);
        gs.log(msg);
    },

    type: 'TestStepGenerator'
};]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-07-17 08:11:40&lt;/sys_created_on&gt;&lt;sys_id&gt;293784c0db7633001c4af53a299619d8&lt;/sys_id&gt;&lt;sys_mod_count&gt;86&lt;/sys_mod_count&gt;&lt;sys_name&gt;TestStepGenerator&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_293784c0db7633001c4af53a299619d8&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-27 05:58:14&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload><payload_hash>5583387</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>65b46ec3db3814109e10146139961919</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b53210000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>TestStepGenerator</target_name><type>Script Include</type><update_domain>global</update_domain><update_guid>ecd55ba711909010805389700c1cc6cd</update_guid><update_guid_history>ecd55ba711909010805389700c1cc6cd:5583387,ae105fafd350901013258658486d8698:-569180513,c4af876fbf509010e9bc6307dbc3d86b:-1009977104,3896640336949c109662b499f54419d5:828331776,8706a84f81549c10672af60deb64e949:-1849981483,e06160c7ea549c10a177899618bcb420:-765413023,72c4dcc731d09c10cb7b1778b8dedab0:1407802046,ad3294c79bd09c104956695ba7b68410:-1077426119,364abb5290501c10fcfc8e91572aa4fd:1573849691,9b2774ae558014105de3193bb6da461c:595853901,9343346aa08014104a92cbbc92833906:-1813546972,fff1782ae1801410654be2fde282bd70:-1979310595,a571742a50801410766e7f5653ab5ebb:290902045,9af0f8e69f8014107362b75d52242acc:-1741621902,fb10f4a650801410b37b6a9e37669c93:699546836,7f00f8a63d801410a36641aba22bd2de:1910110673,752f6866048014101e699e236d212451:216308080,0e5cdcaaca001410c882476adc47585f:966817737,356954e6e20014107e142917f93ef772:-1869971476,73f75c66cc001410f39f24600b7278a4:131477940,8df108a23d8cd010676897d24b66f852:-287892436,86614c62d28cd010f093e9dd7175f8c0:1415793216,1be9066581441010d3867ff2d4acb1f0:558874455,4a2842e1dc441010750626100514b83f:-327548656,e387cae19f44101030ff2c07fe7426ff:1217226382,5b5bde7c33a640102634b60d4c156861:324504784,5148d0e7419200105a05b6a0d095fca8:-1371636370,c5a61c27c7920010f70e66b642ab5bd5:6983715,67f45827949200109a2c3569204b1d2b:699060561,2d6c3b1363520010bf054285b5bb419d:-629371826,3d3f2b9767120010bd312fb0fbb9f9f0:406011122,8f1faf97901200104ef4f0a0397a23e2:-155035731,b79eaf575a120010d85b62cce5a2f121:-1251194981,9328ea76759e00105c2057d639901203:-738953069,6497b668e652041017e762c2fabae373:-474488166,4cd4b76f1f864010b6e5db399cab8f7d:1582700229,8d7c5be79c464010c8cc7bb1bccdb3c6:1205136722,a8410d5b74820010c029d1faecffcfa8:1286037680,976571263b02c010d27f854148a480b2:1985218182,68e1e12825b1001052b75b49f7962514:-1776101076,9031a1e4e2b10010f62e22cc20fadf3b:-1526653947,5f301abdb39104103f40472cfdcf7718:-1886491861,1610da7de79104108b4749b27e6bdb97:-308792639,090420f56c5dc010a258953cb5e39081:-1886491861,3ba8dca99a11c0107abb42d0519f16c8:-293826276,dd78d0e9b911c0100dcd39f40ececef9:-2088435486,033e4c93027333000b9b9c7c90536d7d:-2143665965,567d809355733300ae18063a909cda22:-1520768508,3a1fe5ce773333006754a6e81c6ba969:759883764,197ee5ce43333300aeea403be01e7dd4:1723884775,f36d2d8eb2333300c4c78a3c8408c612:-1439940543,66cce54efb333300563e53eb07499a8d:-403015209,954daa9148f373002e8083ce6a2020aa:-1439940543,57fe9e197bb37300c1f19e21aebae6b6:923968483,9e7b529594b3730009e8153db0315818:-64151688,37ba921599b37300d511d471bbf43e8c:1896010160,430992d1eeb3730024a952777f986199:-1185097984,82a56b1fd23233000527bda424700292:1140153696,7d8f17d734323300ee6d7237e9b72988:-2104512011,ca7e1b97db323300c64d50b382c784a4:901359144,848d1797ad323300598146ec05d83571:1275209754,f05752d49ef23300c8ecf8360a0569d9:-774959705,c5b5d21479f2330016a1abbdd75823a2:1354388641,d0c35e90bcf23300eb190d884abbaf6b:2005414417,e23316d072f23300cd25ffdff160e81b:593719729,c5ff595ccd32330025d90bc7e8a7c805:2101716370,664c5198d4323300c2881e03db512f85:-1842275275,31abd998883233001e9643b76cc7cf00:-1718306681,1b8bd958583233002e3e89336fb18705:-109572831,a77a5958b032330040480d218dc850de:-1451765347,33995d184f3233003547a89bde977073:1990611009,16e55954e9323300c1e4e8562ba7db30:-1586886072,e3d45d1449323300131020ecdc77ad07:-475332596,e5c315149e3233008b06c6e36ee24151:-1400440201,521110c8647633006776afbaf0cc2761:-1193870324,6c011888b77633001bbeeb9c3404a620:1811039574,60bd0c0805763300a498396a6ee84718:1847655009,7f7dc4084f7633001bb9fc14d1adfb20:-1503588482,177b4484cf7633003b6c90c6a2478592:-1746330760,9fca84041a763300ea4feae38b3b7b43:-527628109,a66a0844ba763300db5a35727f6e4b40:2101203456,96e9c0048f76330064389f505b922614:-1820517190,96a984046676330098f72280d50b6f2e:178867243,5f38c4c00e7633008d4ec9fab5c23db2:1763855823,a1f748c05d7633008d97b3c56bb0d018:1939208596,2f5708c03976330025429cf74d916cf0:-496028902,d0474c8059763300d0ae3a90af491be3:1627653486</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_script_include_d11e80d3db7333001c4af53a29961992</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;global.FieldValuesValidationTestStepGenerator&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;FieldValuesValidationTestStepGenerator&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var FieldValuesValidationTestStepGenerator = Class.create();
FieldValuesValidationTestStepGenerator.prototype = Object.extendsObject(TestStepGenerator, {

	generateTestStep: function() {
		var complexityLevel = RegressATFRecordSessionv2.getRegressionLevel();
		
		if (complexityLevel != 'exhaustive' || gs.nil(this.regressionObject.changedFieldValues)) {
			this.grATFStep.deleteRecord();
		} else if (complexityLevel != 'simple') {
			this.grATFStep.inputs['conditions'] = this.regressionObject.changedFieldValues;
			this.grATFStep.notes = 'The fields populated by user or automatically by Client Script.';
			TestStepGenerator.prototype.generateTestStep.call(this);
		}
	},
	
    type: 'FieldValuesValidationTestStepGenerator'
});]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-09-15 04:04:32&lt;/sys_created_on&gt;&lt;sys_id&gt;d11e80d3db7333001c4af53a29961992&lt;/sys_id&gt;&lt;sys_mod_count&gt;9&lt;/sys_mod_count&gt;&lt;sys_name&gt;FieldValuesValidationTestStepGenerator&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_d11e80d3db7333001c4af53a29961992&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-05 09:03:59&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload><payload_hash>-280488236</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>65b46ec3db3814109e1014613996191c</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b53f30000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>FieldValuesValidationTestStepGenerator</target_name><type>Script Include</type><update_domain>global</update_domain><update_guid>9b0d051686ac5810c67696edeb6ac612</update_guid><update_guid_history>9b0d051686ac5810c67696edeb6ac612:-280488236,73abe4d7634200105ba0dc2e66a7f060:1013508760,e50b2c57de420010928d9e9aa40d5e1a:1961044604,07b82417e7420010e192efeebd948cb5:729181198,a3d76cd388420010cb9f7bbe58e65fc1:-2076799872,c8afe6aa53c2c0108793bea52c4ae3d0:-820554640,eff9aa26d9c2c010e3784b349b22fa97:-1063311278,9ed9aa261bc2c010e68707461aae3191:-824409229,0d7e88d3cc73330078f103e4d6a6cb65:-626612948,d91e80d381733300aa00ab5d669ba994:-431664387</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_ui_action_ecc787b9db3233001c4af53a299619e8</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_ui_action"&gt;&lt;sys_ui_action action="INSERT_OR_UPDATE"&gt;&lt;action_name&gt;create_regress&lt;/action_name&gt;&lt;active&gt;false&lt;/active&gt;&lt;client&gt;true&lt;/client&gt;&lt;client_script_v2&gt;&lt;![CDATA[function onClick(g_form) {

}]]&gt;&lt;/client_script_v2&gt;&lt;comments/&gt;&lt;condition/&gt;&lt;form_action&gt;true&lt;/form_action&gt;&lt;form_button&gt;false&lt;/form_button&gt;&lt;form_button_v2&gt;false&lt;/form_button_v2&gt;&lt;form_context_menu&gt;false&lt;/form_context_menu&gt;&lt;form_link&gt;true&lt;/form_link&gt;&lt;form_menu_button_v2&gt;false&lt;/form_menu_button_v2&gt;&lt;form_style/&gt;&lt;hint/&gt;&lt;isolate_script&gt;false&lt;/isolate_script&gt;&lt;list_action&gt;false&lt;/list_action&gt;&lt;list_banner_button&gt;false&lt;/list_banner_button&gt;&lt;list_button&gt;false&lt;/list_button&gt;&lt;list_choice&gt;false&lt;/list_choice&gt;&lt;list_context_menu&gt;false&lt;/list_context_menu&gt;&lt;list_link&gt;false&lt;/list_link&gt;&lt;list_save_with_form_button&gt;false&lt;/list_save_with_form_button&gt;&lt;list_style/&gt;&lt;name&gt;Create Form Regression Test&lt;/name&gt;&lt;onclick&gt;createRegressionTest()&lt;/onclick&gt;&lt;order&gt;100&lt;/order&gt;&lt;script&gt;&lt;![CDATA[function createRegressionTest() {
	var mandatoryFields = [];
	var readOnlyFields = [];
	var regressionFields = [];
	var hiddenFields = [];
	var gFormModifiedFields = g_form.modifiedFields;
	var fieldElements = g_form.elements;
	var tableName = g_form.getTableName();
	var regressionCondition = '';
	
	for (var f in fieldElements) {
		if (fieldElements.hasOwnProperty(f)) {
			var fieldElement = fieldElements[f];
			var fieldName = fieldElement.fieldName;
			var fieldTable = fieldElement.tableName;
			jslog('Processing ' + fieldName);
			if (fieldTable == tableName &amp;&amp; fieldName!='' &amp;&amp; fieldName != null &amp;&amp; fieldName != undefined) {

				var isMandatory = g_form.isMandatory(fieldName);
				var isReadOnly = g_form.isReadOnly(g_form.getElement(fieldName),g_form.getControl(fieldName));
				var isVisible = g_form.isVisible(fieldElements[f]);

				if (isMandatory) {
					mandatoryFields.push(fieldName);
				}

				if( isReadOnly ) {
					readOnlyFields.push(fieldName);
				} 

				if (!isVisible) {
					hiddenFields.push(fieldName);
				} 

				// Exclude metadata fields
				var excludedFields = ['number','opened_at','opened_by','due_date','request'];
				if (!isReadOnly &amp;&amp; isVisible &amp;&amp; !excludedFields.includes(fieldName)) {
					regressionFields.push(fieldName);
					jslog('Added ' + fieldName + ' to reg fields');
				}
			}
		}
	}
	
	var numOfModifiedFields = Object.keys(g_form.modifiedFields).length;
	
	jslog(numOfModifiedFields + ' modified fields.');
	// If modified fields
	// set condition to modified fields that are visible and editable
	if (numOfModifiedFields &gt; 0) {
		// TODO:
		// add visible and non readonly fields;
		// var regressFields = [];
	}
	
	jslog('Regression fields:' + regressionFields);
	
	var regressionQueryArray = [];
	for (var r in regressionFields) {
		if (regressionFields.hasOwnProperty(r)) {
			try {
				var regFieldName = regressionFields[r];

				var qry = regFieldName + "=" + g_form.getValue(regFieldName);
				regressionQueryArray.push(qry);
			} catch (e) {
				// in case it cant get the field value for whatever reason
				jslog("Excluding field " + regFieldName);
			}
		}
	}
	
	regressionCondition = regressionQueryArray.join("^");

	jslog('Mandatory fields:' + mandatoryFields);
	jslog('Read only fields:' + readOnlyFields);
	jslog('Hidden fields:' + hiddenFields);
	jslog('Regression condition:' + regressionCondition);
	
	var ga = new GlideAjax('TestGenAjax');
	ga.addParam('sysparm_name','process');
    ga.addParam('sysparm_tablename',g_form.getTableName());
    ga.addParam('sysparm_sys_id',g_form.getUniqueValue());
    ga.addParam('sysparm_mandatory_fields',mandatoryFields.join(","));
    ga.addParam('sysparm_readonly_fields',readOnlyFields.join(","));
	ga.addParam('sysparm_regression_condition',regressionCondition);
    ga.addParam('sysparm_hidden_fields',hiddenFields.join(","));
    ga.addParam('sysparm_modified_fields','');
    ga.getXMLAnswer(callback);
	
	function callback(response) {
		if (response) {
			g_form.addInfoMessage('Regression Test Created');
			g_navigation.openPopup(response);
		} else {
			g_form.addErrorMessage('Could not create Regression Test');
		}
		
	}
	
}]]&gt;&lt;/script&gt;&lt;show_insert&gt;true&lt;/show_insert&gt;&lt;show_multiple_update&gt;false&lt;/show_multiple_update&gt;&lt;show_query&gt;false&lt;/show_query&gt;&lt;show_update&gt;true&lt;/show_update&gt;&lt;sys_class_name&gt;sys_ui_action&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-07-23 08:42:37&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;ecc787b9db3233001c4af53a299619e8&lt;/sys_id&gt;&lt;sys_mod_count&gt;53&lt;/sys_mod_count&gt;&lt;sys_name&gt;Create Form Regression Test&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_action_ecc787b9db3233001c4af53a299619e8&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-11-24 02:26:06&lt;/sys_updated_on&gt;&lt;table&gt;global&lt;/table&gt;&lt;ui11_compatible&gt;true&lt;/ui11_compatible&gt;&lt;ui16_compatible&gt;false&lt;/ui16_compatible&gt;&lt;/sys_ui_action&gt;&lt;/record_update&gt;</payload><payload_hash>-192798436</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>65b46ec3db3814109e1014613996191d</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4cad0000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table>global</table><target_name>Create Form Regression Test</target_name><type>UI Action</type><update_domain>global</update_domain><update_guid>3dd65875861dc010317fde0fe145b499</update_guid><update_guid_history>3dd65875861dc010317fde0fe145b499:834584666,3704341383f33300273daf3199943e43:-1281202263,8cb3bcdfdfb3330087d2c6ee6849c625:762249378,d7727c5fe9b33300539439410f082a50:-1505446683,12e1fc5fedb33300af2111a7a09b15a5:-2119238905,9131305fa6b3330097d700feb510461c:718497642,1a7f281fddb33300eaac8dd02eeba465:306187081,208e2c1ba0b33300bf28e9c5225ff5d9:-856170769,8d1eec5b5bb33300cfee820fe8121117:1747478938,af8b0053dc7333009dab587ba7bcc443:-1199395015,cf1bccdf55333300d45ec01d827595da:1424852070,eb5ac0dfe5333300e41527aefb0f9dd4:2074753209,e31ac8dfbb333300fb8a5d3152affa6c:1447712416,b5d9c4df33333300d6ce7330bec6ce71:-47100918,9279089f5a333300cb19d0d769236035:426525756,fb09449ff1333300e80bf08a17bf7557:-797034729,c2a88c5f3c33330054008fc31db2dd4a:-2055620309,6477085fca333300e8c0884e783de5ca:-1612835682,1df6005fe2333300f0234b6a4c33cbd8:-204267374,cfd6801f3e3333007303673e753836a7:1623587762,441680db6233330023c9032f98dc3ffb:-33475704,28d5889b6833330048129c37d2467884:-2114600494,f9540cd7b13333005ef0a65f8829b843:-762473786,3d2304173f3333004485d6dbd2be35dd:-845723020,92c965ca88333300dd325a33bb932101:-1625425145,8a98298aeb33330048c9951b9919c7f4:-1195863326,69383c2793363300da7dfe8c1bd20e1e:-1838110782,8ff773db72723300ea1c8f5d966e4a41:-501694826,83d77f5be27233004d7bc9a544d5a717:-717380672,0717f7dbec7233009c7aec18e52005a3:1579775872,43d63f5bb5723300596dbeeeb9a7e469:831923117,8da6339bc37233007c6bc5963d66b2d5:1135267317,06c43fd7a0723300ce90bf09dce23c2b:1862011445,cb03bbd76d723300a02744bb63bdeea2:-341584831,b6ec279334723300e7ed6c95d7d9dee7:-1304978120,e52a6b9f9f3233009818374e1de24f96:1713676912,80e9a3df1932330070c4afb5fc503dc6:-2096934389,5b796fdf69323300d9ac3a38cafca308:66109797,ee139096213233007ace166f5e22932c:-282190522,4e2fc492e132330038405206922ed1ad:785928568,cc1f04924632330070f3e48508942554:29124360,172e04523c323300c6831a285a4e32bd:884646230,db8d08926e323300025b0ebcc699c93f:-381870802,528b037dd4323300cea9c994da597602:1825333102,a40b4f3d8a323300568ac12bd089776d:-874453673,06aacbf9e73233005c2b6819ddbdfe86:-1098431860,d76a4b3dc63233006dc379843d05d563:-734920224,5b3a073de33233000555e3474b8715c8:-58208495,550acbf9f43233009cb918a781c84f9b:1415388868,f7594bf974323300733ea2273d08e316:1021605338,ee294fb972323300966eec7622fbfe22:865178004,94194fb98832330088bdfb0ca688491e:-2084828844,dff747b90932330097a3d71bda3b6bed:-162811726,d4e70bb9cd323300a62c9ed7275ff53f:-680751758</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>catalog_script_client_7e09de0ddb7f00109e101461399619ee</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="catalog_script_client"&gt;&lt;catalog_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_catalog&gt;true&lt;/applies_catalog&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;applies_req_item&gt;false&lt;/applies_req_item&gt;&lt;applies_sc_task&gt;false&lt;/applies_sc_task&gt;&lt;applies_target_record&gt;false&lt;/applies_target_record&gt;&lt;applies_to&gt;set&lt;/applies_to&gt;&lt;cat_item/&gt;&lt;cat_variable/&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field/&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;Regress load&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onLoad() {

	var ga = new GlideAjax('RegressATFRecordSessionv2Ajax');
	ga.addParam('sysparm_name','canRecordForTable');
	ga.addParam('sysparm_table_name',g_form.getTableName());
	ga.getXMLAnswer(canRecordTableCallback);	
}

function canRecordTableCallback(xmlAnswer) {
	try {
		var regressDetails = JSON.parse(xmlAnswer);
		jslog(regressDetails);
		if (regressDetails.isRecording == true) {
			jslog("Loading Regress Scripts");
			ScriptLoader.getScripts(["RegressUI.jsdbx","RegressFormStateHandler.jsdbx"], runRegressUI);		
			g_form.addInfoMessage(regressDetails.recordingMsg);
		} else {
			jslog("Regress is not recording or is not enabled for this table.");
		}
	} catch(e) {
		jslog("Regress UI Error: " + e);
	}
}

function runRegressUI() {
	jslog('Loaded Regress Scripts');
	try {
		// Added delay to wait for UI Policies to run first
		jslog('Waiting 500 ms for UI Policies to execute');
		setTimeout(captureInitialFormState,500);
	} catch (e) {
		g_form.addErrorMessage('RegressUI Error: ' + e);
	}
} 

function captureInitialFormState() {
	if (typeof regress !== 'undefined') {
		jslog('Capturing initial form state after delay');
		regress.reg_form.runRegressUI(g_form);
	}
}

]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;catalog_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-03-25 10:36:48&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;7e09de0ddb7f00109e101461399619ee&lt;/sys_id&gt;&lt;sys_mod_count&gt;7&lt;/sys_mod_count&gt;&lt;sys_name&gt;Regress load&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;catalog_script_client_7e09de0ddb7f00109e101461399619ee&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-27 06:37:58&lt;/sys_updated_on&gt;&lt;table/&gt;&lt;type&gt;onLoad&lt;/type&gt;&lt;ui_type&gt;0&lt;/ui_type&gt;&lt;variable_set display_value="Regress Item Recorder"&gt;6df85e0ddb7f00109e101461399619f6&lt;/variable_set&gt;&lt;view/&gt;&lt;/catalog_script_client&gt;&lt;/record_update&gt;</payload><payload_hash>1907184189</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>65b4ee43db3814109e10146139961980</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b53b70000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Regress load</target_name><type>Catalog Client Scripts</type><update_domain>global</update_domain><update_guid>eeee5ba741d0901070082747fe26c02e</update_guid><update_guid_history>eeee5ba741d0901070082747fe26c02e:1907184189,1665914932149410500cfa495ae6739e:673035024,0c331585721494101c9ebc8e8b1f7764:1872345631,a02bb5e17e041010070fcc07ff568ca7:1614139229,f7da39e14b0410102b43bdc7d7f761c0:-779461949,f299d64d567f00106c2978e1e99c6b7d:344469122,cd59164d097f00107c0f32a7a082599b:801366727,9b19de0d7b7f001036c6ff1862aec3ab:-195252520</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>item_option_new_558c97e3dbd090109e101461399619a2</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="item_option_new"><item_option_new action="INSERT_OR_UPDATE"><active>true</active><attributes/><cat_item display_value="Regress Properties">e194ce26db42c0109e10146139961954</cat_item><category/><choice_direction>down</choice_direction><choice_field/><choice_table/><create_roles/><default_html_value/><default_value>javascript:gs.getProperty('regress.record.servicecatalog_cat_item_view');</default_value><delete_roles/><delivery_plan/><description/><display_title>false</display_title><do_not_select_first>false</do_not_select_first><dynamic_default_value/><dynamic_ref_qual/><example_text/><field/><global>false</global><help_tag>More information</help_tag><help_text/><include_none>false</include_none><instructions/><layout>normal</layout><list_table/><lookup_label/><lookup_price/><lookup_table/><lookup_unique>false</lookup_unique><lookup_value/><macro/><mandatory>false</mandatory><map_to_field>false</map_to_field><mask_use_confirmation>false</mask_use_confirmation><mask_use_encryption>false</mask_use_encryption><name>test_template_sc</name><order>410</order><price_if_checked>0</price_if_checked><pricing_implications>false</pricing_implications><question_text>Test Template for Service Catalogue in UI16</question_text><read_roles/><rec_lookup_price/><rec_price_if_checked>0</rec_price_if_checked><record/><record_producer_table>global</record_producer_table><reference>sys_atf_test_template</reference><reference_qual/><reference_qual_condition/><scale_max>5</scale_max><scale_min>0</scale_min><show_help>false</show_help><show_help_on_load>false</show_help_on_load><sp_widget/><summary_macro/><sys_class_name>item_option_new</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-04-27 06:27:30</sys_created_on><sys_id>558c97e3dbd090109e101461399619a2</sys_id><sys_mod_count>3</sys_mod_count><sys_name>Test Template for Service Catalogue in UI16</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>item_option_new_558c97e3dbd090109e101461399619a2</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-04-27 06:33:01</sys_updated_on><table/><tooltip/><type>8</type><ui_page/><use_dynamic_default>false</use_dynamic_default><use_reference_qualifier>simple</use_reference_qualifier><validate_regex/><variable_name/><variable_set/><variable_width/><visibility>1</visibility><visible_bundle>true</visible_bundle><visible_guide>true</visible_guide><visible_standalone>true</visible_standalone><visible_summary>true</visible_summary><write_roles/></item_option_new><sys_translated_text action="delete_multiple" query="documentkey=558c97e3dbd090109e101461399619a2"/><fx_price action="delete_multiple" query="id=558c97e3dbd090109e101461399619a2"/><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>price_if_checked</field><id>558c97e3dbd090109e101461399619a2</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-04-27 06:27:30</sys_created_on><sys_id>118c97e3dbd090109e101461399619a5</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-04-27 06:27:30</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>rec_price_if_checked</field><id>558c97e3dbd090109e101461399619a2</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-04-27 06:27:30</sys_created_on><sys_id>d58c97e3dbd090109e101461399619a4</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-04-27 06:27:30</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price></record_update>]]></payload><payload_hash>1020184039</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>65b4ee43db3814109e10146139961983</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b538f0000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Test Template for Service Catalogue in UI16</target_name><type>Variable</type><update_domain>global</update_domain><update_guid>c2cd176784d09010bff61f6a67785c2f</update_guid><update_guid_history>c2cd176784d09010bff61f6a67785c2f:1020184039,befcdb275dd09010b8ea7effb40f9a08:-1659289134,d98c97e3b5d0901035465aa97a540ba8:1297458201</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>question_choice_e58d57eadb86c0109e10146139961904</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="question_choice"><question_choice action="INSERT_OR_UPDATE"><misc>0</misc><order>100</order><question display_value="Recording capture level">613d13eadb86c0109e1014613996198d</question><rec_misc>0</rec_misc><sys_class_name>question_choice</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-01-03 07:36:50</sys_created_on><sys_id>e58d57eadb86c0109e10146139961904</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Simple</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>question_choice_e58d57eadb86c0109e10146139961904</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-01-03 07:36:50</sys_updated_on><text>Simple</text><value>simple</value></question_choice><fx_price action="delete_multiple" query="id=e58d57eadb86c0109e10146139961904"/><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>misc</field><id>e58d57eadb86c0109e10146139961904</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-01-03 07:36:50</sys_created_on><sys_id>b78d1b6adb86c0109e101461399619ee</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-01-03 07:36:50</sys_updated_on><table>question_choice</table><type>calculated</type></fx_price><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>rec_misc</field><id>e58d57eadb86c0109e10146139961904</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-01-03 07:36:50</sys_created_on><sys_id>7f8d1b6adb86c0109e101461399619ed</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-01-03 07:36:50</sys_updated_on><table>question_choice</table><type>calculated</type></fx_price></record_update>]]></payload><payload_hash>254484900</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>69b46ec3db3814109e1014613996190f</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4d140000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Simple</target_name><type>Question Choice</type><update_domain>global</update_domain><update_guid>f78d57eac886c010a4d8b37172c9da8d</update_guid><update_guid_history>f78d57eac886c010a4d8b37172c9da8d:1534029804</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_app_module_fd42d1dadbac58109e101461399619ab</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_app_module"><sys_app_module action="INSERT_OR_UPDATE"><active>true</active><application display_value="Regress - ATF Recorder">0a931f6adbc233001c4af53a2996195f</application><assessment/><content_page/><device_type/><filter/><hint/><homepage/><image/><link_type>DIRECT</link_type><map_page/><mobile_title>Star</mobile_title><mobile_view_name>Mobile</mobile_view_name><name/><order>510</order><override_menu_roles>false</override_menu_roles><query>startRecordingActionsRegressionATFTest.do</query><report/><roles/><sys_class_name>sys_app_module</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-05 09:26:48</sys_created_on><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>fd42d1dadbac58109e101461399619ab</sys_id><sys_mod_count>3</sys_mod_count><sys_name>⏺ Start Recording (Actions Only)</sys_name><sys_overrides/><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>sys_app_module_fd42d1dadbac58109e101461399619ab</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-05 09:47:23</sys_updated_on><timeline_page/><title>⏺ Start Recording (Actions Only)</title><uncancelable>false</uncancelable><view_name/><window_name/></sys_app_module></record_update>]]></payload><payload_hash>-1273262053</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>69b46ec3db3814109e10146139961912</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b54e20000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>⏺ Start Recording (Actions Only)</target_name><type>Module</type><update_domain>global</update_domain><update_guid>57f6155211ec581092cece9fb68eedf8</update_guid><update_guid_history>57f6155211ec581092cece9fb68eedf8:-1273262053,d7c6d1529fec58106630dbf2d2adefe7:-318188550,4e82551e52ac5810de3285f0ac192381:-1273262053,f142111e74ac5810a9470577e4625b11:1876464719</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_properties_96e91ee6db82c0109e101461399619a6</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_properties"><sys_properties action="INSERT_OR_UPDATE"><choices/><description/><ignore_cache>false</ignore_cache><is_private>false</is_private><name>regress.new.record.create.template</name><read_roles/><suffix/><sys_class_name>sys_properties</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-01-03 02:41:40</sys_created_on><sys_id>96e91ee6db82c0109e101461399619a6</sys_id><sys_mod_count>4</sys_mod_count><sys_name>regress.new.record.create.template</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>sys_properties_96e91ee6db82c0109e101461399619a6</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-02-08 10:25:13</sys_updated_on><type>string</type><value>bd95652cdbb10010f0a2f282399619b3</value><write_roles>regress_user</write_roles></sys_properties><sys_translated_text action="delete_multiple" query="documentkey=96e91ee6db82c0109e101461399619a6"/></record_update>]]></payload><payload_hash>44951952</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>69b46ec3db3814109e10146139961915</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4fdd0000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>regress.new.record.create.template</target_name><type>System Property</type><update_domain>global</update_domain><update_guid>a55d115226f6881003fb836379662c6d</update_guid><update_guid_history>a55d115226f6881003fb836379662c6d:44951952,960ac1455e3e84100714dbf9cd605004:424869951,3b2a9ae60682c010c5a1535d559c7be5:44951952,d01a122a7582c010c86516158bf53b99:-1428398810,180a9ee64982c01021d620066474d928:-944770362</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_script_include_193a9ad1dbb373001c4af53a29961949</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;global.CatalogItemTestStepGenerator&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;CatalogItemTestStepGenerator&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var CatalogItemTestStepGenerator = Class.create();
CatalogItemTestStepGenerator.prototype = Object.extendsObject(TestStepGenerator, {

	generateTestStep: function() {
		this.grATFStep.inputs['catalog_item'] = this.regressionObject.catalogItem;
		TestStepGenerator.prototype.generateTestStep.call(this);
	},
	
    type: 'CatalogItemTestStepGenerator'
});]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-09-09 09:08:55&lt;/sys_created_on&gt;&lt;sys_id&gt;193a9ad1dbb373001c4af53a29961949&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name&gt;CatalogItemTestStepGenerator&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_193a9ad1dbb373001c4af53a29961949&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;admin&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-09-09 09:09:29&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload><payload_hash>1962951756</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>69b46ec3db3814109e10146139961918</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4c950000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>CatalogItemTestStepGenerator</target_name><type>Script Include</type><update_domain>global</update_domain><update_guid>295a9655c1b373006e112d6d7a77d331</update_guid><update_guid_history>295a9655c1b373006e112d6d7a77d331:-1870848081,513a9ad10fb37300f86f221e1323c84c:-108786289</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_script_include_b607945adb3233001c4af53a299619d2</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;active&gt;false&lt;/active&gt;&lt;api_name&gt;global.UIPolicyRegression&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;UIPolicyRegression&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var UIPolicyRegression = Class.create();
UIPolicyRegression.prototype = Object.extendsObject(RegressionObject, {

	initialize: function(grUIPolicy) {
		RegressionObject.prototype.initialize.call(this,grUIPolicy);
		this.tableName = grUIPolicy.getValue('table');
		this.conditions = grUIPolicy.conditions;
		this.parseFieldValidation();
		this.viewName = 'default';
		if (grUIPolicy.getValue('global') == false) {
			this.viewName = grUIPolicy.view.name;
		}
		
	},
	
	parseFieldValidation: function() {
		// TODO: reverse is false tests
		var mandatoryFieldState = new PolicyActionToFieldStateStepProcessor('mandatory');
		var hiddenFieldState = new PolicyActionToFieldStateStepProcessor('visible');
		var disabledFieldState = new PolicyActionToFieldStateStepProcessor('disabled');
		var grUIPolicyActions = this.getUIPolicyActions();
		
		while(grUIPolicyActions.next()) {
			mandatoryFieldState.processPolicyAction(grUIPolicyActions);
			hiddenFieldState.processPolicyAction(grUIPolicyActions);
			disabledFieldState.processPolicyAction(grUIPolicyActions);
		}
		
		this.mandatoryFields = mandatoryFieldState.getIsFieldState();
		this.notMandatoryFields = mandatoryFieldState.getIsNotFieldState();
		this.visibleFields = hiddenFieldState.getIsFieldState();
		this.notVisibleFields = hiddenFieldState.getIsNotFieldState();
		this.readOnlyFields = disabledFieldState.getIsFieldState();
		this.notReadOnlyFields = disabledFieldState.getIsNotFieldState();
	},
	
	getUIPolicyActions: function() {
		var grUIPolicyActions = new GlideRecord('sys_ui_policy_action');
		grUIPolicyActions.addQuery('ui_policy=' + this.sys_id);
		grUIPolicyActions.addActiveQuery();
		grUIPolicyActions.query();
		
		return grUIPolicyActions;
	},
	
	type: 'UIPolicyRegression'
});]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-07-24 09:07:13&lt;/sys_created_on&gt;&lt;sys_id&gt;b607945adb3233001c4af53a299619d2&lt;/sys_id&gt;&lt;sys_mod_count&gt;11&lt;/sys_mod_count&gt;&lt;sys_name&gt;UIPolicyRegression&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_b607945adb3233001c4af53a299619d2&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-01-11 07:58:47&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload><payload_hash>-1746368097</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>69b46ec3db3814109e1014613996191b</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4dc30000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>UIPolicyRegression</target_name><type>Script Include</type><update_domain>global</update_domain><update_guid>db4fa8919a5e441005b4371045b3184b</update_guid><update_guid_history>db4fa8919a5e441005b4371045b3184b:2011743508,ffa7a79f583233004803ba9b5ff3f6fb:-9693983,a8e2e39ba53233006cd831e32a5879cb:-998595726,e2526f1bb8323300822084ea4c2dc6e7:-2006000972,8441275ba43233001a20cc049933300c:-603615386,2a90e7d7e032330051d2992b49f8c64f:-35110094,00ce57d7823233005eed00772fc5d08b:-595225428,a5ed1f978932330050afd5e6e83234ee:-776230698,24b8905edc3233004099497d26f98415:98694395,0597541ea6323300029fed66d6eb7166:777955669,f277905a27323300157c25e302ca872b:434059900,1e17d85a9d323300af2d8aba72315dba:664529154</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>item_option_new_05059cb6db0384109e101461399619de</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="item_option_new"><item_option_new action="INSERT_OR_UPDATE"><active>true</active><attributes/><cat_item/><category/><choice_direction>down</choice_direction><choice_field/><choice_table/><create_roles/><default_html_value/><default_value/><delete_roles/><delivery_plan/><description/><display_title>false</display_title><do_not_select_first>false</do_not_select_first><dynamic_default_value/><dynamic_ref_qual/><example_text/><field/><global>false</global><help_tag>More information</help_tag><help_text/><include_none>false</include_none><instructions/><layout>normal</layout><list_table/><lookup_label/><lookup_price/><lookup_table/><lookup_unique>false</lookup_unique><lookup_value/><macro/><mandatory>false</mandatory><map_to_field>false</map_to_field><mask_use_confirmation>false</mask_use_confirmation><mask_use_encryption>false</mask_use_encryption><name>automatically_record_for_this_table</name><order/><price_if_checked>0</price_if_checked><pricing_implications>false</pricing_implications><question_text>Automatically record for this table</question_text><read_roles/><rec_lookup_price/><rec_price_if_checked>0</rec_price_if_checked><record/><record_producer_table/><reference>sys_db_object</reference><reference_qual/><reference_qual_condition/><scale_max>5</scale_max><scale_min>0</scale_min><show_help>false</show_help><show_help_on_load>false</show_help_on_load><sp_widget/><summary_macro/><sys_class_name>item_option_new</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-02-22 04:43:01</sys_created_on><sys_id>05059cb6db0384109e101461399619de</sys_id><sys_mod_count>2</sys_mod_count><sys_name>Automatically record for this table</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>item_option_new_05059cb6db0384109e101461399619de</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-02-22 05:05:15</sys_updated_on><table/><tooltip/><type>8</type><ui_page/><use_dynamic_default>false</use_dynamic_default><use_reference_qualifier>simple</use_reference_qualifier><validate_regex/><variable_name/><variable_set display_value="Table Query Fields">b5e41cb6db0384109e10146139961909</variable_set><variable_width/><visibility>1</visibility><visible_bundle>true</visible_bundle><visible_guide>true</visible_guide><visible_standalone>true</visible_standalone><visible_summary>true</visible_summary><write_roles/></item_option_new><sys_translated_text action="delete_multiple" query="documentkey=05059cb6db0384109e101461399619de"/><fx_price action="delete_multiple" query="id=05059cb6db0384109e101461399619de"/><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>price_if_checked</field><id>05059cb6db0384109e101461399619de</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-02-22 04:43:01</sys_created_on><sys_id>45455cb6db0384109e101461399619cf</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-02-22 04:43:01</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>rec_price_if_checked</field><id>05059cb6db0384109e101461399619de</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-02-22 04:43:01</sys_created_on><sys_id>01455cb6db0384109e101461399619ce</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-02-22 04:43:01</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price></record_update>]]></payload><payload_hash>-145997945</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>69b4ee43db3814109e10146139961982</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b50480000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Automatically record for this table</target_name><type>Variable</type><update_domain>global</update_domain><update_guid>ba5adc3e9f03841058ff7707f44fa7a0</update_guid><update_guid_history>ba5adc3e9f03841058ff7707f44fa7a0:-145997945,dd37d07aa6038410fa7b6c802a001e62:-1472247829,4d4590f692038410c17bcd21536e5eec:1841157555</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>item_option_new_set_b5e41cb6db0384109e10146139961909</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="item_option_new_set"><item_option_new_set action="INSERT_OR_UPDATE"><create_roles/><description/><display_title>false</display_title><internal_name>table_query_fields</internal_name><layout>2across</layout><name/><order>100</order><read_roles/><set_attributes/><sys_class_name>item_option_new_set</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-02-22 04:41:43</sys_created_on><sys_id>b5e41cb6db0384109e10146139961909</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Table Query Fields</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>item_option_new_set_b5e41cb6db0384109e10146139961909</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-02-22 04:41:43</sys_updated_on><title>Table Query Fields</title><type>one_to_many</type><write_roles/></item_option_new_set></record_update>]]></payload><payload_hash>-444969274</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>6db46ec3db3814109e1014613996190e</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b50250000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Table Query Fields</target_name><type>Variable Set</type><update_domain>global</update_domain><update_guid>f1f4187642038410d82b97c82036d963</update_guid><update_guid_history>f1f4187642038410d82b97c82036d963:-444969274</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_app_module_b02df9aadb02c0109e1014613996198f</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_app_module"><sys_app_module action="INSERT_OR_UPDATE"><active>true</active><application display_value="Regress - ATF Recorder">0a931f6adbc233001c4af53a2996195f</application><assessment/><content_page/><device_type/><filter/><hint/><homepage/><image/><link_type>SEPARATOR</link_type><map_page/><mobile_title>ATF Tests</mobile_title><mobile_view_name>Mobile</mobile_view_name><name/><order>0</order><override_menu_roles>false</override_menu_roles><query/><report/><roles/><sys_class_name>sys_app_module</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-01-03 00:36:08</sys_created_on><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>b02df9aadb02c0109e1014613996198f</sys_id><sys_mod_count>3</sys_mod_count><sys_name>ATF Tests</sys_name><sys_overrides/><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>sys_app_module_b02df9aadb02c0109e1014613996198f</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-01-06 09:59:52</sys_updated_on><timeline_page/><title>ATF Tests</title><uncancelable>false</uncancelable><view_name/><window_name/></sys_app_module></record_update>]]></payload><payload_hash>1645743182</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>6db46ec3db3814109e10146139961911</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4d710000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>ATF Tests</target_name><type>Module</type><update_domain>global</update_domain><update_guid>0c1bd3a7a6464010b33e9c588c956816</update_guid><update_guid_history>0c1bd3a7a6464010b33e9c588c956816:1645743182,db6dfdaa9502c0108e53181ee396db80:-280377299,ab4db9aae702c0109fde2620278475ac:1623572220,594df9aa8602c010ea8a80bd39581894:1327224515</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_processor_bac11d9adbac58109e101461399619fd</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_processor"&gt;&lt;sys_processor action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;class_name/&gt;&lt;description/&gt;&lt;interactive&gt;false&lt;/interactive&gt;&lt;name&gt;Start Recording (Actions only)&lt;/name&gt;&lt;parameters/&gt;&lt;params_endpoint/&gt;&lt;path&gt;startRecordingActionsRegressionATFTest&lt;/path&gt;&lt;path_endpoint/&gt;&lt;require_csrf&gt;false&lt;/require_csrf&gt;&lt;roles&gt;snc_internal&lt;/roles&gt;&lt;script&gt;&lt;![CDATA[(function process(g_request, g_response, g_processor) {
	var response = "";

	 if (!RegressATFRecordSessionv2.isRecording()) {
		var recordingStarted = RegressATFRecordSessionv2.startRecording(null,"actions");
		var jsonParser = new JSON();
		response = jsonParser.encode(RegressATFRecordSessionv2.getSessionDetails());
		g_response.sendRedirect(gs.getSession().getStack().pop());
		if (recordingStarted) {
			gs.addInfoMessage('⏺ Started Regress ATF Test Recorder. For best results, start by creating a new record.');
		}
	 } 


	
})(g_request, g_response, g_processor);]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_processor&lt;/sys_class_name&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-05-05 09:24:41&lt;/sys_created_on&gt;&lt;sys_id&gt;bac11d9adbac58109e101461399619fd&lt;/sys_id&gt;&lt;sys_mod_count&gt;2&lt;/sys_mod_count&gt;&lt;sys_name&gt;Start Recording (Actions only)&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_processor_bac11d9adbac58109e101461399619fd&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-05 09:27:40&lt;/sys_updated_on&gt;&lt;type&gt;script&lt;/type&gt;&lt;/sys_processor&gt;&lt;/record_update&gt;</payload><payload_hash>-1848328304</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>6db46ec3db3814109e10146139961914</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b546e0000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Start Recording (Actions only)</target_name><type>Processor</type><update_domain>global</update_domain><update_guid>1a72d11e0aac58103e94f037c4e95d4e</update_guid><update_guid_history>1a72d11e0aac58103e94f037c4e95d4e:-1848328304,82e151daddac5810fdfa8ec8c56f7be6:-476884830,3ec11d9a7eac58104306573c09725bff:-1670983904</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_script_client_cd50bcd6dba10010f0a2f2823996197a</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;true&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field&gt;sys_created_on&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;Regress Record Initial Form State&lt;/name&gt;&lt;order&gt;99999&lt;/order&gt;&lt;script&gt;&lt;![CDATA[function onLoad() {

	var ga = new GlideAjax('RegressATFRecordSessionv2Ajax');
	ga.addParam('sysparm_name','canRecordForTable');
	ga.addParam('sysparm_table_name',g_form.getTableName());
	ga.getXMLAnswer(canRecordTableCallback);	
}

function canRecordTableCallback(xmlAnswer) {
	try {
		var regressDetails = JSON.parse(xmlAnswer);

		if (regressDetails.canRecordForTable == true) {
			jslog("Loading Regress Scripts");
			ScriptLoader.getScripts(["RegressUI.jsdbx","RegressFormStateHandler.jsdbx"], runRegressUI);		
			g_form.addInfoMessage(regressDetails.recordingMsg);
		} else {
			jslog("Regress is not recording or is not enabled for this table.");
		}
	} catch(e) {
		jslog("Regress UI Error: " + e);
	}
}

function runRegressUI() {
	jslog('Loaded Regress Scripts');
	try {
		// Added delay to wait for UI Policies to run first
		jslog('Waiting 500 ms for UI Policies to execute');
		setTimeout(captureInitialFormState,500);
	} catch (e) {
		g_form.addErrorMessage('RegressUI Error: ' + e);
	}
} 

function captureInitialFormState() {
	if (typeof regress !== 'undefined') {
		jslog('Capturing initial form state after delay');
		regress.reg_form.runRegressUI();
	}
}

]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-12-08 03:50:34&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;cd50bcd6dba10010f0a2f2823996197a&lt;/sys_id&gt;&lt;sys_mod_count&gt;46&lt;/sys_mod_count&gt;&lt;sys_name&gt;Regress Record Initial Form State&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_cd50bcd6dba10010f0a2f2823996197a&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-08 07:56:53&lt;/sys_updated_on&gt;&lt;table&gt;global&lt;/table&gt;&lt;type&gt;onLoad&lt;/type&gt;&lt;ui_type&gt;0&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload><payload_hash>1772896938</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>6db46ec3db3814109e10146139961917</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b51e60000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table>global</table><target_name>Regress Record Initial Form State</target_name><type>Client Script</type><update_domain>global</update_domain><update_guid>9dcab5e10e041010f1646451a91b619e</update_guid><update_guid_history>9dcab5e10e041010f1646451a91b619e:1772896938,439a31e1b9041010eb798e357619abb0:-1403603063,675cc794c81b0c10f0a572ee72f5a190:1772896938,53ba1f4e614fc010b11c8b591ae08024:-611239460,f18a9b4ed14fc0107c946c7eef29bb61:-1160338621,567a5b4e514fc01019a45cca361b5170:544624551,2d4ad34efc4fc0105440833ad4c7f39c:1841561343,0a2a5fca674fc010423d8a37689175ae:1929531481,0ea9d70eec4fc0107e1763adb91d4a05:1241008283,5d195fcaee4fc01098cc63ff051ccbfc:-1160338621,955813ca484fc010fe6ea895557ae345:1241008283,5b081f8abf4fc0101775cba772320bb0:1608212795,6df75f4a264fc010145d17ff0b978613:1241008283,a757dfc61a4fc0107d86012ec119ed97:1366239349,42a5570a304fc0105055dd80e514f87b:-288600867,491597c6664fc0109a9c1eeb3b7f16a1:-1110601227,59a4d3c6df4fc0101b3367bd10ee128e:105268069,71341786834fc0103c1bcfed11b34b5e:595461130,f72565da5bf68810be82288ca306c1fb:-1342082986,ebd4eddaeff6881043a389c021db0436:-2082841553,65c2e5d6bbf68810ca52e4079153d2d1:-495423087,e0ab0800907ac010a85992f9e4706f4f:1229434907,416b0800627ac010ae81bb0e5d98df12:80806351,5f4f3f37592ac010fbaad32cc0282fb2:-1997867050,66df92fb0e1e0010bad0163beb097055:386652792,20d4aab2e89e001091a25567d392d3bd:231846835,04c1e5d6bd5200101ab7590df82d4135:113983601,2399c55507de4410259f27faeb45504b:-366806329,1559c1910fde441054da25b7d3126848:1518900344,4e1981519bde4410ce0bcd656a6fb547:328400152,54b8c151c2de4410175575b26b50b355:-993775294,29c741dde29e4410f0d36ddca169c738:117928618,ae87015db19e44107092ffdec8b02711:-768311954,61378d1db49e441057ca8b32266c3ec8:1708718356,9bd68d1db99e44101593a5162f7f1f65:-1068129694,4fba3266b406c0105bcb71d8305cee21:328400152,07fea66a8dc2c0107c60a38efb184b7a:1629861443,8c0da22a73c2c0105a7fa10a1f2fc0dd:-444976647,8bbc26a60cc2c01037b01fa667106ed3:2092342122,e2d17a1acfc68010451fae3ab0c3c0fc:-1080960099,dfa1fa1a9bc680109f71f5b6fb0e3d11:1616246921,4471bed6bdc68010f33d4b7480ff1327:-700843917,b301b2d600c68010278099c7b038faca:-1100228059,449f22968fc68010fa7bbc6be3c171f5:899839149,a98b6a12a4c6801078e216c602718fd8:-513438360,508e5a16778680101ced462fd3c99d57:-1598759753,6feb91ecc57100100b474451e3a8b420:-955988548,f407184f6d610010f086bc1cfbe59e71:-669777212,0c6658cbc5610010a495a52d7f2e9592:-2092219617,da670152e9250010a0ae16fd17aa7f01:-1991160321,1214bc9e15a100109ef4075a1d959ce8:-2092219617,c2d0b8d607a10010fafe0ab6b3a82e17:-1729026945,e36078d6a1a10010d32ad82c09ea3507:937524736</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_script_include_79c67d9fdb214010f0a2f2823996197c</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;public&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;global.RegressATFRecordSessionv2&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description&gt;Singleton object to store recording session details&lt;/description&gt;&lt;name&gt;RegressATFRecordSessionv2&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var Regress = {};

var RegressATFRecordSessionv2 = (function() {
	
	// Class variables
	var REGRESS_SESSION_DATA = "REGRESS_ATF_RECORDER";
	
	var sessionDetails = {
		isRecording:false,
		startedByUserDisplay: '',
		startedByUser: '',
		lastRecordingByUser:  '', 
		start: null,
		test: null,
		primaryRecordSysID: null,
		primaryRecordTable: null,
		primaryRecordNumber: null,
		previousRecordSysID: null,
		previousRecordTable: null,
		previousRecordNumber: null,
		existingRecordQueryFields: gs.getProperty('regress.existing.query.fields',['state','type','stage','cat_item','approver'].join(",")),
		testRecordMarkers: [],
		allowableTables: gs.getProperty('regress.record.for.tables','task,sys_approval'),
		regressionLevel: gs.getProperty('regress.regression.level','simple')
	};
	
	// Constructor
	(function() {
		var JSONUtil = new JSON();
		var session = gs.getSession();
		var recordingDetailsAsJSON =  session.getClientData(REGRESS_SESSION_DATA);
		var recordingDetailsAsObj = JSONUtil.decode(recordingDetailsAsJSON);

		if (!gs.nil(recordingDetailsAsObj) ) {
			sessionDetails = recordingDetailsAsObj;
			var arrayUtil = new ArrayUtil();
			var existingRecordQueryFieldsAsArray = sessionDetails.existingRecordQueryFields.split(",");
			var uniqueExistingRecordQueryFields = arrayUtil.unique(existingRecordQueryFieldsAsArray);
			sessionDetails.existingRecordQueryFields = uniqueExistingRecordQueryFields.join(",");
		} 
		
	})();
	
	return {
		
		wasRecordingRecord: function(sys_id) {
			var testStepMarker = this.findTestStepMarker(sys_id);
			var answer = testStepMarker.sys_id != '';
			
			return answer;
		},
		
		getRegressionLevel: function() {
			return sessionDetails.regressionLevel;
		},
		
		hasRecordingUserChanged: function() {
			
			return sessionDetails.lastRecordingByUser != gs.getUserID();
		},
		
		getRecordingMsg: function() {
			var hrefHTML = this.getATFTestHREFHTML();
			var msg =  "⏺ You are currently Recording an ATF Test using Regress.&lt;br/&gt;";
			var stopMsg = "[&lt;a href='endRegressRecording.do'&gt;Stop&lt;/a&gt;]";
			var viewTest = "["+hrefHTML+"]";
			var takeSnapShot = "[&lt;a href='javascript:reg_form.takeSnapshot();'&gt;Debug snapshot in console&lt;/a&gt;]   ";
			var recordingMsg = msg + viewTest + stopMsg; 
			
			return recordingMsg;			
		},
		
		showRecordingMsg: function() {
			var recordingMsg = this.getRecordingMsg(); 
			gs.addInfoMessage(recordingMsg);	

		},
		
		canRecord: function(gr) {
			var answer = false;
			
			if (gs.nil(gr) &amp;&amp; !gs.nil(current)) {
				gr = current;
			}
			
			var tableName = gr.getTableName();
			var isRegressEnabled = this.isRegressEnabled();
			answer = this.isRegressEnabledForTable(tableName) &amp;&amp; isRegressEnabled;
			
			return answer;
		},
		
		isRegressEnabledForTable: function(tableName) {
			var answer = false;
			var allowedTablesArray = sessionDetails.allowableTables.split(",");
			var baseTable = new TableUtils(tableName).getAbsoluteBase() + ""; //returns a Java String, need to convert to JS string
			var isAllowedTable = allowedTablesArray.indexOf(tableName) &gt; -1;
			var isAllowableBaseTable = allowedTablesArray.indexOf(baseTable) &gt; -1;
			answer = isAllowedTable || isAllowableBaseTable;
			
			return answer;
		},
		
		isRegressEnabled: function() {
			var answer = gs.getProperty('regress.enabled','false') != "false";
			
			return answer;
		},
		
		isRecording: function() {
			
			return sessionDetails.isRecording;
		},
		
		isRecordingRecord: function(gr) {
		
			if (gs.nil(gr)) {
				gr = current;
			}
			
			var answer = sessionDetails.isRecording 
				&amp;&amp; sessionDetails.primaryRecordSysID == gr.getUniqueValue() 
				&amp;&amp; sessionDetails.primaryRecordNumber == gr.getValue('number')
				&amp;&amp; sessionDetails.primaryRecordTable == gr.getTableName();
				
			return answer;	
		},

		
		addRecordingDetailsToSession: function() {
			sessionDetails.lastRecordingByUser = gs.getUserID();
			var JSONUtil = new JSON();
			var recordingDetailsJSON = new JSON().encode(sessionDetails);
			var session = gs.getSession();
			session.putClientData(REGRESS_SESSION_DATA, recordingDetailsJSON);
			
			return recordingDetailsJSON;
		},
	
		
		startRecording: function(grATFTest, regressionLevel) {
			
			if (!gs.hasRole('regress_user') ) {
				gs.addErrorMessage("User does not have regress_user role");
				return false;
			}
			var isRegressEnabled = this.isRegressEnabled();
			
			if (!gs.nil(regressionLevel) &amp;&amp; isValidRegressionLevel(regressionLevel)) {
				sessionDetails.regressionLevel = regressionLevel;
			}
			
			if (isRegressEnabled == true || isRegressEnabled == 'true') {
				sessionDetails.isRecording = true;
				sessionDetails.start= new GlideDateTime().getValue();
				
				var testGenerator;
				if (gs.nil(grATFTest)) {
					testGenerator = new TestGenerator(); 
				} else {
					testGenerator = new TestGenerator(null, grATFTest); 
				}

				sessionDetails.test = testGenerator.generateTestSteps();
				sessionDetails.startedByUser = gs.getUserID();
				sessionDetails.startedByUserDisplay = gs.getUserDisplayName();
				
				this.addRecordingDetailsToSession();
				
				return true;
			} else {
				gs.addErrorMessage("Regress ATF Recorder is currently disabled.");
				
				return false;
			}
			
		},
		
		addPrimaryRecord: function(gr) {
			sessionDetails.primaryRecordSysID = gr.getUniqueValue();
			sessionDetails.primaryRecordTable = gr.getTableName();
			sessionDetails.primaryRecordNumber = gr.getValue('number');

			//this.addRecordingDetailsToSession();
		},

		getPreviousRecordTestStepReference: function(sys_id) {
			var marker = this.findTestStepMarker(sys_id);
			var testStepSysID = marker.test_step;
			
			return testStepSysID;			
		},

		addTestStepMarker: function(recordSysID,testStepSysID) {

			var marker = this.findTestStepMarker(recordSysID);
			marker.test_step = testStepSysID;
			
			if (marker.sys_id == '') {
				marker.sys_id = recordSysID;
				sessionDetails.testRecordMarkers.push(marker);
			}		

			this.addRecordingDetailsToSession();			
		},
		
		findTestStepMarker: function(recordSysID) {
			var foundMarker = {sys_id: '', test_step: ''};

			for (var m in sessionDetails.testRecordMarkers) {
				var marker = sessionDetails.testRecordMarkers[m];
				if (marker.sys_id == recordSysID) {
					foundMarker = marker;
					break;
				}
			}
			
			return foundMarker;
		},
		
		stopRecording: function() {
			sessionDetails.isRecording = false;
			sessionDetails.watchedRecords = [];
			clearSessionData();
			
		},

		getATFTest: function() {
			var grTest = new GlideRecord('sys_atf_test');
			grTest.get(sessionDetails.test);
			
			return grTest;
		},
		
		setATFTest: function(grATFTestSysID) {
			sessionDetails.test = grATFTestSysID;
		},

		getATFTestHREFHTML: function() {
			var grTest = this.getATFTest();
			var htmlHref =  "&lt;a href='"+grTest.getLink()+"' target='_blank'&gt;View Test&lt;/a&gt;";
			
			return htmlHref;
		},
		
		getExistingRecordQueryFields: function() {
			return sessionDetails.existingRecordQueryFields.split(",");
		},
		
		getSessionDetails: function() {
			
		   return sessionDetails;	
		},
		
		toString: function() {
			var jsonUtil = new JSON();
			var recordingDetailsAsJSON = jsonUtil.encode(sessionDetails);
			
			return jsonUtil.stringify(recordingDetailsAsJSON);
		},		
		
		type: 'RegressATFRecordSessionv2'
		
	};
	
	// Private methods
	function isValidRegressionLevel(regressionLevel) {
		var answer = false;
		answer = regressionLevel.match("^(actions|exhaustive|simple)$");
		
		return regressionLevel;
	}
	
	function clearSessionData () {
		var session = gs.getSession();
		session.putClientData(REGRESS_SESSION_DATA,null);
	}
	
})();]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-12-11 11:31:50&lt;/sys_created_on&gt;&lt;sys_id&gt;79c67d9fdb214010f0a2f2823996197c&lt;/sys_id&gt;&lt;sys_mod_count&gt;112&lt;/sys_mod_count&gt;&lt;sys_name&gt;RegressATFRecordSessionv2&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_79c67d9fdb214010f0a2f2823996197c&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-05 09:16:36&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload><payload_hash>471124939</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>6db46ec3db3814109e1014613996191a</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b543f0000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>RegressATFRecordSessionv2</target_name><type>Script Include</type><update_domain>global</update_domain><update_guid>ccff095684ac58101796efa6e31c1223</update_guid><update_guid_history>ccff095684ac58101796efa6e31c1223:471124939,295c05d277ac5810b33aca5a8c1de222:-1843996721,7c3953ebf690901000cf51e233791b9e:-2001948485,b11d78be80545c10dad9845b88d7bb6d:-2128714533,f2fb3c3e42545c10eb9472fedf0325ab:1667373479,29547f9a8f101c100aa70be8259e168e:-748074870,85d797c63f4fc01065a0eab6ffcb5a40:750159077,6db6574a794fc010c0650a7dbf7876f0:-598936428,070ec3ce300fc010adc22a99afb320b0:-1804961823,aceb47ca6d0fc010b899ea34885d74ea:1188836042,68ab830e970fc0105917c5d572e64759:-1140910006,c97b47ca0a0fc0100e7d7feb2b855ce3:1854187163,4d0b4b8a9d0fc01098dcdbca1b967b08:-1113032382,647a8b8ab40fc01017ef0ed78057c027:658572504,f6790b4a380fc010dddd80bbd5cd5342:-1081779966,7a690f4af00fc01079310be15d8fa70c:-911143257,8929c74a3d0fc010f638f471c924b697:-417567674,b18029564df68810d9ded9fa70108372:1954633068,a44f51928af6881022fa81f1ccee0108:-441620908,edc985c1ee3e841079bdda7cd1c6c962:-257724136,c02db08581fa841083ca381795ddc957:-1495358189,22fc7085e4fa8410c0a49563d91706d7:1106413439,eadc304500fa8410e856a2de6d9bb50c:-1408267675,deaa74c122fa841054cda221b911de44:1106413439,e811dc84bf7ac01061cf1490621fe151:1542571972,2eb0d484127ac0104a58896780be817c:130230920,aa905c44237ac010fbfbcd5f8a29f709:932265310,e760d4841b7ac010942317f23e9cb559:-1208759938,ef7f4844a37ac0106e572f11455c1244:-1780878455,adbd0cc0d57ac010413ed18cc59a767f:-879369667,8e9d8880e47ac01096fcb3af4c269fb4:-993902455,55950088fe3ac010542316b5fc9632b3:1897485928,463403056b668010d2475e2aa9ac791a:1468750780,80738fc17b668010956ddb41cbb133c1:1103917949,80710781d366801091a044fdad7d1e09:1959116457,a42e36cd3b268010c6e2328232ca8f21:677252327,f1abe6015b268010d5eb2674af00439f:2048994268,677baacd7fe28010a8d5eccf0501c633:-664116374,2e4ba201612680107b2a51a97a16f986:886284997,5b0b2acd0de2801026db341fa8fd87a2:-471494196,246beb08e56e4010a87956c49f86fb9c:-429085660,894beb08456e40107fb2d14a64bfe22c:-32619949,bd4be7d377120010766abefd326dc469:-429085660,d9692f53b6120010027cbd94df9bcea3:1867600370,9e28ea76039e0010c090170e45961580:-429085660,01a0caaa065200107917d5d3d3a588bb:360154328,115a39e26d520010db7bee864baa8def:-1439390711,033ab5a224520010683c6eb09b516713:-1281414487,fe99bd6edb12001065c24434d33afc68:1098394416,a168f5ee011200108d1374becff42aed:186826175,adc06d5693520010552f1201acbd252b:1909005473,a69c5d9ee61200102daf86c9adc9268a:1633739271,63c7cd2df89a84106cba3f9e67a4f27a:-1737116752,f531199dafde4410f9a21f7b3c849644:906780354,0365cd99d29e4410f2f1cb5bd5e2f8f1:2000166196,9c944d99139e441095b7f87e06c4e34c:417436052,52438959f59e44103df6b66fcf611627:1731782904,72814519e89e4410ed5f6e4092fa315a:459676385,f4d00d95aa9e4410775a52ec341cdf22:-1398744528,7dc009d52d9e44103f99b8c50f578d28:-271251290,d850c1d52d9e4410d491457ed0992597:2118640194,2f208995349e441075ee9a0e62d9f9dc:504801037,9f6fb495f49e441066319902f29ec517:-986487846,ae4f38958f9e4410384e28d2e92151ed:-1193392263,9a6eb8554b9e44105880234b5bf3aa31:-695585824,4b6d38152a9e44104b9c01fc0fc52bc1:478478878,12d7385d4a5e44108ee4350103f77f79:184099711,2107705dc45e4410c488dd390c19a732:-863048863,e6f138557d5e44102d10a71c7a0d8d3d:846975794,22b174557d5e4410f0691b660721322d:2115319686,1ca13455525e44101824ef463c22e60c:-1299061624,357fe891a45e4410add43e607256df80:1079140779,3af1272fae464010b5575d780099841b:-1522681955,d1de9b6bdd4640100ccbd7170b347c9f:91910371,435013aada46c010208d77dba04178bf:899811196,80958bee6806c0109a75d59ba5d5b103:890375950,56469e26cc82c0102a276cd79d1c95b6:-1747592434,9336d2267982c010f5e9e81074f51a37:1648614647,3e26da26a882c010c00c14ab49cd8fa5:480807055,4d951626f882c0109d8499905605091d:1950895057,d04512266f82c0105c58b54cb6b81da8:-730767556,d1844e260a42c010bf610a4b9a631d27:1940645094,a4cf716e3f02c01071255e7d51a751fe:-197338916,d15f39eaca02c010265a80df126978fe:-1640620938,ebb32a5a418680105c921391a28f3133:-2033349442,24b022960286801068bfaaa059b4e780:-579697599,734fd6564e868010162e873cb3ecc1f5:290768800,88ab1692ec8680100a02626558f5e62d:-1989047876,d9e4569a7c468010c1ae30bbe58dc12d:-1562614438,5adc65564ac28010a83d141b7c6948fd:1243090683,20e7edd27dc28010a324643572021e4a:-227680328,f286e9d2b2c28010dd569d604790c66c:749474105,53b5a1d2e9c2801090ae0243392e0798:741231655,4d65659283c28010f9732e54eeb796c5:1727647389,4dea19d6a08280100e9fb9fa488cad48:446655084,e0c7ad6c3cb1001052415412e4e79b9c:844486294,f277e92c3ab100106eeb0836c762a57e:446655084,cb37256c27b10010bcd5b2936374f91d:-210938709,5a38196cbb710010b1fd79b99cc7f57d:2064021927,52adc164b7710010181ec4666350b26f:-1298751167,0d8a85204e710010ae286301936268fa:-1365573826,a13905208e71001042be2bbaf3c5b1ed:306349520,c519052047710010ecaf9e56ff9648da:1913362096,eab889ec2a31001036db33397f1d0570:-874021194,4c66092ce4310010730c63a1a1604088:-926691803,41544568b2310010b4b75e93e76aa564:956369986,a6f245686131001099370b4a9b85f744:-2092431516,292d31d7d8614010e87d0a04e748c87c:363956767,a8ccf9971561401063539dba60df9494:-1455572956,1e6bb19385614010b4ac7b8bdab8b9bd:579294747,602b315775614010a72e913c19802fee:-625263134,490b7593f9614010827e8eda5ec5f036:1408543687,cecaf9176e6140108e7b5ff43eef2959:-182585120,29aa3d1707614010c7af9cbd0bdf957b:687389915,075af11758614010ed8824d63489f72e:8489328,b0e97ddfeb214010e88ba28c98658e91:639627035,71c67d9f8b214010cad7ad14520ed37f:768231589</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>catalog_ui_policy_action_d3fd1f67dbd090109e1014613996191b</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="catalog_ui_policy_action"><catalog_ui_policy_action action="INSERT_OR_UPDATE"><catalog_item display_value="Regress Properties">e194ce26db42c0109e10146139961954</catalog_item><catalog_variable>IO:9fab1ba3dbd090109e101461399619e0</catalog_variable><cleared>false</cleared><disabled>true</disabled><field/><mandatory>ignore</mandatory><order>100</order><sys_class_name>catalog_ui_policy_action</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-04-27 06:33:56</sys_created_on><sys_id>d3fd1f67dbd090109e1014613996191b</sys_id><sys_mod_count>0</sys_mod_count><sys_name>test_template_sc_sp</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>catalog_ui_policy_action_d3fd1f67dbd090109e1014613996191b</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-04-27 06:33:56</sys_updated_on><table/><ui_policy display_value="Always">acdac585db3e84109e101461399619e2</ui_policy><variable>test_template_sc_sp</variable><variable_set/><visible>ignore</visible></catalog_ui_policy_action></record_update>]]></payload><payload_hash>989619858</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>6db4ee43db3814109e10146139961981</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b53a90000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>test_template_sc_sp</target_name><type>Catalog UI Policy Action</type><update_domain>global</update_domain><update_guid>dffd1f67d7d090100d60ab79c2352c1c</update_guid><update_guid_history>dffd1f67d7d090100d60ab79c2352c1c:989619858</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_app_86935f2adbc233001c4af53a2996191f</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_app"><sys_app action="INSERT_OR_UPDATE"><active>true</active><can_edit_in_studio>false</can_edit_in_studio><enforce_license>log</enforce_license><guided_setup_guid/><js_level>helsinki_es5</js_level><licensable>true</licensable><license_category>none</license_category><license_model>none</license_model><logo/><menu display_value="Regress - ATF Recorder">0a931f6adbc233001c4af53a2996195f</menu><name>Regress - ATF Recorder</name><private>false</private><restrict_table_access>false</restrict_table_access><runtime_access_tracking>permissive</runtime_access_tracking><scope>global</scope><scoped_administration>false</scoped_administration><short_description>https://developer.servicenow.com/app.do#!/share/contents/5672333_regress_atf_service_catalog_test_generator?t=PRODUCT_DETAILS</short_description><source>86935f2adbc233001c4af53a2996191f</source><store_correlation_id/><store_url/><sys_class_name>sys_app</sys_class_name><sys_code/><sys_created_by>admin</sys_created_by><sys_created_on>2019-06-18 10:42:10</sys_created_on><sys_id>86935f2adbc233001c4af53a2996191f</sys_id><sys_mod_count>12</sys_mod_count><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-04-27 06:34:45</sys_updated_on><template/><trackable>true</trackable><user_role display_value="regress_user" name="regress_user">42931f6adbc233001c4af53a29961962</user_role><vendor/><vendor_prefix/><version>0.994</version></sys_app></record_update>]]></payload><payload_hash>941376483</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>a1b46ec3db3814109e10146139961910</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4c310000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Regress - ATF Recorder</target_name><type>Custom Application</type><update_domain>global</update_domain><update_guid>6b2e13a7ddd0901024dadc9274c96a7c</update_guid><update_guid_history>6b2e13a7ddd0901024dadc9274c96a7c:941376483,12bd0fd81b1b0c108d12c9bd58ed312c:611610722,28656532fa8784106c68ed4e87b3f908:281844961,6d1811324f47841081cf5c3319fefe94:-47920800,95354ddebf7688107840b9948aa568e6:-591665146,f705c9dea6768810c46e61915bdec2a6:1486765917,1aa1a658353e04100623b2abef79307e:-1665275809,de70e27f331e001089f00c70f24158c5:321331160,373896b39d1e0010bc65501091472214:-1481365087,97eaf553ee860010aa21b70f19f999f1:-225325053,7685bda2bf02c01099dae4057aea4b33:-379482138,d83c817ed892330072af418bef055af3:-362145852,02931f6a42c233002ce89dbd6ac8eea7:-1056793620</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_atf_test_template_408c9be7db4640109e101461399619f2</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_atf_test_template"><sys_atf_test_template action="INSERT_OR_UPDATE"><description>Used by Regress ATF Recorder to capture who started the recording.</description><name>Regress ATF Recorder - Start Recording</name><sys_class_name>sys_atf_test_template</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-01-06 10:06:24</sys_created_on><sys_id>408c9be7db4640109e101461399619f2</sys_id><sys_mod_count>5</sys_mod_count><sys_name>Regress ATF Recorder - Start Recording</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>sys_atf_test_template_408c9be7db4640109e101461399619f2</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-04-20 11:00:15</sys_updated_on><template>071ee5b253331200040729cac2dc348d</template></sys_atf_test_template></record_update>]]></payload><payload_hash>-420150104</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>a1b46ec3db3814109e10146139961913</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b527f0000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Regress ATF Recorder - Start Recording</target_name><type>Test Template</type><update_domain>global</update_domain><update_guid>e0d71cedac5018107018fc66182f2ea9</update_guid><update_guid_history>e0d71cedac5018107018fc66182f2ea9:-420150104,2cdc985d2707001096c7874c4e126671:1888803232,08bc901d0a07001005a4f6b4fa39a1ab:1169449795,db9cd01dd5070010c297a18643caeb92:1999487975,769c9be7a0464010227502a0ea711812:1888803232,778c5ba7c5464010d3ab4539cd5ac3a0:1917872225</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_properties_d5c5c52cdb310010f0a2f282399619a5</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_properties"><sys_properties action="INSERT_OR_UPDATE"><choices/><description>Enable recording of ATF Tests</description><ignore_cache>false</ignore_cache><is_private>false</is_private><name>regress.enabled</name><read_roles/><suffix>re</suffix><sys_class_name>sys_properties</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2019-12-15 05:10:18</sys_created_on><sys_id>d5c5c52cdb310010f0a2f282399619a5</sys_id><sys_mod_count>26</sys_mod_count><sys_name>regress.enabled</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>sys_properties_d5c5c52cdb310010f0a2f282399619a5</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-05 10:20:32</sys_updated_on><type>boolean</type><value>false</value><write_roles>regress_user</write_roles></sys_properties><sys_translated_text action="delete_multiple" query="documentkey=d5c5c52cdb310010f0a2f282399619a5"/></record_update>]]></payload><payload_hash>1244226732</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>a1b46ec3db3814109e10146139961916</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b55cf0000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>regress.enabled</target_name><type>System Property</type><update_domain>global</update_domain><update_guid>199e995ed4ec5810f3ad137c03d653f0</update_guid><update_guid_history>199e995ed4ec5810f3ad137c03d653f0:1244226732,67e9de4de67f0010e200bf43945dabe3:-1869023491,fe9e835cc41b0c100f2814929db2462e:1244226732,6205fd3699c78410b80d017d2eccb33d:-1869023491,9c74e1fe31478410ee4f4f1d5e1af6f9:1244226732,1d70697ac14784100409312b34502220:-1869023491,14c791fecd078410d1d63cd48d9200be:1244226732,c195d1fa26078410a2fc28937586362b:-1869023491,0c859dba7407841012c7c49ff63019b6:1244226732,c0109b42d54fc0103cfbb2b9df0e9a44:-1869023491,fa303daa8bf2c8103c94efba4f13f0dc:1244226732,3d6f551647f6881062ad11a8f0193659:-1869023491,cc3c5d12d7f688102525f26b69b55897:1244226732,97d3c11ea87688109cdd259738e20db8:-1869023491,b14a4945323e8410395d6a3ddedfbf80:-1497791924,60e94d05573e841051c8ccb45e46b4d5:-132496579,ea79c1052a3e84107b86163793c728e5:1244226732,799956e60582c010d452a9920d0762fd:-1869023491,56f35ea26982c0107e339b72774fce71:1244226732,1fb3d6a2d182c010264672f7c0da3868:-1869023491,368352a29282c0107ebafbfecc052de0:1244226732,06139a620582c01054fee1bd84da35b5:-1869023491,5ca64d6cab3100100b32708263de7040:-1398065075,dd96896cf2310010311d3938d51f5309:1327376994,ecf54d2cde3100109cd783dfe79ac0d3:61285390,35e5092cad310010f9c3f3bb08fd7272:-284443305,d0d5092c173100101331bffd252e106a:686276628</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_script_include_276e0048db7633001c4af53a2996194e</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;global.AbstractStateValidationTestStepGenerator&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description&gt;Used by Variable and Field State&lt;/description&gt;&lt;name&gt;AbstractStateValidationTestStepGenerator&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var AbstractStateValidationTestStepGenerator = Class.create();
AbstractStateValidationTestStepGenerator.prototype = Object.extendsObject(TestStepGenerator, {

	setFieldState: function(fieldState) {
		this.fieldState = fieldState;
	},
	
	generateTestStep: function() {
		if (gs.nil(this.fieldState)) {
			this.grATFStep.deleteRecord();
		} else {
			this.setupFieldValidation();
		}
	},
	
	setupFieldValidation: function() {
		
		var complexityLevel = RegressATFRecordSessionv2.getRegressionLevel();
		
		var isSimpleFieldStatesEmpty = 
			gs.nil(this.fieldState.mandatory.toString()) 
			&amp;&amp; gs.nil(this.fieldState.hidden.toString()) 
			&amp;&amp; gs.nil(this.fieldState.readOnly.toString());

		var isExhaustiveFieldStatesEmpty = 
			gs.nil(this.fieldState.optional.toString()) 
			&amp;&amp; gs.nil(this.fieldState.visible.toString()) 
			&amp;&amp; gs.nil(this.fieldState.editable.toString());
		
		this.grATFStep.inputs.mandatory = this.fieldState.mandatory.toString();
		this.grATFStep.inputs.not_visible = this.fieldState.hidden.toString();
		this.grATFStep.inputs.read_only = this.fieldState.readOnly.toString();
		
		if (complexityLevel == 'exhaustive') {
			this.grATFStep.inputs.not_mandatory = this.fieldState.optional.toString();
			this.grATFStep.inputs.visible = this.fieldState.visible.toString();
			this.grATFStep.inputs.not_read_only = this.fieldState.editable.toString();
			
			if (isSimpleFieldStatesEmpty &amp;&amp; isExhaustiveFieldStatesEmpty) {
				this.grATFStep.deleteRecord();
				return;
			}
				
		} else if (isSimpleFieldStatesEmpty) {
			this.grATFStep.deleteRecord();
			return;
		}
		
		TestStepGenerator.prototype.generateTestStep.call(this);
	},
	

	
    type: 'AbstractStateValidationTestStepGenerator'
});]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-07-17 08:43:01&lt;/sys_created_on&gt;&lt;sys_id&gt;276e0048db7633001c4af53a2996194e&lt;/sys_id&gt;&lt;sys_mod_count&gt;29&lt;/sys_mod_count&gt;&lt;sys_name&gt;AbstractStateValidationTestStepGenerator&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_276e0048db7633001c4af53a2996194e&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-05 09:08:12&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload><payload_hash>1068835303</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>a1b46ec3db3814109e10146139961919</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b542b0000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>AbstractStateValidationTestStepGenerator</target_name><type>Script Include</type><update_domain>global</update_domain><update_guid>190e8d564cac5810f36465ad1d9b4664</update_guid><update_guid_history>190e8d564cac5810f36465ad1d9b4664:1068835303,a2fb85614eda8410faa774108fd81d81:424450701,a149faa8295204107b5a73b5114ee1e9:1627031252,fc08ac48f0168010c481ad876aec743c:1396805407,79c2a480da168010aa5575b7143db603:1749745163,f3626480c9168010349cb04cea72dcd8:56875339,75226080b0168010c48424a7c2acb4eb:-1697751723,1ff16c40641680100c4e6f1ee2f0ccdc:-1150826699,fde16c40781680100a973be0490ecfd6:638941887,cad1e840f21680105aa3980d2ea67a83:-325831403,01a124008316801079a45eb8112828af:776071963,fb21eccc0bd280104b9b98415693d87f:-34565419,61c06c0005168010d7dfe1bbb4fe0053:-297850132,4670a0cc0bd28010751b67d6925db43e:-68895026,6c44ff6fb186401038d93b2bc703a30e:-1388234858,9fe7751f8d460010d1f21896501d6bf6:-2087410223,b667bd1fe14600102b95812cc81296e0:-215993229,4bf91f26a186c0109633fd7d5495a660:-504242445,9c2b47260346c0107b019ae0e04b46d2:-1252315409,45d687222446c0106db587d0f2cd3b23:409166319,d83a6e2688c2c0107f2e91a494d27497:836716323,0e2a626621c2c010d068a67b9bdf932b:-1775953956,a264ebdb92323300cb9ebedebeed934d:112881877,f04e1b9731323300447d2e697ce585a0:1581705839,fb2751d433323300f82755df252ea3f1:1293146736,63a695948d3233001b039e94ea1250a4:466404381,a8d3551427323300f072e32c8f62fe4a:-1682150428,8e431d506632330055a8c9b41a4c09e3:-609724973,038f00480d7633005972dfb8412d2f55:-798476987,6b6e0048c176330081858d719d786350:-66679318</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_script_include_ce201896db3233001c4af53a299619ee</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;public&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;global.TestGenAjax&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;true&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;TestGenAjax&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var TestGenAjax = Class.create();
TestGenAjax.prototype = Object.extendsObject(global.AbstractAjaxProcessor, {

    process: function() {
        var isNewRecord;
        var url;

        var formState = JSON.parse(this.getParameter('sysparm_form_state').toString());
        //recordFormState_v1
        if (formState.type == 'recordFormState_v1') {
            this.formState = formState;
            gs.debug(this.getParameter('sysparm_form_state'));
        }

		url = this.createRegressionTest();

        return url;
    },
	
   createRegressionTest: function() {

        var url;

        try {
            var regress;

            var grTest = RegressATFRecordSessionv2.getATFTest();
            if (grTest.isValidRecord()) {
                regress = new TestGenerator(this.formState,grTest);
            } else {
                regress = new TestGenerator(this.formState);
            }
			
			regress.setupTest();
			
			url = regress.grTest.getLink();	
			
        } catch (e) {
            gs.addErrorMessage(e);
        }

        return url;
    },



    type: 'TestGenAjax'
});]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-07-24 08:37:08&lt;/sys_created_on&gt;&lt;sys_id&gt;ce201896db3233001c4af53a299619ee&lt;/sys_id&gt;&lt;sys_mod_count&gt;166&lt;/sys_mod_count&gt;&lt;sys_name&gt;TestGenAjax&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_ce201896db3233001c4af53a299619ee&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-25 03:54:44&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload><payload_hash>-2030586341</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>a1b46ec3db3814109e1014613996191c</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b52a10000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>TestGenAjax</target_name><type>Script Include</type><update_domain>global</update_domain><update_guid>0866accff9549c101f27d4a763e71ac0</update_guid><update_guid_history>0866accff9549c101f27d4a763e71ac0:-2030586341,295c50c3db149c10b1ef7ac6cf6b57dd:-1197558309,800bb43ec4545c10657edcc691c03678:-2030586341,049a739230501c1021db3721bd14824d:-312078987,c7b73f9e25101c10bdc4238d2b304b1a:-1307576209,4f77bf5e18101c10703d19379e0a1714:1326201618,e327bf5e18101c10eeaeb1ded38e5938:-267966823,d4e6375e93101c1069919d260248e174:1486994859,3b65371e56101c1016e3a75e8b31e376:1648659533,4bc3b39a75101c107bd11567ef340a52:1574362834,0f737f5a62101c10901886f9175beb66:1456562158,30efef168d101c101787669d4d167ca3:-2070502300,3953fe07a5c89410c3cd30ca1ba50e1c:-1555443679,8aecb0a277c0141078ea448db8f4f488:-1148106269,f5f95539268050103c659d4ba27fbff6:-2102621209,4934c6edc4041010ba4e040a34626728:-1816581276,3ae1422d54041010b4c6b936aee6617f:-455142675,4f408aa9f3041010583405b8ab1f73e0:1482280045,8690c084bc3ac0103cef710682754265:749280261,ad20cc04613ac0104a46f1219762b60c:-271630997,84590dad509a841097a87cda414df612:989842265,4827cde9a99a8410b62b9c8eb60496da:-650150119,7737311fb94600102d88cc4303ec32eb:-1289243477,8b1f6cd78942001084554b28db19fac5:-594918366,368a9b667586c010611a08d26e53f3e7:475514324,c799dfe2db86c01059a79058f91edc45:1470947606,6b195fe28e86c01051d6ee8661eec476:-1179191226,298813e2dc86c010d581955412480ca4:1915348080,04a05b6abc46c0108d0693c9b493f191:-1772640497,49cf476a6046c01054e1b1bcb3c4a47d:-1412180376,5c6c8b265746c0103fd2788e44ec4f85:-1785590081,db7b0b26f646c01052bb18f9087e5a8d:-1118400530,ea4b8b266f46c0109ed5fb5c40a2ad26:2064088076,dcaa0fe25846c010fdcc9bc4ef583a0c:-1772158592,322a47a20846c010064ede0dc13fb397:1908057312,2de9cba25946c0101dd6dff3672fc690:1421464002,df854bee9306c010bb2f95459dd0a2ed:1585268655,5c65c3ae1606c0102d29e825eee2782f:-296119491,10930b6e9006c010bd2e25a3cf7ccb4a:-692077555,cf130f2e2b06c010bb9b1670362819e0:1427903794,e3f2cf2e3706c010c0c04f5d1785a304:-1269355036,f6524faa2d06c010b9f7b05bd74d4950:-1075286572,7e22c3aa0606c0105ae297ba950b3222:1166623273,2bc96a9ecd8680108eb44efacf0403ad:-1623538978,65962eda7a86801099463bb3e82ae5d7:1204880451,f2b4ee5aa88680109019b54a1ebc7d9c:1417151898,c4932a5a84868010e4d62758d9d15493:46781096,ac916ad6fc86801087e1bab7cc1f944b:-1897180196,aa71a2d6378680101414d8417ca9ca37:-1668998343,d81c5a9299868010e70ddcef66c77377:-1020490005,af625ed631468010f306039a01abab0a:-151113991,2a129e9605468010ec7c980551ae9641:-1224631549,0721569644468010ecce6d8c4d4082e4:-1009392368,996f0a16a146801028088294dfcaef48:2003295407,06fe4ed2e24680108a50926d53e6048f:448005545,39ee42d2a0468010860ca2282b3ab400:-243328957,38be86d24d4680109e8899fc68b84aba:-1196895599,3b1e4e528e4680106dc02740b975fcb1:-838151370,a72d469269468010d2ee335c98917dfa:950641987,449c4a12a7468010c66d329e3c1f9c88:599223438,46ba46de2d06801011a49d04db194361:-302493261,9a4a46de70068010894adfbd49794e5b:1747995042,fab98e9e2b068010f9354ea04ae9deb5:-171042718,84f74a1e5c068010033e9e4737a97a02:579582072,86c64adaed0680100f4b4e3c184105f2:1833350289,6ec58e9adf068010f62147543d250ac4:729367766,2cc4799eecc28010e18d3291bcb07c9b:-2135613609,ce74759e52c280108387b15c05a14452:1785800737,1064bd5ef7c280102d33b1b6e53a561b:426986939,9a72391e8bc28010ed8b18915dfd8e15:-415998643,f042f55ac3c28010d5fc2addb5b452d3:1983130466,ea7e655a51c2801019ecb30401a9eb2a:-415998643,974ea91ab7c2801030c789f23957b595:-1067596581,8529e9d291c28010905fad93aeb1e678:-219301512,9bd821168ec280102c6d25ec3b683399:-1855230886,6f4a519613828010f5d04f3d72f05fce:79306061,470de56023f100100ceaf597b0a5d4fe:498751401,ce28e1ac2bb10010ae5fede3bdc98af2:1267266233,6e5061a40eb1001055521b755cd1ef9f:-498038516,8a3b4d60e1710010addb45674aa7aed0:1111989652,efc8412021710010872ecf8b3a076959:-1213423212,c04889ac493100105d76ecf199b02307:515500328,ac0801ac16310010451f92e289eefc4b:-477890439,05b2319f6a2140108a6eadfebbf195f3:1589205333,1940f91f00214010e7a9378c1bf50eb1:-1296603136,380031db35214010debc2d3142f96f4f:1752318250,b38f611f7921401085c422ba8b165865:609812441,181fe9db572140108cb90e64de8693d8:-198081447,6e6e21db3a2140102ac6176f9baf2934:-284490548,6bfd2d9ba42140109475c92f89dd6abe:-674721184,593da15bc52140106ffd91fa44132adc:1723750038,987c295b952140102d545d48259ec67c:-376314437,61ab2d1b44214010cdda1e555dc52b86:1507803215,236a2dd3e5214010b5779f17d268721d:-35974952,2285edd3dc2140107b32561813ae2c33:-1912846782,1225e9d359214010842cd61c7120650f:665457110,3b94a95fc1ed0010dee87384e9e6a488:-1145614187,96bdb80f71e10010d9bf7d2bd06db7fa:-716161008,3e7db80f00e100109793191f3f9289d0:1912553360,79bcb0cb2de100106ca1f289d7febc4d:1286627216,3bacf48be6e10010ac804cf5b0b5d454:-1076210938,bc3cbc8b28e100109244c91d6d8a65a5:1577633555,a1efec16b1a10010680098e845d8fdcc:1555298003,e98e24168aa10010da275c204b4fd097:622342227,978d2812aaa10010d145aa60ff3a47a8:-893332547,46fc6c5215a10010932a88cf91763e0b:1767652296,0d8cecde836100104e15279b83a21939:1684620198,653ce8de276100106f1a23b1a2cb33ae:-694084812,e7fa245e09610010630e237c008caa4d:-586487635,850a601e6b610010aab7452174d15683:1200905637,bbb96cdaaa610010634c1a9da629513a:-413697207,685964da0c610010be9a1e3c829404bb:-1455888148,0529e09a1c61001056adb2b8afbab4c0:-675010524,8af4a096be61001006d62ba65bb42663:-444566702,46866879315dc010d4e1deba5dd6d2ee:1240876367,47766879ee5dc010d280ca665664a30f:805739368,e91368758b5dc0102a1c5e565bba8865:1014393829,1f626875325dc010a8596ae6a3afe0af:-1651706108,fac12475cd5dc01019babd448c27382a:-325959508,7a816835a15dc01051de1a5a861b0425:751288132,d8e0ecb14d5dc010ae1ded2562ae908a:-1663602048,216e1431b55dc010381bb59090cd7bd4:-2140111959,3ced18fd411dc01082eb163d3e634182:1508760337,e66d98bd4e1dc010c8f1071a6942ab6d:-1950802136,88fc14bdb11dc01054a14efcdfb4e99b:-1985705850,dcec14bdb71dc010c1c3146a3f3cce95:810724282,ccdc98bd181dc010691947226af50487:1892809866,f86c98bd311dc0108a6347a51551f266:1156296862,73fb987d7f1dc010d80143f4edb05d28:1093411200,09db5c7db41dc0107c3f1b7011374110:952883480,7c4b547db51dc010919ed40328b74584:-1024708999,c0ca507d2c1dc0109b9c26ce0be5446c:1748888094,574b986d6e11c010b6f5d40e1ea16668:-2140111959,0366d4e5ce11c010334239678ea3a382:174394597,887498654811c010656613c72ff65ffe:-1223673274,5bcacca90edd801084f5443c5c911f1f:-1406785524,99894c6945dd8010ccf49450118152d3:1659884314,1b98c8a5d6dd80108e94577865d48a3a:-521898668,c61884a571dd8010ae078d108896aff1:2111625142,54397fd90f9d801072ac44d3cd5ce1b0:-1207744672,eac83fd9f59d801097ed3dee28ab01e0:489685841,e1a0fc1fb1b33300d8cf31be2cab7885:1584513304,a0af641f6fb333004f8e38560dbe9537:-1654309602,8d6c4853827333006d4f41c178e342c7:-470106512,a646481ff2333300779b09e9f32bee19:-1220600850,6926c41f903333005b98bb1e6ac3c101:-1662793503,5874c01b60333300f19e6bd3987c7239:-758942561,8c6488d7f13333008db6d185311a7906:1715536287,d15f7b83d8333300129e9d88cb207853:26779735,a497739b2472330047d7bcd0e03ba26e:135369446,12b5339b057233002d6db4e76b38bfd1:1741211197,ba55775bf4723300e6043cdbffce6d79:-264282232,4284bbd7d47233008178794556178468:-1481648003,20447f1bd07233009e7a8cd3a72009c4:-1570351830,5fc3331b4072330063b32e7238344ad2:1238891530,7f33f3d7af723300f489f99a4844e25c:-910488076,b3a27bd765723300dbefee73618f992a:-31732831,a9223b97cd72330069db86cade238370:-900051708,d711339787723300b177e8fa89af8e51:-1515141801,b9a0b3579c723300473664ed65b93bcf:1156432232,3670fb17b37233003f1e8807d90fce0a:408645402,8f7fab174c723300b99a21429f1c844d:588639776,dfaeefd39f723300ae32339cb7f02ffe:-643060335,e11ea7d3897233005abf4ed706dcf435:1601219965,3a0de793bb723300e6774ca20c00c26e:1900751052,6dace793d572330092f2276bbe76200d:-1890313770,7e7c2793e6723300821ad80f90debebb:-943578122,997c279397723300f47ef6a1917cc0dd:-1890313770,443c6753977233006256a28e309b2cf0:980219201,2c5b67539b723300972ad01c528fe0ea:-1237703497,f4fa2b133272330075168f30dc47eaad:-1307202697,f9ea23531072330063b273b2d4f6679c:606726054,049a2f1338723300fb8ca714ddd7ba00:-1161117680,6a696b9fda3233000b5c14feaf4ce89e:-1507327509,fa192bdf8b32330066b1908bc2e5c307:230582635,c7f19096d9323300b08d96bc570b22cf:1994781104,69b0dc962a3233006ca6b88fa63ce636:-1028981975,2d305896123233004d43db3b1b518793:1768326847</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_ui_action_3101a7ebdb4640109e101461399619e0</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_ui_action"&gt;&lt;sys_ui_action action="INSERT_OR_UPDATE"&gt;&lt;action_name&gt;regress_resume_record&lt;/action_name&gt;&lt;active&gt;true&lt;/active&gt;&lt;client&gt;false&lt;/client&gt;&lt;client_script_v2&gt;&lt;![CDATA[function onClick(g_form) {

}]]&gt;&lt;/client_script_v2&gt;&lt;comments/&gt;&lt;condition&gt;!RegressATFRecordSessionv2.isRecording() &amp;amp;&amp;amp; RegressATFRecordSessionv2.isRegressEnabled() &amp;amp;&amp;amp; current.active&lt;/condition&gt;&lt;form_action&gt;true&lt;/form_action&gt;&lt;form_button&gt;false&lt;/form_button&gt;&lt;form_button_v2&gt;false&lt;/form_button_v2&gt;&lt;form_context_menu&gt;true&lt;/form_context_menu&gt;&lt;form_link&gt;false&lt;/form_link&gt;&lt;form_menu_button_v2&gt;false&lt;/form_menu_button_v2&gt;&lt;form_style/&gt;&lt;hint/&gt;&lt;isolate_script&gt;false&lt;/isolate_script&gt;&lt;list_action&gt;false&lt;/list_action&gt;&lt;list_banner_button&gt;false&lt;/list_banner_button&gt;&lt;list_button&gt;false&lt;/list_button&gt;&lt;list_choice&gt;false&lt;/list_choice&gt;&lt;list_context_menu&gt;false&lt;/list_context_menu&gt;&lt;list_link&gt;false&lt;/list_link&gt;&lt;list_save_with_form_button&gt;false&lt;/list_save_with_form_button&gt;&lt;list_style/&gt;&lt;name&gt;⏺ Resume ATF Recording&lt;/name&gt;&lt;onclick/&gt;&lt;order&gt;100&lt;/order&gt;&lt;script&gt;&lt;![CDATA[if (!RegressATFRecordSessionv2.isRecording()) {
	var recordingStarted = RegressATFRecordSessionv2.startRecording(current);
	if (recordingStarted) {
		gs.addInfoMessage('⚫ Started Regress ATF Test Recorder.');
	}
} ]]&gt;&lt;/script&gt;&lt;show_insert&gt;true&lt;/show_insert&gt;&lt;show_multiple_update&gt;false&lt;/show_multiple_update&gt;&lt;show_query&gt;false&lt;/show_query&gt;&lt;show_update&gt;true&lt;/show_update&gt;&lt;sys_class_name&gt;sys_ui_action&lt;/sys_class_name&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-01-06 10:27:14&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;3101a7ebdb4640109e101461399619e0&lt;/sys_id&gt;&lt;sys_mod_count&gt;9&lt;/sys_mod_count&gt;&lt;sys_name&gt;⏺ Resume ATF Recording&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_action_3101a7ebdb4640109e101461399619e0&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-01-11 07:52:58&lt;/sys_updated_on&gt;&lt;table&gt;sys_atf_test&lt;/table&gt;&lt;ui11_compatible&gt;true&lt;/ui11_compatible&gt;&lt;ui16_compatible&gt;false&lt;/ui16_compatible&gt;&lt;/sys_ui_action&gt;&lt;/record_update&gt;</payload><payload_hash>1569659337</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>a1b46ec3db3814109e1014613996191d</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4db40000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table>sys_atf_test</table><target_name>⏺ Resume ATF Recording</target_name><type>UI Action</type><update_domain>global</update_domain><update_guid>42fd6451975e4410a995640cc564ca21</update_guid><update_guid_history>42fd6451975e4410a995640cc564ca21:1569659337,051ca8ddcc1e44108210af964f7ac091:614147959,5ee26f2f7c464010db5926e02f6277b2:-13136951,c9d2636f9d4640100d95cb526e8d7f78:1385476585,82b2af2fb9464010ef6b9540ba67a558:-1125829869,2e5267ab7b4640109ab3fd6c412f3615:-440951464,c332272f024640106c9c1a67c14c16b2:1163674527,7e91e7ebcb464010d775101db2f0017d:1581235036,0d51e7ab564640108a40a4743fb39621:259973397</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>item_option_new_4fd4c666db42c0109e1014613996197f</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="item_option_new"><item_option_new action="INSERT_OR_UPDATE"><active>true</active><attributes/><cat_item display_value="Regress Properties">e194ce26db42c0109e10146139961954</cat_item><category/><choice_direction>down</choice_direction><choice_field/><choice_table/><create_roles/><default_html_value/><default_value>javascript:gs.getProperty('regress.enabled','false') == 'true' ? 'Yes' : 'No';</default_value><delete_roles/><delivery_plan/><description/><display_title>false</display_title><do_not_select_first>false</do_not_select_first><dynamic_default_value/><dynamic_ref_qual/><example_text/><field/><global>false</global><help_tag>More information</help_tag><help_text/><include_none>false</include_none><instructions/><layout>normal</layout><list_table/><lookup_label/><lookup_price/><lookup_table/><lookup_unique>false</lookup_unique><lookup_value/><macro/><mandatory>true</mandatory><map_to_field>false</map_to_field><mask_use_confirmation>false</mask_use_confirmation><mask_use_encryption>false</mask_use_encryption><name>regress_enabled</name><order>10</order><price_if_checked>0</price_if_checked><pricing_implications>false</pricing_implications><question_text>Enable Regress ATF Recorder</question_text><read_roles/><rec_lookup_price/><rec_price_if_checked>0</rec_price_if_checked><record/><record_producer_table>global</record_producer_table><reference>sys_atf_test_template</reference><reference_qual/><reference_qual_condition/><scale_max>5</scale_max><scale_min>0</scale_min><show_help>false</show_help><show_help_on_load>false</show_help_on_load><sp_widget/><summary_macro/><sys_class_name>item_option_new</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-01-03 01:11:33</sys_created_on><sys_id>4fd4c666db42c0109e1014613996197f</sys_id><sys_mod_count>9</sys_mod_count><sys_name>Enable Regress ATF Recorder</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>item_option_new_4fd4c666db42c0109e1014613996197f</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-02-22 09:21:21</sys_updated_on><table/><tooltip/><type>3</type><ui_page/><use_dynamic_default>false</use_dynamic_default><use_reference_qualifier>simple</use_reference_qualifier><validate_regex/><variable_name/><variable_set/><variable_width/><visibility>1</visibility><visible_bundle>false</visible_bundle><visible_guide>false</visible_guide><visible_standalone>true</visible_standalone><visible_summary>false</visible_summary><write_roles>regress_user</write_roles></item_option_new><sys_translated_text action="delete_multiple" query="documentkey=4fd4c666db42c0109e1014613996197f"/><fx_price action="delete_multiple" query="id=4fd4c666db42c0109e1014613996197f"/><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>price_if_checked</field><id>4fd4c666db42c0109e1014613996197f</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-01-03 01:11:34</sys_created_on><sys_id>00658e26db42c0109e10146139961910</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-01-03 01:11:34</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>rec_price_if_checked</field><id>4fd4c666db42c0109e1014613996197f</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-01-03 01:11:34</sys_created_on><sys_id>c4658e26db42c0109e1014613996190f</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-01-03 01:11:34</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price></record_update>]]></payload><payload_hash>-495965968</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>a1b4ee43db3814109e10146139961983</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b51830000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Enable Regress ATF Recorder</target_name><type>Variable</type><update_domain>global</update_domain><update_guid>c2f45d7ae90784102520b1c9ed929fdb</update_guid><update_guid_history>c2f45d7ae90784102520b1c9ed929fdb:-495965968,8e4d52ea2782c01026df3a00adb08b11:848487474,e7e7c6e68242c010dcd8ca732f8204a6:-2109618305,5ce606e61f42c010681b4da4f13566cb:-616196714,6e86cea61042c01049cd2a7ddd33c484:-1801301501,9906c6a62342c010de03d13ea7955df0:956517236,5be5c2a60b42c010e64e8845de003a7d:-1181961990,3d754e661742c010c5a81c4417ae1c0e:2033847748,84654e663b42c010e736902e0febd4d1:299260113</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>question_choice_d93595badb0784109e10146139961988</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="question_choice"><question_choice action="INSERT_OR_UPDATE"><misc>0</misc><order>100</order><question display_value="Enable Regress ATF Recorder">4fd4c666db42c0109e1014613996197f</question><rec_misc>0</rec_misc><sys_class_name>question_choice</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-02-22 09:22:36</sys_created_on><sys_id>d93595badb0784109e10146139961988</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Yes</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>question_choice_d93595badb0784109e10146139961988</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-02-22 09:22:36</sys_updated_on><text>Yes</text><value>Yes</value></question_choice><fx_price action="delete_multiple" query="id=d93595badb0784109e10146139961988"/><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>misc</field><id>d93595badb0784109e10146139961988</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-02-22 09:22:36</sys_created_on><sys_id>9045d5badb0784109e10146139961973</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-02-22 09:22:36</sys_updated_on><table>question_choice</table><type>calculated</type></fx_price><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>rec_misc</field><id>d93595badb0784109e10146139961988</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-02-22 09:22:36</sys_created_on><sys_id>1c45d5badb0784109e10146139961971</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-02-22 09:22:36</sys_updated_on><table>question_choice</table><type>calculated</type></fx_price></record_update>]]></payload><payload_hash>-1269190369</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>a5b46ec3db3814109e1014613996190f</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b519f0000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Yes</target_name><type>Question Choice</type><update_domain>global</update_domain><update_guid>9845d5ba61078410b42478b11e727c74</update_guid><update_guid_history>9845d5ba61078410b42478b11e727c74:-1269190369</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_app_module_e0e592dadb4680109e101461399619f7</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_app_module"><sys_app_module action="INSERT_OR_UPDATE"><active>true</active><application display_value="Regress - ATF Recorder">0a931f6adbc233001c4af53a2996195f</application><assessment/><content_page/><device_type/><filter/><hint/><homepage/><image/><link_type>DIRECT</link_type><map_page/><mobile_title>Star</mobile_title><mobile_view_name>Mobile</mobile_view_name><name/><order>510</order><override_menu_roles>false</override_menu_roles><query>startRecordingRegressionATFTest.do</query><report/><roles/><sys_class_name>sys_app_module</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-01-02 07:47:08</sys_created_on><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>e0e592dadb4680109e101461399619f7</sys_id><sys_mod_count>14</sys_mod_count><sys_name>⏺ Start Recording</sys_name><sys_overrides/><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>sys_app_module_e0e592dadb4680109e101461399619f7</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-05 09:26:22</sys_updated_on><timeline_page/><title>⏺ Start Recording</title><uncancelable>false</uncancelable><view_name/><window_name/></sys_app_module></record_update>]]></payload><payload_hash>2120609294</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>a5b46ec3db3814109e10146139961912</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b54570000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>⏺ Start Recording</target_name><type>Module</type><update_domain>global</update_domain><update_guid>53229d9a1fac5810b687ea39ea099e76</update_guid><update_guid_history>53229d9a1fac5810b687ea39ea099e76:2120609294,5521599abaac581089fd5eb8ea591ae1:-2061953156,e001119a3fac5810b890da9760948331:-1478271652,deb07415b65e4410945ab331785840ac:1462881542,201e2451435e4410afebfeaf62359949:1550753702,22dcecdd0a1e44104fb92199cbfe6d81:944150684,eb9c2cdd071e4410c093f74edeb107ea:217621456,289ce4dd081e4410479d533c8d206c0d:700577948,8c5c6cddc61e4410d956b59a145d51c6:1550753702,1bea936fb4c2401022f334e8849c187e:-80043972,38cc75aab302c010ca2c6707b9cc7b0e:-1347862267,b38c3d6a2902c010790288773646bea3:905289221,44b656da684680100520bec735d4bf52:-1182901456,2076569ab146801054efc7470492f39a:5218738,f0561a9a4e468010477c2f5253261c14:1511510856</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_properties_804a136fdb9090109e101461399619dc</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_properties"><sys_properties action="INSERT_OR_UPDATE"><choices/><description/><ignore_cache>false</ignore_cache><is_private>false</is_private><name>regress.record.servicecatalog_cat_item_sp</name><read_roles/><suffix/><sys_class_name>sys_properties</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-04-27 06:18:45</sys_created_on><sys_id>804a136fdb9090109e101461399619dc</sys_id><sys_mod_count>0</sys_mod_count><sys_name>regress.record.servicecatalog_cat_item_sp</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>sys_properties_804a136fdb9090109e101461399619dc</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-04-27 06:18:45</sys_updated_on><type>string</type><value>66f610eddb5018109e1014613996195c</value><write_roles>admin</write_roles></sys_properties><sys_translated_text action="delete_multiple" query="documentkey=804a136fdb9090109e101461399619dc"/></record_update>]]></payload><payload_hash>2094121470</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>a5b46ec3db3814109e10146139961915</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b53510000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>regress.record.servicecatalog_cat_item_sp</target_name><type>System Property</type><update_domain>global</update_domain><update_guid>218ad76fbe90901038f33f3748188a40</update_guid><update_guid_history>218ad76fbe90901038f33f3748188a40:2094121470</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_script_include_18d8695bdb0600109e10146139961916</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;global.RegressSystemPropertyHelper&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;RegressSystemPropertyHelper&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var RegressSystemPropertyHelper = Class.create();

RegressSystemPropertyHelper.GetExistingAllowedTables = function() {
	var defaults;
	var sysIDs = [];
	var allowedTableNames = gs.getProperty('regress.record.for.tables','task,sys_approval_approver,task_sla,sc_req_item');
	var grTables = new GlideRecord('sys_db_object');
	grTables.addQuery('name','IN',allowedTableNames);
	grTables.query();
	while(grTables.next()) {
		sysIDs.push(grTables.getUniqueValue());
	}
	defaults = 	sysIDs.join(",");
	
	return defaults;
},

RegressSystemPropertyHelper.GetTableNamesBySysIDs = function(sysDbObjectSysIDs) {
	var tableNames = [];
	var grTables = new GlideRecord('sys_db_object');
	grTables.addQuery('sys_id','IN',sysDbObjectSysIDs.toString()); 
	grTables.query();
	while (grTables.next()) {
		tableNames.push( grTables.getValue('name'));
	}	
	
	return tableNames.join(",");
};

RegressSystemPropertyHelper.GetExistingRecordFieldFilterByTableSysIDs = function(sysDbObjectSysIDs) {
	var tableNamesCSV = RegressSystemPropertyHelper.GetTableNamesBySysIDs(sysDbObjectSysIDs);
	var qry = "nameIN" + tableNamesCSV + "^internal_type!=collection^column_label!=";

	return qry;
};

RegressSystemPropertyHelper.GetSelectedFieldNames = function(csvSysIDs) {
	var grDictionaryEntry = new GlideRecord('sys_dictionary');
	var fieldNames = [];
	grDictionaryEntry.addQuery('sys_id','IN', csvSysIDs);
	grDictionaryEntry.query();
	
	while(grDictionaryEntry.next()) {
		fieldNames.push(grDictionaryEntry.getValue('element'));
	}
	
	return fieldNames.join();
};

RegressSystemPropertyHelper.GetExistingRecordFieldDefaultValues = function() {
	var defaults = '';
	var fieldSysIDs = [];
	var existingQry = "nameIN" + gs.getProperty('regress.record.for.tables','task,sys_approval_approver,task_sla,sc_req_item');
	var fieldNames = gs.getProperty('regress.existing.query.fields',"state,type,stage,cat_item");
	var grDictionaryEntry = new GlideRecord('sys_dictionary');
	grDictionaryEntry.addEncodedQuery(existingQry);
	grDictionaryEntry.addQuery('elementIN' + fieldNames);
	grDictionaryEntry.query();
	
	while (grDictionaryEntry.next()) {
		fieldSysIDs.push(grDictionaryEntry.getUniqueValue());
	}
	

	return fieldSysIDs.join(",");
};

RegressSystemPropertyHelper.prototype = {
    initialize: function() {
    },
	
	updateSystemProperty: function(name, value) {
		var grSystemProperty = new GlideRecordSecure('sys_properties');
		grSystemProperty.addQuery('name',name);
		grSystemProperty.query();
		if ( grSystemProperty.next() &amp;&amp; grSystemProperty.canWrite() ) {
			if (grSystemProperty.getValue('value') != value) { 
					grSystemProperty.value = value;
					grSystemProperty.update();
			}
		} else {
			gs.addErrorMessage('Cannot write to System Property ' + name + '. User does not have permissions or property does not exist.');
		}

		return grSystemProperty;
	},

    type: 'RegressSystemPropertyHelper'
};]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-01-05 07:08:47&lt;/sys_created_on&gt;&lt;sys_id&gt;18d8695bdb0600109e10146139961916&lt;/sys_id&gt;&lt;sys_mod_count&gt;41&lt;/sys_mod_count&gt;&lt;sys_name&gt;RegressSystemPropertyHelper&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_18d8695bdb0600109e10146139961916&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-22 10:20:44&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload><payload_hash>-1774772656</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>a5b46ec3db3814109e10146139961918</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b51d60000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>RegressSystemPropertyHelper</target_name><type>Script Include</type><update_domain>global</update_domain><update_guid>c092653e354784106d49eca4ab5d90db</update_guid><update_guid_history>c092653e354784106d49eca4ab5d90db:-1774772656,6ad355f608078410d55aae6c828b55ec:195555884,b60355f68c078410aa5bb16dc3b297e2:-540934611,1f0251b6860784103fa2839e480728e2:-901323726,3ba11976fd0784100ce7b26473eee12e:570818246,31211176a5078410fd64ae86e49b1fed:1595498465,bde09936a0078410f62f603295e8c884:1879007011,2fff89f25f078410d29a8a0552798753:1636922420,8a4f41b2c50784105b8dd91cf3ec0919:-1492938331,3fde01b21307841057484652311b3e18:1495051859,d6dc89bebbc38410048495f0fc1aa790:759138438,8cab857edcc38410604f3fac285a8c2b:-1980480043,a235b8f6508384101cc481b682cc9485:759138438,003474f61c838410780a4c7eda833421:330213629,6704b8b6f18384105a8181b8988b3be0:1861865921,2133f8322a83841097c9e85946fa23c9:910242825,424fd0b2354384102e25634365da76d7:1612730878,71fed0b2cf4384100d66c47a39bdd2ad:274752791,48be9c7252438410c9fbbc307107bf60:555398721,c10e9c32e843841054b08a10d69318b3:-401623796,49cd1032b043841055b84d7db6e50882:279918930,33dc5cfe3103841040bdd42703942aaf:1134425417,647c94fe40038410e6f7c6528a4e1b56:2031847769,dd2c9cbea00384108d1760e97962a4d3:1371879262,43eb1cbed3038410636a95b0642ce757:1206610695,184b187efd038410065f9fce920ecdcb:-793440186,122bd87e700384107107231e301fefa7:297494417,bdead07ee9038410a3f31b2081c224e2:-83651989,cbda1c3e2a038410b5f915c424ab427f:-29091476,620a983ef5038410d85ceb6f108f942d:-854902616,6da9d4fa8103841077368abb50ef763f:-264463510,3938d0baa10384108c5c7280cf7b988f:-33167784,f49f811d7dde4410e14fa43a22f9cad5:-846554668,1f2f89d96bde44103c59bc99cc49f3b9:-1686533612,cf6e81d924de4410893edcd6671f4ff0:-1095039982,615e81d9bfde4410e866610cdf31adeb:-373120956,3dfdc599a2de441003b0f828e9956f15:-1291258072,cc1da91f9d060010b81cf14c1ca8b3a1:-1144963385,d49baddbe7060010cd17a923ca1ff451:-1770110194,da5b69dbb6060010e2ee8fd7cd79c400:1019998857,0e3be5db78060010f3c58f891fbf0ef5:-1555670298,8c3be5dbc606001079f4a48b1e70109e:-1978619403,b8dae1db95060010fef9f1c3bb02e0ae:-1797361832,dc5ae99b3a060010ac1528202bda3a77:394174204</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_script_include_adc33b6fdb8640109e10146139961922</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;global.VariableStateValidationTestStepGenerator&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description&gt;33f637e8c3ba220076173b0ac3d3aee1&lt;/description&gt;&lt;name&gt;VariableStateValidationTestStepGenerator&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var VariableStateValidationTestStepGenerator = Class.create();
VariableStateValidationTestStepGenerator.prototype = Object.extendsObject(AbstractStateValidationTestStepGenerator, {

	generateTestStep: function() {
		var complexityLevel = RegressATFRecordSessionv2.getRegressionLevel();
		
		if (complexityLevel != 'actions') {
			if ( gs.nil( this.regressionObject.catalogItem )) {
				gs.debug('Validate Variable State Test Step not required.');
				this.grATFStep.deleteRecord();
			}  else {
				// Variable Set Visibility is determined differently in GlideForm and ServiceCatalogForm17
				// Decided to remove them, since they aren't usually selectable from the UI anyway			
				this.removeVariableSetsFromVariables();
				this.setFieldState(this.regressionObject.variableState); 
				this.grATFStep.inputs.catalog_item = this.regressionObject.catalogItem;
				this.grATFStep.notes = 'The variable state of the form when a UI action is clicked during the recording.';
				AbstractStateValidationTestStepGenerator.prototype.generateTestStep.call(this);
			}
		} else {
			this.grATFStep.deleteRecord();
		}
	},
	

	removeVariableSetsFromVariables: function() {
		this.regressionObject.variableState.visible = this.removeVariableSets(this.regressionObject.variableState.visible);
		this.regressionObject.variableState.hidden = this.removeVariableSets(this.regressionObject.variableState.hidden);
	},
	
	removeVariableSets: function(variableArray) {
		var arrayWithoutVariableSets = [];
		
		for (var i = 0; i &lt; variableArray.length; i++) {
			// We probably want to exclude Multi Row Variable Sets from this
			if (!this.isSingleRowVariableSet(variableArray[i])) {
				arrayWithoutVariableSets.push(variableArray[i]);
			}
		}
		
		return arrayWithoutVariableSets;
	},
	
	isSingleRowVariableSet: function(variableSysID) {
		var grVariableSet = new GlideRecord('item_option_new_set');
		grVariableSet.addQuery('sys_id', variableSysID);
		grVariableSet.addQuery('type','one_to_one');
		grVariableSet.query();
		
		return grVariableSet.hasNext();
	},
	
    type: 'VariableStateValidationTestStepGenerator'
});]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-01-06 11:47:49&lt;/sys_created_on&gt;&lt;sys_id&gt;adc33b6fdb8640109e10146139961922&lt;/sys_id&gt;&lt;sys_mod_count&gt;14&lt;/sys_mod_count&gt;&lt;sys_name&gt;VariableStateValidationTestStepGenerator&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_adc33b6fdb8640109e10146139961922&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-05 09:05:23&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload><payload_hash>-894930189</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>a5b46ec3db3814109e1014613996191b</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b541d0000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>VariableStateValidationTestStepGenerator</target_name><type>Script Include</type><update_domain>global</update_domain><update_guid>886d0956e5ac581076fb8c8d76e4c106</update_guid><update_guid_history>886d0956e5ac581076fb8c8d76e4c106:-894930189,099bc9a71a4010100ca37a74f1e76cdd:-164935280,911bc567fe40101007dfcac60ab1a408:1526158261,994a01a34d40101032f1da24742bdc3b:-2070668707,a5cc41a1fcda84106bd4f33bc70cfad3:-1771573662,756ccd6136da84107d310f43bffaeb25:2107913346,ffdb3b0d299a4410f17596acc2aabafe:767873505,3388fbc5469a4410b9c3ffc73384c787:-141273192,e1f36c80ae168010cc04814d1b0e77e3:856401935,e5722480561680101882a35955e47d54:-585925539,ce022800d51680105ee2201bcec7cc3f:-1438611751,1ff06c00d3168010d39b2489f2c4fb66:135250505,07257baf198640106c3516a21c3869cd:-586349066,d5d3f36fac86401024ea31cfdd5b9d22:-486635613,a5c33b6fe18640100a3c00a067742125:1669944707</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>item_option_new_045c56aadb82c0109e10146139961931</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="item_option_new"><item_option_new action="INSERT_OR_UPDATE"><active>true</active><attributes/><cat_item display_value="Regress Properties">e194ce26db42c0109e10146139961954</cat_item><category/><choice_direction>down</choice_direction><choice_field/><choice_table/><create_roles/><default_html_value/><default_value>javascript:gs.getProperty('regress.record.action.template',''); </default_value><delete_roles/><delivery_plan/><description/><display_title>false</display_title><do_not_select_first>false</do_not_select_first><dynamic_default_value/><dynamic_ref_qual/><example_text/><field/><global>false</global><help_tag>More information</help_tag><help_text/><include_none>false</include_none><instructions/><layout>normal</layout><list_table/><lookup_label/><lookup_price/><lookup_table/><lookup_unique>false</lookup_unique><lookup_value/><macro/><mandatory>false</mandatory><map_to_field>false</map_to_field><mask_use_confirmation>false</mask_use_confirmation><mask_use_encryption>false</mask_use_encryption><name>test_template_on_form_action</name><order>300</order><price_if_checked>0</price_if_checked><pricing_implications>false</pricing_implications><question_text>Test Template on Form Action</question_text><read_roles/><rec_lookup_price/><rec_price_if_checked>0</rec_price_if_checked><record/><record_producer_table>global</record_producer_table><reference>sys_atf_test_template</reference><reference_qual/><reference_qual_condition/><scale_max>5</scale_max><scale_min>0</scale_min><show_help>false</show_help><show_help_on_load>false</show_help_on_load><sp_widget/><summary_macro/><sys_class_name>item_option_new</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-01-03 02:53:11</sys_created_on><sys_id>045c56aadb82c0109e10146139961931</sys_id><sys_mod_count>3</sys_mod_count><sys_name>Test Template on Form Action</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>item_option_new_045c56aadb82c0109e10146139961931</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-02-08 08:37:13</sys_updated_on><table/><tooltip/><type>8</type><ui_page/><use_dynamic_default>false</use_dynamic_default><use_reference_qualifier>simple</use_reference_qualifier><validate_regex/><variable_name/><variable_set/><variable_width/><visibility>1</visibility><visible_bundle>true</visible_bundle><visible_guide>true</visible_guide><visible_standalone>true</visible_standalone><visible_summary>true</visible_summary><write_roles/></item_option_new><sys_translated_text action="delete_multiple" query="documentkey=045c56aadb82c0109e10146139961931"/><fx_price action="delete_multiple" query="id=045c56aadb82c0109e10146139961931"/><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>price_if_checked</field><id>045c56aadb82c0109e10146139961931</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-01-03 02:53:11</sys_created_on><sys_id>34ac1aaadb82c0109e101461399619ea</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-01-03 02:53:11</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>rec_price_if_checked</field><id>045c56aadb82c0109e10146139961931</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-01-03 02:53:11</sys_created_on><sys_id>f4ac1aaadb82c0109e101461399619dc</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-01-03 02:53:11</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price></record_update>]]></payload><payload_hash>-560920961</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>a5b4ee43db3814109e10146139961982</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4fd00000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Test Template on Form Action</target_name><type>Variable</type><update_domain>global</update_domain><update_guid>8b9401de277688101ec82e65b27829d7</update_guid><update_guid_history>8b9401de277688101ec82e65b27829d7:-560920961,b2ffcd1d52de441094fb279d020de812:1705493358,915d96eac182c01023636457e4c214bb:-778732219,b0ac1aaa7982c01054f4c32a84e22fed:1662930807</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>item_option_new_set_6df85e0ddb7f00109e101461399619f6</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="item_option_new_set"><item_option_new_set action="INSERT_OR_UPDATE"><create_roles/><description/><display_title>false</display_title><internal_name>regress_item_recorder</internal_name><layout>normal</layout><name/><order>100</order><read_roles/><set_attributes/><sys_class_name>item_option_new_set</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-03-25 10:36:22</sys_created_on><sys_id>6df85e0ddb7f00109e101461399619f6</sys_id><sys_mod_count>3</sys_mod_count><sys_name>Regress Item Recorder</sys_name><sys_package display_value="Global" source="global">global</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>item_option_new_set_6df85e0ddb7f00109e101461399619f6</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-04-11 04:21:56</sys_updated_on><title>Regress Item Recorder</title><type>one_to_one</type><write_roles/></item_option_new_set></record_update>]]></payload><payload_hash>-2011125348</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>a9b46ec3db3814109e1014613996190e</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b52340000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Regress Item Recorder</target_name><type>Variable Set</type><update_domain>global</update_domain><update_guid>ca56a8ea19401410b9e39d36fa2b8333</update_guid><update_guid_history>ca56a8ea19401410b9e39d36fa2b8333:-2011125348,ca46a86a01401410935ff9c107d5bd74:-1572944716,5b3664eaa140141042aef91433496369:80754887,85095a0d757f00100fafc21a785e8c47:1310245129</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_app_module_7b21db23db9090109e101461399619c7</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_app_module"><sys_app_module action="INSERT_OR_UPDATE"><active>true</active><application display_value="Regress - ATF Recorder">0a931f6adbc233001c4af53a2996195f</application><assessment/><content_page/><device_type/><filter table="sys_atf_test">active=true^nameSTARTSWITHRegress Test^sys_created_by=javascript:gs.getUserName()^EQ<item endquery="false" field="active" goto="false" newquery="false" operator="=" or="false" value="true"/><item endquery="false" field="name" goto="false" newquery="false" operator="STARTSWITH" or="false" value="Regress Test"/><item endquery="false" field="sys_created_by" goto="false" newquery="false" operator="=" or="false" value="javascript:gs.getUserName()"/><item endquery="true" field="" goto="false" newquery="false" operator="=" or="false" value=""/></filter><hint/><homepage/><image/><link_type>LIST</link_type><map_page/><mobile_title>Generated Tests</mobile_title><mobile_view_name>Mobile</mobile_view_name><name>sys_atf_test</name><order>9</order><override_menu_roles>false</override_menu_roles><query/><report/><roles>regress_user</roles><sys_class_name>sys_app_module</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-04-27 05:37:59</sys_created_on><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>7b21db23db9090109e101461399619c7</sys_id><sys_mod_count>1</sys_mod_count><sys_name>My Generated Tests</sys_name><sys_overrides/><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>sys_app_module_7b21db23db9090109e101461399619c7</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-04-27 05:38:40</sys_updated_on><timeline_page/><title>My Generated Tests</title><uncancelable>false</uncancelable><view_name/><window_name/></sys_app_module></record_update>]]></payload><payload_hash>308459354</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>a9b46ec3db3814109e10146139961911</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b53020000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table>sys_atf_test</table><target_name>My Generated Tests</target_name><type>Module</type><update_domain>global</update_domain><update_guid>82519f237b90901084b7cd82e409e0e9</update_guid><update_guid_history>82519f237b90901084b7cd82e409e0e9:308459354,b721db23a4909010f4605f41e3b5f0c9:475214730</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_processor_ad09d6dedb4680109e10146139961957</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_processor"&gt;&lt;sys_processor action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;class_name/&gt;&lt;description/&gt;&lt;interactive&gt;false&lt;/interactive&gt;&lt;name&gt;End Regression Recording&lt;/name&gt;&lt;parameters/&gt;&lt;params_endpoint/&gt;&lt;path&gt;endRegressRecording&lt;/path&gt;&lt;path_endpoint/&gt;&lt;require_csrf&gt;false&lt;/require_csrf&gt;&lt;roles&gt;snc_internal&lt;/roles&gt;&lt;script&gt;&lt;![CDATA[(function process(g_request, g_response, g_processor) {

	RegressATFRecordSessionv2.stopRecording();
	gs.addInfoMessage('⏹ Test Recording Stopped.');
	g_response.sendRedirect(RegressATFRecordSessionv2.getATFTest().getLink());
	

})(g_request, g_response, g_processor);]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_processor&lt;/sys_class_name&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-01-02 07:59:13&lt;/sys_created_on&gt;&lt;sys_id&gt;ad09d6dedb4680109e10146139961957&lt;/sys_id&gt;&lt;sys_mod_count&gt;10&lt;/sys_mod_count&gt;&lt;sys_name&gt;End Regression Recording&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_processor_ad09d6dedb4680109e10146139961957&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-01-22 11:56:04&lt;/sys_updated_on&gt;&lt;type&gt;script&lt;/type&gt;&lt;/sys_processor&gt;&lt;/record_update&gt;</payload><payload_hash>1242211301</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>a9b46ec3db3814109e10146139961914</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4e8f0000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>End Regression Recording</target_name><type>Processor</type><update_domain>global</update_domain><update_guid>1a1fc6b067a640109c4e7b30548bafbc</update_guid><update_guid_history>1a1fc6b067a640109c4e7b30548bafbc:1242211301,7bea2308436e40102cbadbae9077e14c:1451218771,0b021d67a6960010df1cf16e6ddfe006:1014688878,73757cd9845e4410e23d78e615e2bd25:417444601,cd230ae22642c010f84ad86a813c3807:-671845221,58aeb9eade02c0106494dc6f7a515bd7:-404300324,ad11ae964f868010f6dbfbf288f99d52:1661355770,b09f12567e86801019dcdd9b47458a2b:-237519640,71b99edef64680103c635c2f0f2408f3:-701556056,cb499e9e06468010e13273c059e9c78f:-1354485342,f119d6de054680106cef709d823b135c:1053560882</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_script_client_767a9798db110010f0a2f28239961967</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script_client"&gt;&lt;sys_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;condition/&gt;&lt;description&gt;We need to get the sys_id of the UI action so we can populate it in our Test&lt;/description&gt;&lt;field&gt;sys_created_on&lt;/field&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;Get sys_id of clicked UI Action&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onSubmit() {
	try {
		if (typeof regress !== 'undefined' &amp;&amp; regress.reg_form.isRecording()) {
			return regress.reg_form.recordAction();
		}
	} catch (e) {
		g_form.addErrorMessage('RegressUI Error: ' + e);
		return false;
	}		
	
}
]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-11-20 00:51:11&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;767a9798db110010f0a2f28239961967&lt;/sys_id&gt;&lt;sys_mod_count&gt;132&lt;/sys_mod_count&gt;&lt;sys_name&gt;Get sys_id of clicked UI Action&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Global" source="global"&gt;global&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_client_767a9798db110010f0a2f28239961967&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-25 03:05:24&lt;/sys_updated_on&gt;&lt;table&gt;global&lt;/table&gt;&lt;type&gt;onSubmit&lt;/type&gt;&lt;ui_type&gt;0&lt;/ui_type&gt;&lt;view/&gt;&lt;/sys_script_client&gt;&lt;/record_update&gt;</payload><payload_hash>-958787213</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>a9b46ec3db3814109e10146139961917</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b528d0000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table>global</table><target_name>Get sys_id of clicked UI Action</target_name><type>Client Script</type><update_domain>global</update_domain><update_guid>111b9c43ad149c100e2226bebc1e86be</update_guid><update_guid_history>111b9c43ad149c100e2226bebc1e86be:-958787213,eeef8742234fc0104fbb54c2219a2d42:1844675633,e69f8bce020fc01027153e2942b7611d:1446522170,005e878e9c0fc0107a0d751cb5542017:-725447677,f400aebbf21e0010f089530d03772f51:1824551656,31bfd6bb481e0010f97b19e4bd41f7c6:1724878760,5de9d237c81e0010e0425af49efe28fc:-906260034,94f9cd23475600100a1184b749e2d3b6:1670706110,83a4aab2779e0010b977691c655f62a5:-168121548,9d2a7cdd2f5e441053178149259e0ec8:1795430790,7cc97cdd685e44101eec1850222762c2:529761608,4520cb2adb06c0109b512c728dfa9290:-1111040588,1f7ea66a8ac2c0103fc025c766815433:-123569755,dd7e1a162f8680108e2a4aa8311d6684:358224968,2db91443dfa10010dcbb842f0ca93227:-215072115,784914cf076100109a1ff99833596c68:297409052,0419948f54610010e0223a311ba05d78:396271645,e1d6188b3f610010dcaa8c77c5ba7393:857297133,3b66415ed2e10010e3fb619a99d39504:435005188,5135851e7fe10010592fb4cbc0ae8a8a:-1615273321,d525451e2fe100102f1bd4fd924bae6a:435005188,fa914d96c0e1001040b279d1e78adbb3:365927561,fbf3b09e97a10010f8ce4d19598cb681:454023542,09b3fc9eeaa1001063f692ef4980c37a:-812242957,cee2785ef1a10010b974cd904a353080:435005188,2342b8da61a1001016252ef29f833386:1026033669,039fac168ca10010b4298612bf58ba7b:-812242957,336fe456e8a10010cd858d3161effe1b:-553703832,a3276496f3610010dc752dbd3b0252c3:-1040373130,ae851c805f2100102af282dbf8e63fbb:454023542,a6fe4a3d6e9104106ca133ee999c45f0:333333859,09ae2c357d9dc010dc9e778155d32461:438991519,6d9de4f1799dc01088dedb31cadf1c4c:1817264444,bf4d2c71009dc010ff9000c361850bf8:-1660248868,ae1c2031549dc010c31417e06faa6890:1501377869,06cb68fd8b5dc0102e4076ce810fa648:-745234976,865ba8fd7e5dc0104221d96972adb184:1501377869,cb1becbd185dc010be02794bc469706a:-1740886159,a7eae8bdee5dc0107d325c0e30da30ae:1032185617,c978a43dae5dc010ae2415983d6d8a84:-10117090,b0f7a8f9a15dc01030c9bb1d5ffdc34e:2044628368,0eb7a4b9cb5dc010f974c1258c9a034e:-232541378,0047a8b9845dc010c3e451fbcc60622d:1234711521,5a8520f5bc5dc010fb21d057b2dbf287:-1357103029,abe16875945dc010e8241c24c9df735b:1618603299,0c70a4b1265dc010b5dec6da84153f15:-1454373168,1c10acb1485dc0103bee9e2c8074559c:-1039750370,15b813816c918010e3d79847f0d39f82:-1592493396,00b7938186918010f0ef09ab1eece790:871709670,9687138139918010952e15e93af36279:-238970045,70779b01289180103c7dcba3499137fb:1808735577,7a579b414191801031ad0e05341710ec:1996095321,35279b41f6918010c7a3baf7e783f8e7:768414280,eba55b01c6918010fd202f1d3437ebd4:-1950423981,1d0497cdf35180107cb45180a2fbd00e:1989648303,9bd3d3cd25518010259674fec2316fc5:1665970567,bb53978d65518010dfb393315ffe538b:-122108176,f323db8d31518010ea034d112c29a82d:-1579345800,da039b4d89518010e65d7d40415d472a:-1177818190,781eb28d8f1180100673d5cb7aaae5ba:-228582678,abedfa0d5c1180104dd16ca74279328d:1793054474,11adf28de1118010b629809195017304:-1131210526,b77db28def11801094931e8a7aed2d51:-1229815597,1a2d7e4db2118010b5c193cd00f14f67:1216379198,460dfa4d1111801001c77a23c83031b3:-568612068,51dc3a0d8911801027ed2f21b899070d:1216379198,6a6bbe85b61180105bf601ec56db7ee2:1102216824,540af245c11180105199e99145bff834:-936071474,67e97ac5b9118010eba3377c16dbf77a:699090466,39e8ba05e411801080b3231f062052e6:1930292815,58847ac5831180106ba57dcb21651b1c:-1348779131,73e332c5ab11801031f21c81c85706e9:-348113299,83c3768157118010c7381ebb9a9a5926:-1823476422,d9a33e0535118010926d58cfb7e46442:-758838526,e691f645f7118010b6fba17c28454672:-1426801222,ab217e017f118010cdaac3d0d7d259d4:-3767305,db80f24d8edd4010283984628c6738e7:-1876318795,2bffe205bd118010411642e3c11de2c5:-350206965,66cfea0da7dd4010cccff9f68fc25a20:-1571887283,aa56aac97add40107ec82f61ff7503d7:1341000249,2c46e24db6dd4010e358c50f581e88e1:1844630402,b885e20ddadd40107cea44ef2c52faf4:-1317419123,b845a60d79dd401007cdaf3b6b82cf1b:-1579799304,8f15620dd0dd4010e195e08058abd967:-1885072286,1be422898cdd401084cf13cb13799911:-234662768,c9942e8936dd4010ce0e6a50fe1d0be7:-635992970,8544aac9c6dd4010d0e36748671fc0ce:1015465896,8203228916dd4010277a78c3a937762d:470503560,7fd2aa89cadd4010a6c2f3ad3ebabb3e:2046014590,18c22289fcdd40107891f6c06e23d4ed:-1460203776,41a2e68969dd4010d51bae28c2001e16:-1112994082,e7bcdef446154010fc3e867a3d279aa8:2016235390,e77c1ef48d154010a28ea3a770c2b381:434690659,496cd6f41e154010d9d61d016b8cd6ff:1389956010,b34cd6b42c154010aadff8f954362de2:2134360441,102cd6f4611540100c6a5b9544c0ba36:-564734688,383b56b4a015401038ccecdb00677d03:388628055,062b5ab41f1540106559490e73f8b107:773916138,8feada746a1540101d6d444c58f9ef7a:-8141613,19aa1e747515401041fd2265c8ddaae1:1861122624,ed5ada742c15401026e31efd1482606f:163147350,dad9d6343b154010252f2a21f0c58d56:-339784137,70f856346b154010a22cf416b78f0f1a:-1386966554,17b85634261540106f6e9472caf4a115:866263849,b2589634771540107ca534138dc60825:-541431098,2c3856f0301540102e4ab71bcb6437c1:328852675,e0b7def057154010895ed9a2f8c96525:-899342508,4b975ef045154010a4ade4fc5f7cc3d2:-1910176668,f6771ef04d154010e3bad119bfd2692c:-541431098,024712f0671540101e3a12a0699e564b:-368695895,fc1796f0dc154010a3aa80a900f69f58:864074780,99f6deb0ba1540105d853f51a9426963:982893769,bbd65eb06f154010ba09fbc780b95fa2:-369808212,f9d61eb06a1540100e6276cbee5a1eb1:-1053257607,4eb612f095154010006b8828890678ce:-100398120,81a612b0de154010f5c17c0904e87eb4:-435525813,6e861a704b154010537437b7ca158c71:-100398120,d44612b09215401028e4902cb4ca4e74:-435525813,bb06d2b0b81540106acd1f9025f3ed9f:-368695895,d0f59670df154010541b694a429c2b8a:-321262015,23b592b051154010c1a3cd3225a6a101:-912169563,69a552b0091540101efc0742798310cc:-907288203,2c85de70461540107a7754d9be322eb3:-748067376,6c5516701715401056416e218ce69439:-321262015,c14596301315401013dc75768223a4df:2045776996,94f496301a1540101d4ed26d1db1b9da:-2046395695,50c41670701540105e76738ec03cff9a:862626111,27a41670791540103e9e4a8771da3b95:44054094,6b3416fc25d14010c50dcdee705a4efa:-897958020,5214da309d1540109185f25449d0a02a:862626111,410492fc39d14010a94cac3c4004bf81:-716207713,cb8356fc7cd14010c2e59360ac80044c:-2135524964,b0f19ebcccd140104b575dc6fa6c87db:825736857,c7c152bc33d140106bbd43ad12ba4cd9:258580760,e6b196bc85d14010f3bad8b143936868:1187005944,731bdf9825110010122724fb33534828:79910499,a0ca9798aa110010609e17e496646615:-48144811</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_script_include_78222080db1680109e10146139961967</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;global.FieldStateValidationTestStepGenerator&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description&gt;33f637e8c3ba220076173b0ac3d3aee1&lt;/description&gt;&lt;name&gt;FieldStateValidationTestStepGenerator&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var FieldStateValidationTestStepGenerator = Class.create();
FieldStateValidationTestStepGenerator.prototype = Object.extendsObject(AbstractStateValidationTestStepGenerator, {

	generateTestStep: function() {
		var complexityLevel = RegressATFRecordSessionv2.getRegressionLevel();
		
		if (complexityLevel != 'actions') {
			this.setFieldState(this.regressionObject.fieldState); 
			this.grATFStep.notes = 'The field state of the form when a UI action is clicked during the recording.';
			AbstractStateValidationTestStepGenerator.prototype.generateTestStep.call(this);
		}
	},
	
    type: 'FieldStateValidationTestStepGenerator'
});]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-01-07 09:48:52&lt;/sys_created_on&gt;&lt;sys_id&gt;78222080db1680109e10146139961967&lt;/sys_id&gt;&lt;sys_mod_count&gt;3&lt;/sys_mod_count&gt;&lt;sys_name&gt;FieldStateValidationTestStepGenerator&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_78222080db1680109e10146139961967&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-05 09:04:47&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload><payload_hash>-2092034534</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>a9b46ec3db3814109e1014613996191a</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b54000000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>FieldStateValidationTestStepGenerator</target_name><type>Script Include</type><update_domain>global</update_domain><update_guid>0b3dcd16d5ac5810ce7c3a7a5d6896cf</update_guid><update_guid_history>0b3dcd16d5ac5810ce7c3a7a5d6896cf:-2092034534,f672e0809d1680104b0cd4ff8746e45b:-590929435,0552248024168010b591dd599781984a:862728673,7022208065168010da04f16a3d30396a:-328473549</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>catalog_ui_policy_action_d10b4585db3e84109e1014613996191f</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="catalog_ui_policy_action"><catalog_ui_policy_action action="INSERT_OR_UPDATE"><catalog_item display_value="Regress Properties">e194ce26db42c0109e10146139961954</catalog_item><catalog_variable>IO:8a865e33db1e00109e10146139961923</catalog_variable><cleared>false</cleared><disabled>true</disabled><field/><mandatory>ignore</mandatory><order>100</order><sys_class_name>catalog_ui_policy_action</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-02-04 11:52:48</sys_created_on><sys_id>d10b4585db3e84109e1014613996191f</sys_id><sys_mod_count>0</sys_mod_count><sys_name>test_template_new</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>catalog_ui_policy_action_d10b4585db3e84109e1014613996191f</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-02-04 11:52:48</sys_updated_on><table/><ui_policy display_value="Always">acdac585db3e84109e101461399619e2</ui_policy><variable>test_template_new</variable><variable_set/><visible>ignore</visible></catalog_ui_policy_action></record_update>]]></payload><payload_hash>1253928319</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>a9b4ee43db3814109e10146139961981</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4eff0000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>test_template_new</target_name><type>Catalog UI Policy Action</type><update_domain>global</update_domain><update_guid>110b4585b63e841097539edaa2055921</update_guid><update_guid_history>110b4585b63e841097539edaa2055921:1253928319</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_app_module_2a168aa6db42c0109e10146139961900</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_app_module"><sys_app_module action="INSERT_OR_UPDATE"><active>true</active><application display_value="Regress - ATF Recorder">0a931f6adbc233001c4af53a2996195f</application><assessment/><content_page/><device_type/><filter/><hint/><homepage/><image/><link_type>DIRECT</link_type><map_page/><mobile_title>Properties</mobile_title><mobile_view_name>Mobile</mobile_view_name><name/><order>540</order><override_menu_roles>false</override_menu_roles><query>com.glideapp.servicecatalog_cat_item_view.do?v=1&amp;sysparm_id=e194ce26db42c0109e10146139961954&amp;sysparm_preview=true&amp;sysparm_domain_restore=false&amp;sysparm_stack=no</query><report/><roles/><sys_class_name>sys_app_module</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-01-03 01:18:57</sys_created_on><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>2a168aa6db42c0109e10146139961900</sys_id><sys_mod_count>1</sys_mod_count><sys_name>Properties</sys_name><sys_overrides/><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>sys_app_module_2a168aa6db42c0109e10146139961900</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-01-06 09:59:31</sys_updated_on><timeline_page/><title>Properties</title><uncancelable>false</uncancelable><view_name/><window_name/></sys_app_module></record_update>]]></payload><payload_hash>1495299256</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>adb46ec3db3814109e10146139961910</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4d610000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Properties</target_name><type>Module</type><update_domain>global</update_domain><update_guid>c7fa53a7924640101707b6483162c6c9</update_guid><update_guid_history>c7fa53a7924640101707b6483162c6c9:1495299256,5c1746e60942c0101ba0cfebd57f74e2:658997944</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_processor_1463955edbac58109e101461399619fe</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_processor"&gt;&lt;sys_processor action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;class_name/&gt;&lt;description/&gt;&lt;interactive&gt;false&lt;/interactive&gt;&lt;name&gt;Start Recording (Exhaustive)&lt;/name&gt;&lt;parameters/&gt;&lt;params_endpoint/&gt;&lt;path&gt;startRecordingExhaustiveRegressionATFTest&lt;/path&gt;&lt;path_endpoint/&gt;&lt;require_csrf&gt;false&lt;/require_csrf&gt;&lt;roles&gt;snc_internal&lt;/roles&gt;&lt;script&gt;&lt;![CDATA[(function process(g_request, g_response, g_processor) {
	var response = "";

	 if (!RegressATFRecordSessionv2.isRecording()) {
		var recordingStarted = RegressATFRecordSessionv2.startRecording(null,"exhaustive");
		var jsonParser = new JSON();
		response = jsonParser.encode(RegressATFRecordSessionv2.getSessionDetails());
		g_response.sendRedirect(gs.getSession().getStack().pop());
		if (recordingStarted) {
			gs.addInfoMessage('⏺ Started Regress ATF Test Recorder. For best results, start by creating a new record.');
		}
	 } 
	
})(g_request, g_response, g_processor);]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_processor&lt;/sys_class_name&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-05-05 09:31:37&lt;/sys_created_on&gt;&lt;sys_id&gt;1463955edbac58109e101461399619fe&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;Start Recording (Exhaustive)&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_processor_1463955edbac58109e101461399619fe&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-05 09:31:37&lt;/sys_updated_on&gt;&lt;type&gt;script&lt;/type&gt;&lt;/sys_processor&gt;&lt;/record_update&gt;</payload><payload_hash>-2135308326</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>adb46ec3db3814109e10146139961913</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b54a20000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Start Recording (Exhaustive)</target_name><type>Processor</type><update_domain>global</update_domain><update_guid>94635d5e8bac5810d5f4c19c61638c50</update_guid><update_guid_history>94635d5e8bac5810d5f4c19c61638c50:-2135308326</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_script_0afb1caddb11c010f0a2f28239961912</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script"&gt;&lt;sys_script action="INSERT_OR_UPDATE"&gt;&lt;abort_action&gt;false&lt;/abort_action&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;action_delete&gt;false&lt;/action_delete&gt;&lt;action_insert&gt;false&lt;/action_insert&gt;&lt;action_query&gt;false&lt;/action_query&gt;&lt;action_update&gt;false&lt;/action_update&gt;&lt;active&gt;false&lt;/active&gt;&lt;add_message&gt;false&lt;/add_message&gt;&lt;advanced&gt;true&lt;/advanced&gt;&lt;change_fields&gt;false&lt;/change_fields&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;collection&gt;task&lt;/collection&gt;&lt;condition/&gt;&lt;description/&gt;&lt;execute_function&gt;false&lt;/execute_function&gt;&lt;filter_condition/&gt;&lt;is_rest&gt;false&lt;/is_rest&gt;&lt;message/&gt;&lt;name&gt;Show message if Regressing&lt;/name&gt;&lt;order&gt;100&lt;/order&gt;&lt;priority&gt;100&lt;/priority&gt;&lt;rest_method/&gt;&lt;rest_method_text/&gt;&lt;rest_service/&gt;&lt;rest_service_text/&gt;&lt;rest_variables/&gt;&lt;role_conditions/&gt;&lt;script&gt;&lt;![CDATA[(function executeRule(current, previous /*null when async*/) {

	if (RegressATFRecordSessionv2.isRecording()) {
		RegressATFRecordSessionv2.showRecordingMsg();
	}

})(current, previous);]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script&lt;/sys_class_name&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-11-23 08:10:29&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;0afb1caddb11c010f0a2f28239961912&lt;/sys_id&gt;&lt;sys_mod_count&gt;23&lt;/sys_mod_count&gt;&lt;sys_name&gt;Show message if Regressing&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_0afb1caddb11c010f0a2f28239961912&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-02-20 10:59:18&lt;/sys_updated_on&gt;&lt;template/&gt;&lt;when&gt;before_display&lt;/when&gt;&lt;/sys_script&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=0afb1caddb11c010f0a2f28239961912"/&gt;&lt;/record_update&gt;</payload><payload_hash>-442719148</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>adb46ec3db3814109e10146139961916</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b500b0000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table>task</table><target_name>Show message if Regressing</target_name><type>Business Rule</type><update_domain>global</update_domain><update_guid>513813ca574fc0101e4abdffa8e54d4f</update_guid><update_guid_history>513813ca574fc0101e4abdffa8e54d4f:-442719148,2637705db75e44100009d6144c85e34a:39293759,10c6305d335e44105a3c24db283fc430:1511302841,06e430d97b5e4410ba2983e1ce58acbc:1375435306,da90aa9634868010c67d8f5a99240e52:-1690789255,2970aa5604868010261dee90d62d3781:-659325879,7d8d1e925a8680103c0e02674aed3615:-67334682,bc6d96d26d868010921b8fc3e7e0cd9f:-1390928181,76db16923f86801050a0ab943dd10135:-1825597530,3341da960c4680109e19b612b31e8898:25180951,4bab191a57828010de33707cf6c064b8:239858744,befa292026f10010b9bfeb114dfea295:-1503394917,7f5f1d646db10010711366dbe3b1f7c6:1244755302,2dca6cbd185dc010fdd0f82447a144b2:1992662509,283a64bd0f5dc0105457d9a07cd99119:-1509424894,d45990b9e51dc010178ef85f91f9473c:1992662509,eb2d98edaf11c010ab522b12c2e2e0c4:-1804770817,e71d1ced5f11c0106175ad917b0eef04:1848736765,d20d9cad9511c0109c207744d367fdfd:-549546669,62ec14edd711c01047d79ce86ad0e387:-2013825398,0c9cd0ede011c010f1cfb12a6c1714dc:-1281148495,857c90ede311c01044cc039e0b821b41:342884014,2b2c1cad3b11c0108befffd9d940e11c:520779856,b41c94adc111c01037c7b494d8d2ff24:-1553407170</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_script_include_4b6061a4dbb10010f0a2f282399619b1</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;public&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;global.VisibleUIActionTestStepGenerator&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;VisibleUIActionTestStepGenerator&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var VisibleUIActionTestStepGenerator = Class.create();
VisibleUIActionTestStepGenerator.prototype = Object.extendsObject(TestStepGenerator, {

	generateTestStep: function() {
		var complexityLevel = RegressATFRecordSessionv2.getRegressionLevel();
		if (complexityLevel != 'actions') {
			this.grATFStep.inputs['visible'] = this.regressionObject.visibleUIActions;
			if (complexityLevel == 'exhaustive') {
				this.grATFStep.inputs['not_visible'] = this.getPossibleNotVisibleUIActions();
						this.grATFStep.notes = "The UI Actions visible during and all UI actions that were not visible";
			} else {
				this.grATFStep.notes = "The UI Actions visible during recording.";
			}
			TestStepGenerator.prototype.generateTestStep.call(this);
		} else {
			this.grATFStep.deleteRecord();
		}

	},
	
	getPossibleNotVisibleUIActions: function() {
		var notVisibleUIActions = [];
		// The query string returned from getFormUIAction (OOTB, used by ATF) excludes inactive, but we want to include them to be able to perform exhaustive regression.
		var qry = getFormUIAction(this.regressionObject.tableName) + "^ORactive=false^sys_idNOT IN" + this.regressionObject.visibleUIActions;
		var grUIActions = new GlideRecord('sys_ui_action');
		grUIActions.addEncodedQuery(qry);
		grUIActions.setLimit(100);
		grUIActions.query();
		
		while (grUIActions.next()) {
			notVisibleUIActions.push(grUIActions.getUniqueValue());
		}
		
		return notVisibleUIActions.join(",");
	},
	
    type: 'VisibleUIActionTestStepGenerator'
});]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-12-15 07:06:34&lt;/sys_created_on&gt;&lt;sys_id&gt;4b6061a4dbb10010f0a2f282399619b1&lt;/sys_id&gt;&lt;sys_mod_count&gt;9&lt;/sys_mod_count&gt;&lt;sys_name&gt;VisibleUIActionTestStepGenerator&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_4b6061a4dbb10010f0a2f282399619b1&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-05 09:03:13&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload><payload_hash>1575118266</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>adb46ec3db3814109e10146139961919</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b53e20000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>VisibleUIActionTestStepGenerator</target_name><type>Script Include</type><update_domain>global</update_domain><update_guid>00ec09568cac581096839c572fe0f701</update_guid><update_guid_history>00ec09568cac581096839c572fe0f701:1575118266,b7e4f59b1f460010a11f32bbebd069f4:1013027959,320bd3a65486c01066e64c739719f642:1853634886,e7e7d3a2ad86c010aebd27c5467c6c96:-1947747403,7dd49faef346c01040daf797a34c5745:1489449986,41f3572ee546c01092a819ca3081bd6e:2038765199,5c42a9287bb100103e26cd2835a4164f:-1818774815,5e91ade4b4b10010ed0eb89e295138ab:498532903,d7706da481b10010b77da582e4205300:2144784239,436061a4eab100105ff2c67043caa0b4:1112741836</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_ui_action_28ad6235db9233001c4af53a29961988</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_ui_action"&gt;&lt;sys_ui_action action="INSERT_OR_UPDATE"&gt;&lt;action_name/&gt;&lt;active&gt;false&lt;/active&gt;&lt;client&gt;false&lt;/client&gt;&lt;client_script_v2&gt;&lt;![CDATA[function onClick(g_form) {

}]]&gt;&lt;/client_script_v2&gt;&lt;comments/&gt;&lt;condition&gt;gs.hasRole('admin')&lt;/condition&gt;&lt;form_action&gt;true&lt;/form_action&gt;&lt;form_button&gt;false&lt;/form_button&gt;&lt;form_button_v2&gt;false&lt;/form_button_v2&gt;&lt;form_context_menu&gt;false&lt;/form_context_menu&gt;&lt;form_link&gt;true&lt;/form_link&gt;&lt;form_menu_button_v2&gt;false&lt;/form_menu_button_v2&gt;&lt;form_style/&gt;&lt;hint/&gt;&lt;isolate_script&gt;false&lt;/isolate_script&gt;&lt;list_action&gt;false&lt;/list_action&gt;&lt;list_banner_button&gt;false&lt;/list_banner_button&gt;&lt;list_button&gt;false&lt;/list_button&gt;&lt;list_choice&gt;false&lt;/list_choice&gt;&lt;list_context_menu&gt;false&lt;/list_context_menu&gt;&lt;list_link&gt;false&lt;/list_link&gt;&lt;list_save_with_form_button&gt;false&lt;/list_save_with_form_button&gt;&lt;list_style/&gt;&lt;name&gt;Create Configuration Regression Test&lt;/name&gt;&lt;onclick/&gt;&lt;order&gt;100&lt;/order&gt;&lt;script&gt;&lt;![CDATA[var regress = new TestGenerator();
try {
	regress.setRegressionObject(current);
	regress.setupTest();
	gs.addInfoMessage('Regression Test Created');
	action.setRedirectURL(regress.grTest.getLink());
} catch (e) {
	gs.addErrorMessage(e);
	action.setRedirect(current);
	regress.deleteTest();
}
]]&gt;&lt;/script&gt;&lt;show_insert&gt;false&lt;/show_insert&gt;&lt;show_multiple_update&gt;false&lt;/show_multiple_update&gt;&lt;show_query&gt;false&lt;/show_query&gt;&lt;show_update&gt;true&lt;/show_update&gt;&lt;sys_class_name&gt;sys_ui_action&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-06-28 10:17:59&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;28ad6235db9233001c4af53a29961988&lt;/sys_id&gt;&lt;sys_mod_count&gt;4&lt;/sys_mod_count&gt;&lt;sys_name&gt;Create Configuration Regression Test&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_action_28ad6235db9233001c4af53a29961988&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2019-12-15 06:27:56&lt;/sys_updated_on&gt;&lt;table&gt;sys_ui_policy&lt;/table&gt;&lt;ui11_compatible&gt;true&lt;/ui11_compatible&gt;&lt;ui16_compatible&gt;false&lt;/ui16_compatible&gt;&lt;/sys_ui_action&gt;&lt;/record_update&gt;</payload><payload_hash>-1535338928</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>adb46ec3db3814109e1014613996191c</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4cc30000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table>sys_ui_policy</table><target_name>Create Configuration Regression Test</target_name><type>UI Action</type><update_domain>global</update_domain><update_guid>f097592cac71001085e10f0923cdbf73</update_guid><update_guid_history>f097592cac71001085e10f0923cdbf73:2066511958,17e7f31fd7723300360579b455dc395c:1148753507,0a243e397d923300d7dee7dfdd72a22f:-1245869449,9e2ee635bf923300a85219aac1fc5b96:1288097504,e1fd6635f992330008ba4ff2a31bb55c:-896428824</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_ui_script_c7391cd6db210010f0a2f282399619f0</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ui_script"&gt;&lt;sys_ui_script action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;description&gt;Takes a snapshot of the forms current state.&lt;/description&gt;&lt;global&gt;false&lt;/global&gt;&lt;name&gt;RegressFormStateHandler&lt;/name&gt;&lt;script&gt;&lt;![CDATA["use strict";

class FormState {
	constuctor () {
		this.cat = "ads";
	};
	
	test() {
		
	};
}

function ServicePortalFormState(g_form) {
    //"use strict";

    //Class variables

    var variableState = new regress.FieldState();
	var populatedVariablesEncodedQuery = '';
	
    // Constructor
    (function() {

        if (typeof g_form == 'undefined') {
            g_form = window.g_form;
        } 

    })();

    return {

        // Public functions 
        getVariableState: function() {
            return variableState;
        },

        snapshotVariableState: function() {

            var allVariables = g_form.getFieldNames();

            for (var v in allVariables) {
                if (allVariables.hasOwnProperty(v)) {
                    var variableName = allVariables[v];
                    captureVariableState(variableName);
                }
            }

            this.logVariableState();
        },

        snapshotPopulatatedVariables: function() {
            var changedFieldsOnly = true;
            var serializedForm = g_form.serialize(changedFieldsOnly);
            var changedVariables = [];

            for (var v = 0; v &lt; serializedForm.length; v++ ) {
                var serializedVariable = serializedForm[v];
                if (g_form.isEditableField(serializedVariable.name)) {
                    changedVariables.push(serializedVariable.catalogFieldName + "=" +g_form.getValue(serializedVariable.name) );
                }
            }

            populatedVariablesEncodedQuery = changedVariables.join("^");
			log('Populated Variabled Encoded Query:' + populatedVariablesEncodedQuery);
        },

        getPopulatedVariablesAsEncQry: function() {
            return populatedVariablesEncodedQuery;
        },


        logVariableState: function() {
            log('Mandatory Variables: ' + variableState.mandatory);
            log('Optional Variables: ' + variableState.optional);
            log('Visible Variables: ' + variableState.visible);
            log('Hidden Variables: ' + variableState.hidden);
            log('Read only Variables: ' + variableState.readOnly);
            log('Editable Variables: ' + variableState.editable);
        },

        type: 'RegressFormStateHandler'
    };

    //Private Functions
    function hasVariableChanged(serializedVariable) {
        var answer = serializedVariable.hasOwnProperty('originalValue')
			&amp;&amp; serializedVariable.value != serializedVariable.originalValue
			&amp;&amp; serializedVariable.type != "container_start";

        return answer;
    }

    function captureVariableState(variableName) {

        determineIfMandatoryVariable(variableName);
        determineReadOnlyVariable(variableName);
        determineIfVisibleVariable(variableName);

    }

    function determineIfMandatoryVariable(variableName) {

        var isMandatory = g_form.isMandatory(variableName);
        var variableSysId = g_form.getField(variableName).sys_id;
        if (isMandatory) {
            variableState.mandatory.push(variableSysId);
        } else {
            variableState.optional.push(variableSysId);
        }

        return isMandatory;
    }

    function determineReadOnlyVariable(variableName) {

        var isReadOnly = g_form.isReadOnly(variableName);
        var variableSysId = g_form.getField(variableName).sys_id;
        
        if (isReadOnly) {
            variableState.readOnly.push(variableSysId);
        } else {
            variableState.editable.push(variableSysId);
        }

        return isReadOnly;
    }

    function determineIfVisibleVariable(variableName) {

        var isVisible = g_form.isVisible(variableName);
        var variableSysId = g_form.getField(variableName).sys_id;

        if (!isVisible) {
            variableState.hidden.push(variableSysId);
        } else {
            variableState.visible.push(variableSysId);
        }

        return isVisible;
    }
    
    function log(msg) {
        console.log(msg);
    } 
    
}

function FormStateRegressionSnapshot(g_form, g_user) {
    "use strict";

    //Class variables
    var tableName;
    var primaryReferenceFields = [];
    var variableState = new regress.FieldState();
    var fieldState = new regress.FieldState();
    var populatedFieldsEncodedQuery;
    var populatedVariablesEncodedQuery;
    var defaultFieldsToValidate = [];

    // Constructor
    (function() {

        if (typeof g_form == 'undefined') {
            g_form = window.g_form;
        } 
        
        if (typeof g_user == 'undefined') {
            g_user = window.g_user;
        }

        tableName = g_form.getTableName();

        var sessionDetails = getSessionDetails();
        if (sessionDetails) {
            defaultFieldsToValidate = sessionDetails.existingRecordQueryFields.split(",");
        }

    })();

    return {

        // Public functions 
        getMandatoryFields: function() {
            return fieldState.mandatory;
        },

        getFieldState: function() {
            return fieldState;
        },

        getVariableState: function() {
            return variableState;
        },

        getPrimaryReferenceRecordFields: function() {
            return primaryReferenceFields;
        },

        snapshotFieldState: function(primaryReference) {

            var fieldElements = g_form.elements;

            for (var f in fieldElements) {
                if (fieldElements.hasOwnProperty(f)) {
                    var fieldElement = fieldElements[f];
                    getFieldState(fieldElement, primaryReference);

                }
            }

            this.logFieldState();
            this.logVariableState();
        },

        snapshotVariableState: function(primaryReference) {

            var allVariablesNameMap = g_form.nameMap;

            for (var f in allVariablesNameMap) {
                if (allVariablesNameMap.hasOwnProperty(f)) {
                    var variableNameMap = allVariablesNameMap[f];
                    getVariableState(variableNameMap);
                }
            }

            this.logVariableState();
        },

        logFieldState: function() {
            log('Mandatory fields:' + fieldState.mandatory);
            log('Read only fields:' + fieldState.readOnly);
            log('Hidden fields:' + fieldState.hidden);
            log('Optional fields:' + fieldState.optional);
            log('Editable fields:' + fieldState.editable);
            log('Visible fields:' + fieldState.visible);

        },

        logVariableState: function() {
            log('Mandatory Variables: ' + variableState.mandatory);
            log('Optional Variables: ' + variableState.optional);
            log('Visible Variables: ' + variableState.visible);
            log('Hidden Variables: ' + variableState.hidden);
            log('Read only Variables: ' + variableState.readOnly);
            log('Editable Variables: ' + variableState.editable);
        },

        getDefaultFieldsToValidateAsEncQuery: function() {
            var encQueries = [];
            var encQry;
            for (var f = 0; f &lt; defaultFieldsToValidate.length; f++) {
                var fieldName = defaultFieldsToValidate[f];
                log('Processing ' + fieldName);
                var glideUIElement = g_form.getGlideUIElement(fieldName);
                if (glideUIElement) {
                    var isVisible = g_form.isVisible(glideUIElement);
                    if (isVisible) {
                        var value = g_form.getValue(fieldName);
                        encQueries.push(fieldName + '=' + value);
                    }
                }

            }
            encQry = encQueries.join("^");
            log(encQry);
            return;
        },

        getAllChangedFieldsAsEncQry: function() {
            var allChangedFieldsAsEncQry = '';
            var changedFieldsQry = this.getChangedFieldsPart();

            if (changedFieldsQry != g_form.serializeTargetFields()) {
                // remove [tablename.]field part
                // incident.impact=1&amp;incident.urgency=1&amp;incident.priority=1 -&gt; impact=1&amp;urgency=1&amp;priority=1
                var replaceTableNameRegEx = new RegExp(g_form.getTableName() + "\.", "g");
                allChangedFieldsAsEncQry = changedFieldsQry.replace(replaceTableNameRegEx, "");

                // replace &amp; with ^ as to read like encoded query
                // impact=1&amp;urgency=1&amp;priority=1 -&gt; impact=1^urgency=1^priority=1
                var replaceAmpersandRegEx = /\&amp;/g;
                allChangedFieldsAsEncQry = allChangedFieldsAsEncQry.replace(replaceAmpersandRegEx, "^");

                // serialized string replaces spaces with + symbol. We need put the space back in
                // short_description=hello+my+old+friend -&gt; short_description=hello my old friend
                allChangedFieldsAsEncQry = allChangedFieldsAsEncQry.replace(/\+/g, " ");
            }

            return allChangedFieldsAsEncQry;
        },



        // All fields changed are stored as a serialized query. 
        // We want to strip out only the part that has changed fields
        getChangedFieldsPart: function() {

            // serializeChanged() example output 
            // e.g. &amp;sys_target=incident&amp;sys_uniqueValue=7d7ad766db86c0109e10146139961919&amp;sys_row=0&amp;sysparm_encoded_record=         &amp;incident.impact=1&amp;incident.urgency=1&amp;incident.priority=1 
            var serializedChangedFields = g_form.serializeChanged();
            log('serializedChangedFields:' + serializedChangedFields);

            // remove all junk variable details 
            // e.g. ni.ni.VE42e9ff70db3333001c4af53a299619c2TABLE=sys_user, ni.WATERMARK 
            var changedVariablesRegEx = new RegExp("&amp;ni\.[^&amp;]+", "g");
            serializedChangedFields = serializedChangedFields.replace(changedVariablesRegEx, "");
            log('variables removed: ' + serializedChangedFields);

            // serializeTargetFields() example output
            // &amp;sys_target=incident&amp;sys_uniqueValue=7d7ad766db86c0109e10146139961919&amp;sys_row=0&amp;sysparm_encoded_record=
            var serializedTargetFields = g_form.serializeTargetFields();
            log('serializeTargetFields:' + serializedTargetFields);

            // Remove serializeTargetFields part from serializeChanged and first ampersand
            // &amp;incident.impact=1&amp;incident.urgency=1&amp;incident.priority=1 
            var changedFieldsOnly = serializedChangedFields.replace(serializedTargetFields + "&amp;", '');
            log('changedFieldsOnly:' + changedFieldsOnly);


            return changedFieldsOnly;
        },

        snapshotPopulatedFieldsAndVariables: function() {

            if (g_form.getTableName() == "ni") {
                // Change variables in Service Catalog Form are not captured in modifiedFields
                this.snapshotPopulatatedVariables();
            } else {

                var modifiedFieldsAndVariables = Object.keys(g_form.modifiedFields); // ES2015 - This might fail in older browsers
                var fieldsWithChangedValues = [];
                var variablesWithChangedValues = [];
                var variablesEncQry = [];

                for (var i = 0; i &lt; modifiedFieldsAndVariables.length; i++) {
                    var fieldName = modifiedFieldsAndVariables[i];
                    log("Processing " + fieldName);

                    if (g_form.modifiedFields[fieldName] == true) {

                        // Variables are prefixed with ni.VE
                        if (fieldName.indexOf("ni.VE") &gt; -1) {
                            var variableNameMap = g_form.nameMap.find(function(element) {
                                return element.realName == fieldName;
                            }); // Not sure how to do this outside the function, not sure it matters

                            if (variableNameMap) {
                                var variableSysID = variableNameMap.questionID;
                                variablesWithChangedValues.push(variableSysID);
                                var query = "IO:" + variableSysID + "=" + g_form.getValue(fieldName);
                                variablesEncQry.push(query);
                            } else {
                                log('Something went wrong finding the variable sys_id');
                            }

                        } else {
                            // Fields are prefixed with table name, e.g. incident.short_description
                            // TODO: Investigate using OOTB function for this instead
                            var fieldWithoutTablePrefix = fieldName.replace(tableName + ".", "");
                            fieldsWithChangedValues.push(fieldWithoutTablePrefix);
                        }

                    }
                }

                log("Fields changed: " + fieldsWithChangedValues);
                log("Variables changed: " + variablesWithChangedValues);
                populatedFieldsEncodedQuery = createEncodedQueryFromFields(fieldsWithChangedValues);
                populatedVariablesEncodedQuery = variablesEncQry.join("^");

                log("populatedVariablesEncodedQuery:" + populatedVariablesEncodedQuery);
            }
        },

        snapshotPopulatatedVariables: function() {
            var serializedChangedVariables = g_form.serializeChanged();
            var serializedChangedVariablesArray = serializedChangedVariables.split("&amp;");
            var changedVariablesArray = [];

            for (var i = 0; i &lt; serializedChangedVariablesArray.length; i++) {

                var serializedVariable = serializedChangedVariablesArray[i];
                if (serializedVariable.startsWith("IO:")) {
                    changedVariablesArray.push(serializedVariable);
                }

            }

            log("Variables changed: " + changedVariablesArray);
            populatedVariablesEncodedQuery = changedVariablesArray.join("^");
            log("populatedVariablesEncodedQuery:" + populatedVariablesEncodedQuery);
        },

        getPopulatedVariablesAsEncQry: function() {
            return populatedVariablesEncodedQuery;
        },

        getPopulatedFieldsAsEncQry: function() {
            return populatedFieldsEncodedQuery;
        },

        // This is how ServiceNow finds the UI Actions in the DOM in the 'Check UI Action Visibility' Test config
        getVisibleUIActions: function() {
            var visibleUIActions = [];
            var queryString = "[gsft_id]";
            var uiActionElements = document.querySelectorAll(queryString);

            for (var i in uiActionElements) {
                var uiActionElement = uiActionElements[i];
                if (isElementVisible(uiActionElement)) {
                    var sysId = uiActionElement.getAttribute("gsft_id");
                    visibleUIActions.push(sysId);
                }
            }

            return visibleUIActions;
        },

        type: 'RegressFormStateHandler'
    };

    //Private Functions
    function getSessionDetails() {
        var recordingSessionDetails;
        var recordingSessionDataJSON = g_user.getClientData("REGRESS_ATF_RECORDER");
        if (recordingSessionDataJSON != null) {
            recordingSessionDetails = JSON.parse(recordingSessionDataJSON);
        }

        return recordingSessionDetails;
    }
    // Not using this function at the moment
    function createEncodedQueryFromFields(fields) {

        var encodedQuery = '';
        var regressionQueryArray = [];
        for (var r in fields) {
            if (fields.hasOwnProperty(r)) {
                try {
                    var regFieldName = fields[r];
                    var qry = regFieldName + "=" + g_form.getValue(regFieldName);
                    regressionQueryArray.push(qry);

                } catch (e) {
                    // in case it cant get the field value for whatever reason
                    //log("Excluding field " + regFieldName + ' reason:' + e);
                }
            }
        }

        encodedQuery = regressionQueryArray.join("^");

        return encodedQuery;
    }

    // This is how ServiceNow determine UI Action Visibility in ATF Test Config
    function isElementVisible(dom) {
        var answer = false;
        try {
            answer = !dom.hidden &amp;&amp; dom.style.visibility != 'hidden';
        } catch (e) {
            log('element ' + dom + ' visibility cannot be determined');
        }

        return answer;
    }

    function getVariableState(fieldElement) {

        var variableName = fieldElement.prettyName;
        var variableSysID = fieldElement.questionID;
        var realName = fieldElement.realName;
        determineIfMandatoryVariable(fieldElement);
        determineReadOnlyVariable(fieldElement);
        determineIfVisibleVariable(fieldElement);

    }

    function getFieldState(fieldElement, primaryReference) {

        var isReferenceToPrimary = false;
        var fieldName = fieldElement.fieldName;
        var fieldTable = fieldElement.tableName;

        if (fieldName != '' &amp;&amp; fieldName != null &amp;&amp; fieldName != undefined) {
            if (fieldTable == tableName) {

                determineIfMandatoryField(fieldName);
                determineReadOnlyField(fieldName);
                determineIfVisibleField(fieldName, fieldElement);

                if (primaryReference != null &amp;&amp; g_form.getValue(fieldName) == primaryReference) {
                    primaryReferenceFields.push(fieldName);
                }


                return true;
            }
        }

        return false;
    }

    function determineIfMandatoryField(fieldName) {

        var isMandatory = g_form.isMandatory(fieldName);
        if (isMandatory) {
            fieldState.mandatory.push(fieldName);
        } else {
            fieldState.optional.push(fieldName);
        }

        return isMandatory;
    }

    function determineIfMandatoryVariable(variableNameMap) {
        var variableName = variableNameMap.prettyName;
        var isMandatory = g_form.isMandatory(variableName);
        var variableSysID = variableNameMap.questionID;

        if (isMandatory) {
            variableState.mandatory.push(variableSysID);
        } else {
            variableState.optional.push(variableSysID);
        }

        return isMandatory;
    }

    function determineReadOnlyField(fieldName) {

        var isReadOnly = g_form.isReadOnly(g_form.getElement(fieldName), g_form.getControl(fieldName));
        if (isReadOnly) {
            fieldState.readOnly.push(fieldName);
        } else {
            fieldState.editable.push(fieldName);
        }

        return isReadOnly;
    }

    function determineReadOnlyVariable(variableNameMap) {
        var variableSysID = variableNameMap.questionID;
        var variableName = variableNameMap.realName;
        var isReadOnly = g_form.isReadOnly(g_form.getElement(variableName), g_form.getControl(variableName));

        if (isReadOnly) {
            variableState.readOnly.push(variableSysID);
        } else {
            variableState.editable.push(variableSysID);
        }

        return isReadOnly;
    }


    function determineIfVisibleField(fieldName, fieldElement) {

        var isVisible = g_form.isVisible(fieldElement);

        if (!isVisible) {
            fieldState.hidden.push(fieldName);
        } else {
            fieldState.visible.push(fieldName);
        }

        return isVisible;
    }

    function determineIfVisibleVariable(variableNameMap) {
        var realName = variableNameMap.realName;
        var glideUIElement = g_form.getGlideUIElement(realName);
        var control = g_form.getControl(realName);
        var variableSysID = variableNameMap.questionID;
        // I reverse engineered ServiceNow's Variable State Validation Test Step to use the same logic
        var isVisible = (!glideUIElement || !control) ? false : !!g_form.isVisible(glideUIElement, control);

        if (!isVisible) {
            variableState.hidden.push(variableSysID);
        } else {
            variableState.visible.push(variableSysID);
        }

        return isVisible;
    }
    
    function log(msg) {
        if (typeof jslog !== "undefined") {
            jslog(msg);
        } else {
            // log not supported in SP
            console.log(msg);
        }
    } 
    
}]]&gt;&lt;/script&gt;&lt;script_name/&gt;&lt;sys_class_name&gt;sys_ui_script&lt;/sys_class_name&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-12-08 02:09:30&lt;/sys_created_on&gt;&lt;sys_id&gt;c7391cd6db210010f0a2f282399619f0&lt;/sys_id&gt;&lt;sys_mod_count&gt;199&lt;/sys_mod_count&gt;&lt;sys_name&gt;RegressFormStateHandler&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_script_c7391cd6db210010f0a2f282399619f0&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-25 05:10:27&lt;/sys_updated_on&gt;&lt;ui_type&gt;10&lt;/ui_type&gt;&lt;use_scoped_format&gt;false&lt;/use_scoped_format&gt;&lt;/sys_ui_script&gt;&lt;/record_update&gt;</payload><payload_hash>-1859363354</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>adb46ec3db3814109e1014613996191d</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b52e10000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>RegressFormStateHandler</target_name><type>UI Script</type><update_domain>global</update_domain><update_guid>15b77c4772d49c10f67562a2e62f1278</update_guid><update_guid_history>15b77c4772d49c10f67562a2e62f1278:-1859363354,ace4f08314d49c109befcbbd91c83321:751948361,2244b083dcd49c1048646c664b08f7d5:1068787562,a4a230cf8a949c1070f5b5c97557044a:296187356,6752f0cfa3949c10b06064d2f3706431:-1225814285,9141388f01949c10574cefff74298a8a:-346003661,b930304f15949c1068064e5d997472e2:1107982705,2eeeaccbe6949c10aa2e8b93d3ebf64e:23019250,69e5d4ad3750181048b8a26bdea60535:-630801724,1b65902d90501810ffb6ea12d5fa0785:-1722886566,887414691950181055335dbb91dc3f80:680681633,7134d8a9c4501810d84ebf0eac2d0d21:1271565554,9ad258a99f5018108e8062b9a1f12f20:906380490,5d715069a350181027f6536e244d628e:-1095846940,2f4154e597501810e4ee77678c68811f:-955372460,d5d09ce50c5018106cbc0e1c01eee353:1468226891,f45010a5485018101918784522b2798c:-1042461074,463018612f501810fd6ab2656b6ea521:-1708018782,b1dfcc65145018105e28d47427b13fd0:-1109888981,1493ad49345494109ed34b12712f103e:-1990369729,51432d89c1549410ea770d0cbc85e34d:-1610845185,c772e509ca54941023eba6c72b9516b9:2076401614,d852ad498754941016d78ae2bb07cd32:275333374,534e9905ad549410d5b03d9ec1bcc8c6:-429514641,6f2e5505f65494101aa51081db38b5a6:-1576371230,1afd1105035494108b19cdef841e2d84:1089399426,edf39d852e1494106e6d23ee676a2379:-1004988349,2d1428622d401410ead64e650f3a27bb:-1767048826,e3d3a0e289401410aef6d2eb07e9b36f:-1556733501,7191ec227640141007feaf8ec38af07a:838540990,2901682ee3001410e539929980493c23:212862144,863d5cea1600141080aadd9b7fbf8be4:-932860470,11f3506e91ccd0108f46e068eb5dcc9c:1928168280,259bf1257f041010d765cfe094ecd921:-1559992873,773931619c041010b200b33c716918e4:-1971348432,9f19fdad0ac010105fbf3f6cc6cc45df:975247381,bce8b9ad99c01010086c76e2b4e83b59:-635020695,fefa96cd4d7f0010183450817dd7f33b:-1892231091,c0fe0e761d8b841085be6c28482f292e:1162988997,ed4e063e0b4b84100e1f62c86558f524:433402887,39ad82ba344b84103d11688618ca1ac2:1062358643,652d063e084b841035c950db9a85ac1f:-1043902328,19e8797a290b84106c2985ac69afa7e9:2023244308,1c96b57a46c784102445b5818d7870d2:-914371754,93653976b4c784107c85f8d857092b77:-184752680,7c93393e878784104a6f93358cd91023:608724357,0171b57a63878410fc545c013e709d03:67592313,9f454501103e8410f67a6ba1469be6cb:905150171,d1354901883e8410c9d0170fffbb54da:-826825917,6525cdcdb8fa8410875fd4d53c1c1e31:-340903523,c158400c4f3ac010f995587358fe00b6:-1944981603,77eec2f00aa64010fe1ef98542dca72a:-2106522338,dffdc2b086a6401015bc66a027ebb854:-2077713134,289d0e3082a640105aeb4b34fded6e52:-413172182,acfc8e30c4a640107765c15188bceb23:682399356,6a4cc2fcae66401074b6a741fd44a9ef:-1253916797,746229bc85e24010c810b95f818f12a6:-1830966487,e10261fc24e240107f28695673087d5c:1295540442,5ed1a97c93e2401057c1f17b49cc4ec9:-576994756,cd81217c55e24010f3026fddfd79bd31:-324845742,79d02d3c49e2401090380985f691e001:-954722469,e170e53c69e240100a26a88aa164b62b:-58398840,5410adf874e2401010b16cbbbea34f75:703936097,110f91f829e24010a99652a83bf9f270:-1815940509,80ae59b8d5e24010184360e5286fb25c:1475918896,a7fd917867e24010520f7d064edfca43:-1541332044,b7bd117874e2401065264fed7e6013f9:-1601602389,cc8cd5f4d2e240103eb7900487dff7f8:-825072407,ce4cd5f446e24010ca2c41c9cb45a45c:-1766117699,a06b91b4c0e240108a017174092624dc:297126221,e99a65a4852a0010cf7eb6a1edc79264:1769821869,fff621a0e32a0010cd6411cb788932ed:-2031217476,7bd62560a82a0010ec9ba932920e9963:-1967796659,d38621a06f2a0010e585e2d9a234b807:708526830,315f96bbb71e00102fd70d6776bf4818:-1974069098,7a3f1abbab1e0010bf47cd67fb5b7c0b:-1377967012,f51e96b7881e00101ef4fda3fccbf39a:385490759,70ea5ef3b01e0010c304a959a82a5c2d:430826876,604652dc3916c010b5b158f91d118503:-1967796659,12e55e9ce816c0103b86336c88befa4d:-914227307,1795121c8816c010f1cf07187d587ea5:-867224563,55f1d2981816c0100814dd71bbe91cf5:181010413,2f2ff55c9fd2c01058e6179d0748e6f6:120351640,10eef91c71d2c0105deabeeca10f10ce:-2116495076,e2ae311c74d2c010c8845ff34b36dae3:2094047318,facd7d9825d2c010e265feb02c71431e:488722529,e04d71184bd2c01082de455f00d95cd3:800537376,c49c7d9481d2c0103d092e34990fede8:41920981,69d7399460d2c01029d0ea05c9a1bb07:-200444447,c98779546ad2c010e5ef40ded187cce5:-816155514,eea6fd541fd2c0102eae67c3760f7ba6:-1890956529,5854f9d0d6d2c01071705268e69bc0ef:1673706752,79f3f95087d2c01076e81b6b73cae1b5:-1925434372,d9a3fd5063d2c01070bb0b9bb84c200e:1548305917,5063fd5011d2c01094b201343aba5406:1512095048,3f03f150a1d2c01087b20ef96d2d929f:-1135469250,265235109dd2c010c0e2538dd2e4c046:1058992583,aaeded1c6392c01002992c8aa6ba53e4:1814570585,4ecd21989592c010fee44aec4b881373:1267149693,d49d6d1c9e92c010174d188a33b38739:-450869497,947de1d84392c010c7ed16314c5bbf6f:-1003924634,28d42004fb1680107d6737e2e4abc51d:-689175011,d53a2ba71e86401092a25f2d966048f4:1987398104,9ef92767b38640108d230a8974d19fe7:337436584,e2992b67e786401099d24c66b191d8ef:-186237912,4a39a367c88640106948615551b0f49e:346689164,b429ef271a86401014845536ceb10d5c:2046466152,d0a7e7e3028640101d04ddd763f5afb2:662679113,92372fa38e8640101ad3ca3541436c33:-1874724187,3c74276f68464010e3b8f5cad2510ebe:-1822351828,2ef93913c8860010660d0ca369de614b:-1973766609,11f8b5df7046001004e25d97291b635f:-1222198979,2da8b19f7746001057f415ce61a083db:-842281315,fa38f15fda460010d2d2f1ad085fd7fd:-640309251,13f6751f3d4600105a1c4867f20c4ca5:-968783808,4ad6311f58460010dc76fcfc7b50b9e3:-2136166781,0386799bdb4600107bb2be2557e90689:374562691,96063d5b7d46001082237a73f638e33c:-1537329727,e2a4755b7a46001081729f6df2943a78:-360744704,f974b15b544600101e618485725f8663:1918875729,4b44bd1b66460010b1af369c4c5cfdee:-581622700,1cd3751b254600107991753c689e84c3:-1875168125,a7133597e44600101c78aa1471b7cb83:-357024032,fee2b5d7ce460010a033f47edab4b10d:-759105064,b052f9977f460010182aed1ab7c77420:-246523553,7371fd93574600104e2ef7ba5ac45572:1226551317,f6f07953d24600100691ebc32e0fbfde:-845956044,e9b0f59353460010a4702ce798c51376:27033866,73d949934ec2001014f31b68258726dd:274708254,876981532ec200101ee2d851b6033c91:612775071,d119895350c200106ede1d6ef518557d:1950071476,c409c9531ec2001072f46d8cfdb1a519:-904027535,d02889132ac2001029d5be1912ce92f6:1285165864,5f47011300c200106acee32fffcc7175:352180045,cad685df1482001022ce872ad3322bd7:1929262676,ffa605df4e820010d978c42760fc3cbe:-424325750,16e5c59fb282001083c608844c7efeed:167696999,5403c5db438200106168002edf62d2f0:-567818494,1a34785fcd42001044c11d84537459fa:-651365576,c414345fd6420010016af805feedaf39:1193367852,7233b81f1d4200105ae33526cadb84f7:-574332068,45b2b81ff542001012f6c777fd889b0d:-502575478,a662b09b26420010cfba4f46c3907d59:15548569,5361b81b43420010b21529f386edeb04:1961835071,bf992c175e42001083beb74f651ed82f:463347597,3b47ec137e4200105da9960d5e441900:-819125977,3e0668df640200104c8b2f4973e07a4a:735638327,db65249f7d0200103adc426786fb3a39:2050779298,f1156c1f4b0200105bc7b1b5584cbf2a:-303818421,1c84205f9a0200107c37d4c31eaba64e:-379589566,5454a8dbb0020010e6dc09b20f577e41:776615669,2c332cdbf6020010f31fad702a4f4106:-1514902307,a3f2289b9802001075ed5641d241d484:222878655,7e62a857e30200107b0401ee096941a6:355490457,9f41a4d74b02001087a1b329a36a8b81:1446277627,efd0a8579e02001047589152eef6f798:-546516858,c55f109771020010974381a69c77ab02:859719777,8b3f9857740200103c5779002babd33b:-101733670,735e90931d02001090c536e2efd3e972:2008545851,022cd7a65686c01099a9f1812d1d3185:-2121511469,1bfbd7a6af86c010457029b84bb1588c:1982454707,31b2c32eee06c010d981700ce13796ca:-2121511469,250c3a660506c0108bae58edd930d817:2089809447,2ec9f2261306c010aa475785287e308b:-1557987518,1d59fe224106c010983d3b5c89e7bcb1:-387531538,9fa8f2ee62c2c010a7ee723de086a8f5:1440352974,070e626ac3c2c010bc170ac1c1154425:987032544,161d2ea6f1c2c010ef0002350c628c3e:-718387700,12ae312e1102c01090a7f17247163c2c:246578805,0e7f229626c68010a051fe9ed6ed5af0:1139684911,df67eedab18680106c46eee7fc57a4ea:1641928354,5995ea9a468680101db71d356dc68a5c:-562178671,6335ea9ae08680108488e9cabd69c1b0:34468224,3780e19e058280106c141a6fcbebcdbe:-306637045,7f60a59e698280107a340bce742283b4:1747775158,6b20259e6e828010ed59deee0d4e6f14:-1235404674,6effd55ebf82801063e9f622e5a54eab:1346086917,bb9fd55eff828010039f19ce6b965fa6:1625008817,426f515e2a828010941b6c6028d66827:-349376069,64dd115a7b8280108bdc8f5ee0535589:-1648008371,ae5d951a8c828010337ecefdb5edbbdc:-1678184839,14ad19a097b10010481677a6a814676d:492032734,ab7c5160cdb1001064922903409a6fc7:-1954102364,b68b51ec5c71001021d503e6124321d3:-1583689111,3e753113cf61401055c1a0e7e8c0319b:-143535600,191331df6a214010ae3d2ddfe8f3de38:1704950847,bdea5443cca100105954713849504d79:-578427654,7e0594cbd36100102792a4e3f2bdf19f:-401739129,7d18488fa72100104c573ce0bad743af:-139643849,dae3f89e26a100104dfbcfe98ceeff67:-1125601705,cc93f49e55a100100fda759178e64af1:2122449013,9352385af9a1001093243a81320382db:-1125601705,ca02b41a43a10010aa97abe27155f0be:-139643849,1246a4566a610010a74c5ee3453c3c0f:1896112303,ae2664960a610010692af51ee1cde5be:-1534494073,65a16052bf6100108a91d3fca7303aab:-401739129,fc00a41214610010a6769513f8ba2535:-68546252,8adf5cde5c210010174e1021baa77687:-282004510,5b6f541ec2210010572215cebe788eed:1645747826,b7fe5c5e4f21001083815b0071a8972c:1848063310,201e58daa02100102cb766e8a1a88101:-1373007941,5d3d905a4d210010952482eac2f1445b:851389330,62ba941ad42100109620990cd1b7a939:-762099661,3b4a581abe210010329ac708846f645f:-750596196,2c1adc56b2210010437389f2c6e6a42b:589524115,0f491096cb210010c0d104203909202c:760109224</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>catalog_script_client_f34c31a5db0410109e101461399619c0</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="catalog_script_client"&gt;&lt;catalog_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_catalog&gt;true&lt;/applies_catalog&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;applies_req_item&gt;false&lt;/applies_req_item&gt;&lt;applies_sc_task&gt;false&lt;/applies_sc_task&gt;&lt;applies_target_record&gt;false&lt;/applies_target_record&gt;&lt;applies_to&gt;set&lt;/applies_to&gt;&lt;cat_item/&gt;&lt;cat_variable/&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field/&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;Regress Submit&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onSubmit() {
	try {
		if (typeof regress !== 'undefined' &amp;&amp; regress.reg_form.isRecording()) {
			return regress.reg_form.recordAction();
		}
	} catch (e) {
		g_form.addErrorMessage('RegressUI Error: ' + e);
	}		
	
}
]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;catalog_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-04-08 08:03:58&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;f34c31a5db0410109e101461399619c0&lt;/sys_id&gt;&lt;sys_mod_count&gt;1&lt;/sys_mod_count&gt;&lt;sys_name&gt;Regress Submit&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;catalog_script_client_f34c31a5db0410109e101461399619c0&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-08 08:04:19&lt;/sys_updated_on&gt;&lt;table/&gt;&lt;type&gt;onSubmit&lt;/type&gt;&lt;ui_type&gt;0&lt;/ui_type&gt;&lt;variable_set display_value="Regress Item Recorder"&gt;6df85e0ddb7f00109e101461399619f6&lt;/variable_set&gt;&lt;view/&gt;&lt;/catalog_script_client&gt;&lt;/record_update&gt;</payload><payload_hash>1141006106</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>adb4ee43db3814109e10146139961980</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b51fa0000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Regress Submit</target_name><type>Catalog Client Scripts</type><update_domain>global</update_domain><update_guid>8b75e98146949410ebe54bfa854f3342</update_guid><update_guid_history>8b75e98146949410ebe54bfa854f3342:-2025369297,3f256901f29494104a6e0dffa44e8656:-1623177699,420529015294941061d8e1c7f22036e4:-164308588,ee44e1cd17549410c985af23fb37d0bb:1006158435,a96311850b149410bdf4b3fd6734b4b0:-800420011,5e7cb1a5e404101016e20e7330b6eea6:-2025369297,996cb1a51f041010d26e50347349184d:1456856367</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>item_option_new_9fab1ba3dbd090109e101461399619e0</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="item_option_new"><item_option_new action="INSERT_OR_UPDATE"><active>true</active><attributes/><cat_item display_value="Regress Properties">e194ce26db42c0109e10146139961954</cat_item><category/><choice_direction>down</choice_direction><choice_field/><choice_table/><create_roles/><default_html_value/><default_value>javascript:gs.getProperty('regress.record.servicecatalog_cat_item_sp',''); </default_value><delete_roles/><delivery_plan/><description/><display_title>false</display_title><do_not_select_first>false</do_not_select_first><dynamic_default_value/><dynamic_ref_qual/><example_text/><field/><global>false</global><help_tag>More information</help_tag><help_text/><include_none>false</include_none><instructions/><layout>normal</layout><list_table/><lookup_label/><lookup_price/><lookup_table/><lookup_unique>false</lookup_unique><lookup_value/><macro/><mandatory>false</mandatory><map_to_field>false</map_to_field><mask_use_confirmation>false</mask_use_confirmation><mask_use_encryption>false</mask_use_encryption><name>test_template_sc_sp</name><order>410</order><price_if_checked>0</price_if_checked><pricing_implications>false</pricing_implications><question_text>Test Template for Service Catalogue in Service Portal</question_text><read_roles/><rec_lookup_price/><rec_price_if_checked>0</rec_price_if_checked><record/><record_producer_table>global</record_producer_table><reference>sys_atf_test_template</reference><reference_qual/><reference_qual_condition/><scale_max>5</scale_max><scale_min>0</scale_min><show_help>false</show_help><show_help_on_load>false</show_help_on_load><sp_widget/><summary_macro/><sys_class_name>item_option_new</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-04-27 06:23:49</sys_created_on><sys_id>9fab1ba3dbd090109e101461399619e0</sys_id><sys_mod_count>0</sys_mod_count><sys_name>Test Template for Service Catalogue in Service Portal</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>item_option_new_9fab1ba3dbd090109e101461399619e0</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-04-27 06:23:49</sys_updated_on><table/><tooltip/><type>8</type><ui_page/><use_dynamic_default>false</use_dynamic_default><use_reference_qualifier>simple</use_reference_qualifier><validate_regex/><variable_name/><variable_set/><variable_width/><visibility>1</visibility><visible_bundle>true</visible_bundle><visible_guide>true</visible_guide><visible_standalone>true</visible_standalone><visible_summary>true</visible_summary><write_roles/></item_option_new><sys_translated_text action="delete_multiple" query="documentkey=9fab1ba3dbd090109e101461399619e0"/><fx_price action="delete_multiple" query="id=9fab1ba3dbd090109e101461399619e0"/><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>price_if_checked</field><id>9fab1ba3dbd090109e101461399619e0</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-04-27 06:23:49</sys_created_on><sys_id>93ab1ba3dbd090109e101461399619e7</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-04-27 06:23:49</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>rec_price_if_checked</field><id>9fab1ba3dbd090109e101461399619e0</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-04-27 06:23:49</sys_created_on><sys_id>1fab1ba3dbd090109e101461399619e5</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-04-27 06:23:49</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price></record_update>]]></payload><payload_hash>-1212058503</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>adb4ee43db3814109e10146139961983</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b53680000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Test Template for Service Catalogue in Service Portal</target_name><type>Variable</type><update_domain>global</update_domain><update_guid>2adcd327fad0901025c85fcc1d9d4f9e</update_guid><update_guid_history>2adcd327fad0901025c85fcc1d9d4f9e:-1212058503,1c6cd7e35fd09010c72f5d708fdd7979:1156878930,d3ab1fa39fd09010ca3db7cade2fc9e7:-1212058503</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>question_choice_a555d17adb0784109e10146139961952</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="question_choice"><question_choice action="INSERT_OR_UPDATE"><misc>0</misc><order>200</order><question display_value="Enable Regress ATF Recorder">4fd4c666db42c0109e1014613996197f</question><rec_misc>0</rec_misc><sys_class_name>question_choice</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-02-22 09:23:03</sys_created_on><sys_id>a555d17adb0784109e10146139961952</sys_id><sys_mod_count>0</sys_mod_count><sys_name>No</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>question_choice_a555d17adb0784109e10146139961952</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-02-22 09:23:03</sys_updated_on><text>No</text><value>No</value></question_choice><fx_price action="delete_multiple" query="id=a555d17adb0784109e10146139961952"/><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>misc</field><id>a555d17adb0784109e10146139961952</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-02-22 09:23:03</sys_created_on><sys_id>cf55197adb0784109e101461399619da</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-02-22 09:23:03</sys_updated_on><table>question_choice</table><type>calculated</type></fx_price><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>rec_misc</field><id>a555d17adb0784109e10146139961952</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-02-22 09:23:03</sys_created_on><sys_id>8755197adb0784109e101461399619da</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-02-22 09:23:03</sys_updated_on><table>question_choice</table><type>calculated</type></fx_price></record_update>]]></payload><payload_hash>-451056484</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>e1b46ec3db3814109e1014613996190f</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b51c50000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>No</target_name><type>Question Choice</type><update_domain>global</update_domain><update_guid>8755197a38078410630f13d01e368cdc</update_guid><update_guid_history>8755197a38078410630f13d01e368cdc:-451056484</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_app_module_c81695dedbac58109e101461399619c8</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_app_module"><sys_app_module action="INSERT_OR_UPDATE"><active>true</active><application display_value="Regress - ATF Recorder">0a931f6adbc233001c4af53a2996195f</application><assessment/><content_page/><device_type/><filter/><hint/><homepage/><image/><link_type>DIRECT</link_type><map_page/><mobile_title>Star</mobile_title><mobile_view_name>Mobile</mobile_view_name><name/><order>511</order><override_menu_roles>false</override_menu_roles><query>startRecordingSimpleRegressionATFTest.do</query><report/><roles/><sys_class_name>sys_app_module</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-05 09:43:21</sys_created_on><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>c81695dedbac58109e101461399619c8</sys_id><sys_mod_count>3</sys_mod_count><sys_name>⏺ Start Recording (Simple)</sys_name><sys_overrides/><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>sys_app_module_c81695dedbac58109e101461399619c8</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-05 09:47:29</sys_updated_on><timeline_page/><title>⏺ Start Recording (Simple)</title><uncancelable>false</uncancelable><view_name/><window_name/></sys_app_module></record_update>]]></payload><payload_hash>-164417909</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>e1b46ec3db3814109e10146139961912</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b54fd0000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>⏺ Start Recording (Simple)</target_name><type>Module</type><update_domain>global</update_domain><update_guid>ec071d525fec5810bb47f1757804ab28</update_guid><update_guid_history>ec071d525fec5810bb47f1757804ab28:-164417909,27361d1264ec5810f4b21281c263dc74:-602124086,6d261d1239ec5810a36303ed65c0020f:-22406642,441695de60ac5810da00a37a03947cca:-602124086</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_properties_291ca51fdb0600109e1014613996191f</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_properties"><sys_properties action="INSERT_OR_UPDATE"><choices/><description>When recording a Test from an existing record, create a Record Query Test Step based on the following fields (as well as population of existing mandatory fields) to try a query a record with high likeness.</description><ignore_cache>false</ignore_cache><is_private>false</is_private><name>regress.existing.query.fields</name><read_roles/><suffix/><sys_class_name>sys_properties</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-01-05 07:16:51</sys_created_on><sys_id>291ca51fdb0600109e1014613996191f</sys_id><sys_mod_count>24</sys_mod_count><sys_name>regress.existing.query.fields</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>sys_properties_291ca51fdb0600109e1014613996191f</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-05 10:20:36</sys_updated_on><type>string</type><value>stage,stage,approver,state,sla,cat_item,state</value><write_roles>regress_user</write_roles></sys_properties><sys_translated_text action="delete_multiple" query="documentkey=291ca51fdb0600109e1014613996191f"/></record_update>]]></payload><payload_hash>29872999</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>e1b46ec3db3814109e10146139961915</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b56080000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>regress.existing.query.fields</target_name><type>System Property</type><update_domain>global</update_domain><update_guid>5e9e1d5e1cec58101f6a002beac47e48</update_guid><update_guid_history>5e9e1d5e1cec58101f6a002beac47e48:29872999,43ae890881e81010d3ae54688b6da811:-636115056,2c7425fe3d478410a957b0f8432b5640:29872999,8413217e56478410dfb2ba3d8a86f1cc:84901572,ffd22d3e864784107ee4142554a3e634:29872999,6fa125fa54478410c11c03a4872a9bf4:-824633107,ff7161fa6e4784108dcd382993aa7d9f:95934833,abe065bab04784107c5f082c07c0e07f:-824633107,b570697ada478410a729d3640aa7fb67:-621121329,aa40257ab4478410db87850854738dbb:-689229306,fcc759fe1d078410da3af909b71a2a0a:95934833,6306ddfa1a078410de59376e19ebe7ea:-824633107,14109b42ea4fc010befff506851fb1d5:95934833,bde3895e5e768810ca336b0a944995c6:-731302205,4b0ac145213e841030fe795a1ca140a9:-1391083814,cdc35448227ac01040b292ab7f37bce8:-731302205,a42c3fbf13e6c01042e18c0673f61d96:1145336598,8e68d15ab5120010664db9da28007127:667401699,b4afc51dcade441029425979f8108ad9:108329241,c3c933897f9a441028d429aca4042e1d:948585027,7b1eaddf8f060010872035cacacd9c9b:1165723927,22ad619f0406001048e7518cb1077038:948585027,c79ded5ffb0600106ff4978b85379099:431434699,cf6c6d1f90060010c1a8e9f8c136726a:358013535,322c291f4e060010af639c13bb00d016:-345200612</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_script_include_1165d954db3233001c4af53a2996197d</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;public&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;global.RecordQueryTestStepGenerator&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;RecordQueryTestStepGenerator&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var RecordQueryTestStepGenerator = Class.create();
RecordQueryTestStepGenerator.prototype = Object.extendsObject(TestStepGenerator, {

	generateTestStep: function() {

		// Check if current record has a relationship to an existing record from this test so we can reference it
		// Returns an array of objects with properties 'field' and 'value';
		var potentialRecordReferences = this.getPotentialRecordReferences();
		var existingTestQryStepReferencesArray = this.findExistingTestStepReferences(potentialRecordReferences);
		
		if (existingTestQryStepReferencesArray.length &gt; 0) {
			this.addExistingRecordReferenceToQuery(existingTestQryStepReferencesArray);

		} else if ( RegressATFRecordSessionv2.wasRecordingRecord( this.regressionObject.sysID ) ) {
			gs.debug('Removed Record Query step as Open Existing Record will open the previous record');
			this.grATFStep.deleteRecord();

		} else if (this.regressionObject.tableName == "sc_req_item") {
			this.getReferenceFromOrderedCatalogueItem();
		} else {
			this.useRecordQuery();
		}
			

	},
	
	getReferenceFromOrderedCatalogueItem: function() {
		var grOrderCatItemTestStep = this.getLastTestWithRequestOutput();
		if (grOrderCatItemTestStep.isValidRecord()) {
			// how to match to request? Same cat item?
			var outputVariable = this.getStepOutputField(grOrderCatItemTestStep);
			var stepString = this.buildRecordIDString(grOrderCatItemTestStep.getUniqueValue() ,outputVariable);
			var ritmQry = "request=" + stepString;
			this.setContextualValueVariable('field_values', ritmQry);
			this.grATFStep.notes = 'Found Test Step reference to Request';
			TestStepGenerator.prototype.generateTestStep.call(this);
		} else {
			this.useRecordQuery();
		}
	},
	
	getPotentialRecordReferences: function() {
		var potentialRecordReferences = [];
		var gr = new GlideRecord(this.regressionObject.tableName);
		
		if ( gr.get(this.regressionObject.sysID) ) {
			this.addExistingRecordQueryFieldsToQuery(gr);
			// Process all ref / doc id fields
			var geFields = gr.getFields();

			for (var i = 0; i &lt; geFields.size(); i++) {
				var geField = geFields.get(i);
				var refTable = geField.getReferenceTable();
				var value = geField.getValue();
				var fieldName = geField.getName();
				if (!gs.nil(refTable) &amp;&amp; !gs.nil(value) ) {
					potentialRecordReferences.push({field:fieldName,value:value});
				}
			}
		}
		
		return potentialRecordReferences;
	},
	
	addExistingRecordQueryFieldsToQuery : function(gr) {
		var existingRecordQueryFields = RegressATFRecordSessionv2.getExistingRecordQueryFields();
		var regressionQueryArray = [];
		for (i=0;i&lt; existingRecordQueryFields.length;i++) {
			var fieldName = existingRecordQueryFields[i];
			var fieldValue = gr.getValue(fieldName);
			if (fieldValue) {
				var qry = fieldName + "=" + fieldValue;
				regressionQueryArray.push(qry);
			}
		}
		if (regressionQueryArray.length &gt; 0) {
			var newQuery = regressionQueryArray.join("^");
			if (!gs.nil(this.regressionObject.existingRecordQuery) ) {
				newQuery = "^" + newQuery;
			}
			this.regressionObject.existingRecordQuery = this.regressionObject.existingRecordQuery + newQuery;
		}
		
		return regressionQueryArray;
	},
	
	addExistingRecordReferenceToQuery: function(existingTestQryStepReferencesArray) {
		var existingTestStepReferencesQry = existingTestQryStepReferencesArray.join("^"); 
		var existingRecordQuery = this.regressionObject.existingRecordQuery + "^" + existingTestStepReferencesQry;
		this.setContextualValueVariable('field_values', existingRecordQuery);
		this.grATFStep.notes = 'Navigated to child record';
		TestStepGenerator.prototype.generateTestStep.call(this);
	},
	

	
	findExistingTestStepReferences: function(potentialRecordReferences) {
		var existingRecordQueries = [];
		
		for( var i in potentialRecordReferences) {
			var refSysID = potentialRecordReferences[i].value;
			var fieldName = potentialRecordReferences[i].field;
			var marker = RegressATFRecordSessionv2.findTestStepMarker(refSysID);
			if (!gs.nil(marker.sys_id) ) {
				// add it to existing
				var stepString = this.buildRecordIDString(marker.test_step ,"record_id");
				existingRecordQueries.push(fieldName + "=" + stepString);
			}	
		}
		
		return existingRecordQueries;
	},
	
	useRecordQuery: function() {
		this.grATFStep.inputs['field_values'] = this.regressionObject.existingRecordQuery;
		this.grATFStep.notes = 'Find a record similar to ' +  this.regressionObject.tableName + ' ' + this.regressionObject.display;
		TestStepGenerator.prototype.generateTestStep.call(this);
	},

	
    type: 'RecordQueryTestStepGenerator'
});]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-07-18 08:31:33&lt;/sys_created_on&gt;&lt;sys_id&gt;1165d954db3233001c4af53a2996197d&lt;/sys_id&gt;&lt;sys_mod_count&gt;53&lt;/sys_mod_count&gt;&lt;sys_name&gt;RecordQueryTestStepGenerator&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_1165d954db3233001c4af53a2996197d&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-27 05:30:46&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload><payload_hash>523333786</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>e1b46ec3db3814109e10146139961918</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b52f20000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>RecordQueryTestStepGenerator</target_name><type>Script Include</type><update_domain>global</update_domain><update_guid>9e8f476f25509010daca78a8ded029a3</update_guid><update_guid_history>9e8f476f25509010daca78a8ded029a3:523333786,e2425f0f770c9410ddbf1c35316415c4:-881091732,9b41d3cf6a0c941039d2c385561d8e08:394730806,21363e473fc89410254f67952e51f7bc:-678468926,3753d8c4fa7ac010c572531348dea0fc:-1758712438,f50e4004c97ac010b662953c408d47d8:726593089,e0b7c40cbd3ac010a677255c36d51ea7:1123667234,ed07c488ff3ac01083ee67d869a03550:463408183,d3f50c84873ac010ee8fc9c161069e71:-765136429,e7caf77fb6e6c01079fd39536a7e30fd:-472161873,1879bffb2ae6c0105b24c28367b1bc92:-1495138415,f3d7bfbb29e6c01013c39c39492270a6:2062671856,b9563f3babe6c010d18e3284046d3c2e:889045623,7b26b73b7ee6c010f06c6a20d90a45ca:-8006281,d655b73b1ee6c01011d63507c8d5f8d1:-1762147168,7bf4b3f70be6c010aa4bba895c1526df:1212313655,29dc0bd3d7ae401010983f5b52858b5b:-1448532188,f83acbd3f5ae4010bce33022fdf031fd:-1148730506,4839379f3e120010d93e4993e7cd89fc:291308710,52eb6bd310120010d1f5c8779fffa942:-1574904606,9f452a76359e00103c4d630d34ba15f9:563070890,13c30a2e795200100aa36e4afe794055:2126513102,1051422e975200109988d11ef92a2fc7:-187445412,3e01422e12520010fb85ce9cd976235c:739770038,f7a082ea80520010d6696f9785a4cb31:636032785,e49e3d6a2d520010373f85b691631fd1:-1133084651,ea16b1a62e12001040b1e1b6fb823ea0:563045886,d4b37526cd120010791047b0fbe4de1b:-1860983185,f099c5adeb9a8410c87b02f98138c6bf:1028977594,7cba7491db9e4410a18ed245750aff22:1159465448,94d23095215e44105536eef0d42db1f7:-1155701257,d622b855935e4410a47512376b7f9984:583667654,5e60f8d1e55e4410705a6b7a43805e66:-2098060661,f1b4a76f3146401042010da02ff00c5c:-589597845,0f01e7ebc0464010b709b130aeaaa478:-2046563112,81bfd3abc646401028f1f0bbfad8b9aa:-1685000838,9cf00d5b8b820010848799e1e7f96934:1423094739,eecf7c1bff82001035ee7905b2cfcb71:-1957066548,0b8f3cd7ac820010e55f26b6b5b33e55:167499021,df9cb09764820010f353793ec596e6d9:-121415460,23bb3c17ae820010803d7f1e9a07c8b0:-1573392729,399a3417e1820010c71a89bc3c8368e2:-1644268308,f9b94fa23d46c0106fb755b86c031088:896734864,91907aaa77c2c0102701c916fbc95606:574467486,e7003eaa87c2c01033415a6282b0ed9c:1013777366,b320f90287733300d380f69c9a31f4db:-1842097340,d84d698e0c333300311778e850a9bbb0:708788786,9c1c2d4ea13333000debc65de996bfa1:914644209,3a75631ff83233005fd626e8dc5504fb:594636488,b092e39b4d3233001adb18fc8d98e102:1997527915,d5d9dd18cd32330036aadef3c4baf866:-836784943,7ee65594b43233005ef70df50c544e60:1078722401,8f6519542e32330028719bcbf7ca4089:1997527915,1965d954703233004d7ed921201a9f7f:-1736740262</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_script_include_a1b3df6adbc233001c4af53a2996193c</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;public&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;global.TestGenerator&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;TestGenerator&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var TestGenerator = Class.create();

TestGenerator.prototype = {

    initialize: function(formState, grTest) {

        if (gs.nil(grTest)) {
            grTest = new GlideRecord('sys_atf_test');
            grTest.initialize();
            grTest.name = 'Regress Test - ' + gs.getUserDisplayName() + " - " + new GlideDateTime().getDisplayValue();
            grTest.description = 'Automatically generated Test using Regress ATF Recorder.\r\n';
            this.useImpersonationTemplate();
        }

        if (!gs.nil(formState)) {
            this.formState = formState;
        }

        this.grTest = grTest;
        this.log = [];
    },

    useImpersonationTemplate: function() {
        this.formState = {
            impersonate: gs.getUserID(),
            type: 'recordFormState_v1'
        };
        var newTestTemplate = gs.getProperty('regress.record.new');
        this.templateStepIds = this.getTestTemplateSteps(newTestTemplate);
    },

    useRecordActionTemplate: function() {
        var continueRecordingTestTemplate = gs.getProperty('regress.record.action.template');
        this.templateStepIds = this.getTestTemplateSteps(continueRecordingTestTemplate);
    },

    useNewRecordTemplate: function() {
        var newRecordCreateTemplate = gs.getProperty('regress.new.record.create.template');
        this.templateStepIds = this.getTestTemplateSteps(newRecordCreateTemplate);
    },

    useExistingRecordTemplate: function() {
        var newRecordCreateTemplate = gs.getProperty('regress.new.record.existing.template');
        this.templateStepIds = this.getTestTemplateSteps(newRecordCreateTemplate);
    },

    useServiceCatalogueViewTemplate: function() {
        var newRecordCreateTemplate = gs.getProperty('regress.record.servicecatalog_cat_item_view');
        this.templateStepIds = this.getTestTemplateSteps(newRecordCreateTemplate);
    },

    useServiceCatalogueSPViewTemplate: function() {
        var newRecordCreateTemplate = gs.getProperty('regress.record.servicecatalog_cat_item_sp');
        this.templateStepIds = this.getTestTemplateSteps(newRecordCreateTemplate);
    },

    getTestTemplateSteps: function(sysID) {
        var testStepSysIDs = [];

        var grTestTemplate = new GlideRecord('sys_atf_test_template');

        if (!grTestTemplate.get(sysID)) {
            throw ("No Regression Test Generation rules exist for this configuration object. Please configure in Properties.");
        } else {
            testStepSysIDs = grTestTemplate.getValue('template').split(",");
        }

        return testStepSysIDs;
    },

    setupTest: function() {
		var tableName = this.formState.tableName || "";

        switch (tableName) {
            case "ni":
                this.useServiceCatalogueViewTemplate();
                break;
            case "":
                this.useServiceCatalogueSPViewTemplate();
                break;
            default:
                this.generateTestForGlideForm();

        }

        return this.generateTestSteps();
    },

    generateTestSteps: function() {
        this.grTest.update();
        gs.info('Regress' + this.templateStepIds.length);
        var addTestTemplate = new RegressAddTestTemplateAjax();
        addTestTemplate._setTestDescription(this.grTest.sys_id, this.templateStepIds);

        var nextOrder = addTestTemplate._getNextOrder(this.grTest.sys_id);
		var tableName = this.formState.tableName || "";
		
        var i;
        for (i = 0; i &lt; this.templateStepIds.length; i++) {
            var grATFStep = addTestTemplate._createStep(this.grTest.sys_id, this.templateStepIds[i],tableName , nextOrder);
            this.populateTestStep(grATFStep);
            nextOrder++;
        }
		
		var regressTestSysID = this.grTest.getUniqueValue();
		RegressATFRecordSessionv2.setATFTest(regressTestSysID);
		RegressATFRecordSessionv2.addRecordingDetailsToSession();
        return this.grTest.getValue('sys_id');
    },

    populateTestStep: function(grATFStep) {
        var testStepWorker = TestStepGenerator.GetTestStepWorker(grATFStep, this.formState);
        testStepWorker.generateTestStep();
    },

    generateTestForGlideForm: function() {
        var grRegressionObject = new GlideRecord(this.formState.tableName);
        grRegressionObject.get(this.formState.sysID);

        if (RegressATFRecordSessionv2.isRecordingRecord(grRegressionObject)) {
            // If we are already recording the record, just capture the actions taken
            this.useRecordActionTemplate();
        } else {
            if (this.formState.isNewRecord == true) {
                this.useNewRecordTemplate();

            } else {
                this.useExistingRecordTemplate();
            }
        }
		
		RegressATFRecordSessionv2.addPrimaryRecord(grRegressionObject);

    },

    createTest: function() {
        return grTest.update();
    },

    deleteTest: function() {
        this.grTest.deleteRecord();
    },

    addLog: function(msg) {
        this.log.push(msg);
    },

    type: 'TestGenerator'
};]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-06-18 10:44:54&lt;/sys_created_on&gt;&lt;sys_id&gt;a1b3df6adbc233001c4af53a2996193c&lt;/sys_id&gt;&lt;sys_mod_count&gt;205&lt;/sys_mod_count&gt;&lt;sys_name&gt;TestGenerator&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_a1b3df6adbc233001c4af53a2996193c&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-27 06:18:41&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload><payload_hash>1783553442</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>e1b46ec3db3814109e1014613996191b</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b53440000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>TestGenerator</target_name><type>Script Include</type><update_domain>global</update_domain><update_guid>448a176fd790901095bbecae1e1645be</update_guid><update_guid_history>448a176fd790901095bbecae1e1645be:1783553442,65c81f6b91909010c9a03fdf16f9987e:1439630950,bef6972b4190901014c3ca9a17ef62e3:1281301478,ee6e4b2f7c5090100750963192349856:801756050,339be4c79e949c100964d064a58ca07d:1616109407,e60b20c7a9949c104a3175ba9333db2f:159697778,a6aa68873f949c108b574bd2763d3fba:-817495897,ed4a284775949c1046f10c8bded7fce3:-606177334,c5b5a88fac549c1076d3d3f96efc4674:-329333753,8d15a88f41549c10083bc7ad20eb266e:2056772944,9f94208b1e549c10f2fe828033a19054:-2036335029,6463a44b30549c100a67af86edeb7187:1463410495,91f2a80ba0549c1036fa7d2853fdad03:1964146344,75d1a8c7dd549c10ae9ee2ccf682265c:-458062938,8b91e0c7e6549c103163943abd91240a:1965515130,3d6160c717549c10e33ec573860dc690:-1327895313,a6ca94439d149c103d8dfee9dec90463:-1191695759,de9a500388149c10da17cd5043b19a07:-1872065147,b0c9d40317149c10d41ae9dded299c06:-1066084276,831918cfced09c107efce423152682b4:1597715118,2fc854cfc8d09c108c833f345cd49731:-368855612,be3258c78fd09c10e6d8bd39ca126bb2:1579936152,7b0df0be79545c10de21bea548c5b140:-1892351069,546cb0be79545c1048e1986e0769e37f:1080446443,34fb707eb9545c1082c75590a0bf2bf1:-649139452,d8ea703e84545c10c920eb9b1f18379e:316880308,bb8abcfa36545c10d7006718668657f0:922763663,254ab07a65545c10583d9dd89c490ef1:1152891880,bd493b12c6501c10a9f5f747c7389778:328365716,5ef8fbde74101c1011ba3a630b39d1c4:-1741088697,9eb8bfde3d101c109eac30fbd10ffe47:-557274275,2a28ff9ef8101c1008f4d3bf21836439:1599488067,9c973f5ea3101c100c4b7e6492ce8bc6:437283107,d1e6bfdad1101c10dcd8bcfb34e14d53:-699335135,3dd5371e6b101c10744cd6103a67197b:-1717868990,4ff47f9aba101c10b566e6d6c6649074:1008447780,cc33ffd21b101c106ff7a97df2792f3a:295632862,4172fb1acc101c10dc930845b0ba86d0:-457749071,18d1b39647101c10d8a8892946d7b58b:-1582834540,11f31ff17c8850108726d0e987aedd30:171057021,ea1446ed82041010dd7b9785a8def610:-867427196,d84386ad150410107f31d4e01af44189:-1054785107,e941c6e9dc0410101663a4f69b78b447:1811055823,3516c11d0a9e4410bce76760f55006bb:1625287335,46f06bab37464010c74f3bc9fafe1f81:1284111494,1c102f6be1464010bb53af6de4f5ce63:-1898761710,837f1f2bbd4640103231302ce659bb1c:-598564150,406f5fe70146401060aa6eb53a173098:342307788,fdbd83e68d46c01086209d04d98b8a79:-1289443653,c3cccf662f46c010dc0b06d477bd2593:1319449606,0e5847626346c010be6f70b0ae2bbebd:-111936872,8b56cfee1706c010a11a04580c9c5dc7:-2021352624,083c92aada82c010d6166ebcea8b3b99:2044681878,90c20ea20642c010953ab1d0416e69ed:1318718475,6242dad6af468010fc7afbcc9057ac33:-1186785588,cae1d296c6468010774c7fac2a0280c0:422589211,5fbd4a12f94680106ceed2730c73c35a:-1638300532,295a06dec6068010e0d3b42e3af6c657:-1000645718,cda98e9ef70680107a1f9f2e93e14cb0:-1464546358,da09425ea3068010521b848bd5b504c2:902193933,2b4ced20e8f1001082af77cd90a72426:255917560,3636692c58b1001015ab2397f1d5030c:-1719395027,c12e15e0bbb1001091b1f9c94bca147c:-1028199094,1bc911ac65710010dc77fa8bda4aa952:1065226110,a2466079885dc010c26e7a9c5c45ef36:247908819,dba2a875345dc01001d2713e0a11efe2:1950191652,dc5e9431c65dc01012c711ec8b759885:294451611,61dbd47d021dc0101373a94c5345f6dc:-1689992442,169618295111c0108832400a92817ce0:294451611,9025d4e58f11c01029fa515f76722461:1927365471,a21648251add8010b64e79a5fb057c6a:953725362,ca7d27d34e7233003dd3257f53e7961f:-895754913,52aae7134d723300c2ee33b9e858a950:-1836184777,2347a39f843233002a5b8e4eac022543:-571218855,23f12f1b59323300bfd040e2588ff37c:-684694104,afff1fd7bc323300083c644a4f557b2c:1107224354,c593dc1a1b32330037d80e79878823e8:-30848003,1467cb7900323300d92b12fe4cc9289c:-1327334876,3bd68b79a0323300a6b22856e9d76b5d:-1133429686,82d4cbb51d3233000b3674dd8e2d8511:-1746772498,983126dcb6f233004e465a28a7e8ac7d:756628585,371f195c6132330083a7b7c0a3c17ffb:2081696799,8b1a5d182f323300e9e6d84bde4cba80:204094395,ec76d1945e323300cdc5b33efc49ecba:-840775923,a40619543c323300f496a28bdd82134e:894596243,26f41d14b3323300016c2fe21d33cdb5:995649620,d5949d147a323300361c92d863ab257b:-833502554,2a2415142c32330064f4078a0b6dbbe2:-1290582698,2180d448ae763300a71c5b3de6cf1083:-490703452,7430d0885e76330018d7fbbb75a30eee:-1920692437,88ff4c480a76330097461a9b8750c422:-651186566,85fdc4080376330074b2028469d2d127:-5015493,c89dc8847a763300d349e500264e86b2:198442309,77ec88c441763300fd93bd0f01d78b14:-1342610501,2bfb48c4237633009ad4e739dc3db2f3:-449111909,ee1a0844c4763300442676fd03368114:-1324421547,163b8b2357623300b8be3209f98a4460:-806681020,0a0b8b235d6233009e5eccd5a13225fd:-2124221865,f98a87231e623300180820d5c02d1a14:812438720,a54a0befca223300b7f6b31a1394cea5:853288185,c089c3efa32233004c9e7237e1ac62ee:362224252,51598befa222330097cd5fd86220361d:-247655845,1e2907ef5b223300c2bc9b30d8babf03:-457675525,71680fafd72233002e0543be2cacd379:1496819278,2666c72f822233005e049c63a421e314:2094555058,00f44f6b7b2233005101a12e48ec615a:-1332608451,1524836b5c2233008305d7cb811c316c:-1463109827,3883cb2b702233004a812b1ded760eca:-2100966307,3e13072b0f2233005f3f8f3396050f63:-743992270,5a92c32b302233004160336078fe5a9f:-1911506023,8df18be71b223300183511661ce58cd4:-1338480536,f090cb67b92233002a8b5c0e0d9623c2:629912008,a6affa67b8223300f111158717502fae:-737795976,acbe3ee32d223300b6b4bf04e70ebb3c:-206516490,4ad8babdda92330001fb3430701664b6:-735178387,6a98babd5992330020b9da44b468f680:-1990506562,9c38b2bd009233008675f59dec9b3372:-1646648065,8fc7b27d67923300fea273d9c609ba3e:-1623754225,a7a7b27d3b92330094f5f19bb7580239:-1077005041,811736f937923300e8e546f9c3bd25e6:-1488061561,7fd6323dbc9233000774d34fe342cafe:-229436156,6796323d499233003799d794d763b2f9:323305380,70567ef9999233007af9337c6a92d0c3:-540666494,a5c576f9dd9233007233460da674b9e8:-1476810067,3c253eb9f392330071c4569fe172f862:-193025638,4ce476b9959233008303438a6a4dc30b:1055316394,fb4472b9f19233000270451674705824:658112669,af043679a0923300570a86d3143ea2aa:1464979341,27c37a79389233007774e07b46ce3aa8:546653303,db10f6b5de9233009d6c32130985bf83:-97421377,109c5af5cb52330099a451f197624e5c:552024831,b6bb1eb5a152330003efef5bbd34c656:520706753,c5f85eb1dd5233009c767c04550395c0:845479664,1b27de71fc523300eb5562191a45f6e9:590264353,19a61a71465233000c87a190e6bf5819:1685995543,dc56da31bc523300478ed8a2e60b5d2f:-932927215,50d1d27df91233004a78082cea79bef0:222050630,be819a3d5812330034d46616370c6b93:1797551942,cebf42f95f1233003d430d2cb3405131:-890239949,03cec2b9f4123300a49d21813b561836:-1187039687,c88e8679f5123300137254bda698d4ed:-1979170806,a96e02b9f9123300fa2cba2411e38dc6:-1975406786,8cad0a3985123300e412bcc8b9c47b6a:-662634614,1b8d86796712330089f118e8fb5b1ccf:1004280970,477d0a3913123300e59272211775fa66:-1152621814,da5d06792512330076f7f8487b3b459e:-436427254,95dc8e39cc12330090f7f89229c3517f:-527810908,852c4ef5e5123300fc8e6fc66d323eab:1075337846,3dbb42397d123300928956f12929824b:970794262,369bcef5381233004613aadf6f4ffdb0:-1592543950,be6b8235fd123300ee5d17da09b7ab5a:2091663762,07fa8e352912330025d40f00e0c53a97:475121164,de6a8e35371233007534e0b048a15da2:1796500750,0601a5698e923300a425e715c6d45ed2:402409620,7080e92975923300f85c5b5640f02aa6:171614821,169e15e547923300c552d7c5fa2182f3:1149061258,84fd1da5dd923300873c13bf35fd2ded:-2087554015,eb7dd5656f9233000b37acffa8fef716:881167392,427d5da59d92330041c93aee09215f27:-1457248431,5d5d1d65fb923300aec758c795aaa5bf:1948149587,cb0d95a55b9233006e21eb8a0edfc575:-88446321,536155a9a2523300b6a1ebdfdb8b6542:292995420,6e319569d5523300e6fcd54cc09ec995:-1412982922,ab1111697f523300c21c321b6bf6abb3:1763990784,15f011a9515233007de30e3fee2812aa:-473520362,6c505569fe523300856fdacd3a640111:1371783570,6fbf0d29cf52330003334ae163052ef4:647405642,ba644921545233009955cebcb3dea7bc:803589031,415449210c523300503fbe27190671b8:1604940391,8d3445210c523300532c24b0a062e7a6:1439970743,32f3452153523300f914018185c74ca1:684686814,deb3c5edbc1233005b202022ac2a373a:160982601,05a30121b4523300312f973f5b3cc598:718395920,37830121165233002bb98b647f1efa7a:-1443760013,951389ed3412330011f4c6ad63fe68b3:-1234688096,36b2c9addd123300d11b8de4859a346a:1385558408,8da245eda6123300c27fcb02fad86368:1933981108,8e1245ad181233003656c42b1d58c9ef:1767570806,a7a1cd6dac1233009960472617b0625e:490848911,9f6e742d48123300c2320cf070939928:-1331899554,8c4e7ce96b1233008ebbfcf6b28bb872:222887549,d4dbf0a98e12330058ded58c4d0e9491:1305237258,e55b3c6957123300ca6a059a071261f3:-1747468344,7fda346904123300797089c354781206:604516622,5829f02981123300a975f6e484c54ffe:1116924580,6df8f0a5dc123300f56be62e255a263b:-1300308469,be96b0a5571233001fc70f6ff5577dbc:289649074,cad133c8bf1233003dd093d74ca8c420:888317278,53bf6348dc123300a1104dc80d1c93be:383933702,6a5f2708df123300760f5d3644e9b83e:430561554,571f2708c912330071274a95d514a008:-1800959898,ffeeefc4d512330077ae98dd8f929323:1490436188,4c9e2708e21233001d67f9c32606d12c:1029200591,13ed2bc487123300e34c02b91e9665b4:-1697626917,f2db2784ed123300f17ecbf10a463664:1499357571,4e4e5722ab0633000bb5aa39344efd79:647992163,70cb9feef6c23300f39011a89c13e2f8:-90363198,ba7b5322f606330035b720e81c0e106c:1216986430,92299f6e4fc233009784e57e0e8922fd:2037594041,4f58df6e0bc23300e1ce7e8af9307c06:-20965133,85285f2e23c23300c849fab0dcd1c8e8:-2021099471,f3e7136e66c2330096997843b09a6fc2:-1673121720,2db71b6e33c2330094cfde7c3ca13d50:2132014202,f637936ef6c233004864e0a29c3e9d4d:1782611706,e917df2e60c2330011e1ef55e9cffc0d:1861843959,b8c61b2e94c233003d5af26a328a50a2:-177362149,7bd5932ee9c23300ae9f2d274cde0ad9:-1284219684,02341b6a5cc23300ca9a29dd8caaae80:-362353365</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>catalog_ui_policy_action_e5ed9f67dbd090109e10146139961991</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="catalog_ui_policy_action"><catalog_ui_policy_action action="INSERT_OR_UPDATE"><catalog_item display_value="Regress Properties">e194ce26db42c0109e10146139961954</catalog_item><catalog_variable>IO:558c97e3dbd090109e101461399619a2</catalog_variable><cleared>false</cleared><disabled>true</disabled><field/><mandatory>ignore</mandatory><order>100</order><sys_class_name>catalog_ui_policy_action</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-04-27 06:33:43</sys_created_on><sys_id>e5ed9f67dbd090109e10146139961991</sys_id><sys_mod_count>0</sys_mod_count><sys_name>test_template_sc</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>catalog_ui_policy_action_e5ed9f67dbd090109e10146139961991</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-04-27 06:33:43</sys_updated_on><table/><ui_policy display_value="Always">acdac585db3e84109e101461399619e2</ui_policy><variable>test_template_sc</variable><variable_set/><visible>ignore</visible></catalog_ui_policy_action></record_update>]]></payload><payload_hash>-1078374774</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>e1b4ee43db3814109e10146139961982</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b539e0000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>test_template_sc</target_name><type>Catalog UI Policy Action</type><update_domain>global</update_domain><update_guid>14fd1f67e8d090105d7c52fc5ed1d8bd</update_guid><update_guid_history>14fd1f67e8d090105d7c52fc5ed1d8bd:-1078374774</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>item_option_new_f3dc5aaadb82c0109e101461399619eb</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="item_option_new"><item_option_new action="INSERT_OR_UPDATE"><active>true</active><attributes/><cat_item display_value="Regress Properties">e194ce26db42c0109e10146139961954</cat_item><category/><choice_direction>down</choice_direction><choice_field/><choice_table/><create_roles/><default_html_value/><default_value>javascript:gs.getProperty('regress.new.record.create.template',''); </default_value><delete_roles/><delivery_plan/><description/><display_title>false</display_title><do_not_select_first>false</do_not_select_first><dynamic_default_value/><dynamic_ref_qual/><example_text/><field/><global>false</global><help_tag>More information</help_tag><help_text/><include_none>false</include_none><instructions/><layout>normal</layout><list_table/><lookup_label/><lookup_price/><lookup_table/><lookup_unique>false</lookup_unique><lookup_value/><macro/><mandatory>false</mandatory><map_to_field>false</map_to_field><mask_use_confirmation>false</mask_use_confirmation><mask_use_encryption>false</mask_use_encryption><name>test_template_for_new_form</name><order>175</order><price_if_checked>0</price_if_checked><pricing_implications>false</pricing_implications><question_text>Test Template for New Form</question_text><read_roles/><rec_lookup_price/><rec_price_if_checked>0</rec_price_if_checked><record/><record_producer_table>global</record_producer_table><reference>sys_atf_test_template</reference><reference_qual/><reference_qual_condition/><scale_max>5</scale_max><scale_min>0</scale_min><show_help>false</show_help><show_help_on_load>false</show_help_on_load><sp_widget/><summary_macro/><sys_class_name>item_option_new</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-01-03 02:54:13</sys_created_on><sys_id>f3dc5aaadb82c0109e101461399619eb</sys_id><sys_mod_count>5</sys_mod_count><sys_name>Test Template for New Form</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>item_option_new_f3dc5aaadb82c0109e101461399619eb</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-02-08 08:36:49</sys_updated_on><table/><tooltip/><type>8</type><ui_page/><use_dynamic_default>false</use_dynamic_default><use_reference_qualifier>simple</use_reference_qualifier><validate_regex/><variable_name/><variable_set/><variable_width/><visibility>1</visibility><visible_bundle>true</visible_bundle><visible_guide>true</visible_guide><visible_standalone>true</visible_standalone><visible_summary>true</visible_summary><write_roles/></item_option_new><sys_translated_text action="delete_multiple" query="documentkey=f3dc5aaadb82c0109e101461399619eb"/><fx_price action="delete_multiple" query="id=f3dc5aaadb82c0109e101461399619eb"/><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>price_if_checked</field><id>f3dc5aaadb82c0109e101461399619eb</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-01-03 02:54:13</sys_created_on><sys_id>37dc5aaadb82c0109e101461399619ed</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-01-03 02:54:13</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>rec_price_if_checked</field><id>f3dc5aaadb82c0109e101461399619eb</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-01-03 02:54:13</sys_created_on><sys_id>fbdc5aaadb82c0109e101461399619ec</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-01-03 02:54:13</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price></record_update>]]></payload><payload_hash>-662982137</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>e5b46ec3db3814109e1014613996190e</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4f740000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Test Template for New Form</target_name><type>Variable</type><update_domain>global</update_domain><update_guid>a984cd9ede76881056d69c8d5445eca8</update_guid><update_guid_history>a984cd9ede76881056d69c8d5445eca8:-662982137,1d2751d644120010af6654cf09f6fc52:433273126,91ffcd1dc1de4410421d64344fb57ef7:-1653890876,e74d96ea1e82c0103253995a4bb0405f:586455,434d52ea4982c010f5a19fc8895d2059:-974188699,f7dcdaaad482c0104e8bb49d885a7ffa:-759370613</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_app_module_79faf92adb02c0109e1014613996194e</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_app_module"><sys_app_module action="INSERT_OR_UPDATE"><active>true</active><application display_value="Regress - ATF Recorder">0a931f6adbc233001c4af53a2996195f</application><assessment/><content_page/><device_type/><filter/><hint/><homepage/><image/><link_type>DIRECT</link_type><map_page/><mobile_title>Show Recording Session Details</mobile_title><mobile_view_name>Mobile</mobile_view_name><name/><order>530</order><override_menu_roles>false</override_menu_roles><query>showRecordingSessionDetails.do</query><report/><roles/><sys_class_name>sys_app_module</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-01-03 00:26:42</sys_created_on><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>79faf92adb02c0109e1014613996194e</sys_id><sys_mod_count>4</sys_mod_count><sys_name>Show ATF Recording Details</sys_name><sys_overrides/><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>sys_app_module_79faf92adb02c0109e1014613996194e</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-01-06 09:59:25</sys_updated_on><timeline_page/><title>Show ATF Recording Details</title><uncancelable>false</uncancelable><view_name/><window_name/></sys_app_module></record_update>]]></payload><payload_hash>2113487825</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>e5b46ec3db3814109e10146139961911</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4d550000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Show ATF Recording Details</target_name><type>Module</type><update_domain>global</update_domain><update_guid>21fa1f6746464010a9f52a858b4febf3</update_guid><update_guid_history>21fa1f6746464010a9f52a858b4febf3:2113487825,252ef5ea4202c010ff6bcbb2b4365263:426277760,ceecf5aa7302c0104813023d97281700:-1115340914,29acf1aaa202c01051b21b9ae753d559:-755162526,7e1b7d2ae602c01073fd066a3f05ce19:353312551</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_processor_9563125adb4680109e1014613996191c</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_processor"&gt;&lt;sys_processor action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;class_name/&gt;&lt;description/&gt;&lt;interactive&gt;false&lt;/interactive&gt;&lt;name&gt;Start Recording Regression Test&lt;/name&gt;&lt;parameters/&gt;&lt;params_endpoint/&gt;&lt;path&gt;startRecordingRegressionATFTest&lt;/path&gt;&lt;path_endpoint/&gt;&lt;require_csrf&gt;false&lt;/require_csrf&gt;&lt;roles&gt;snc_internal&lt;/roles&gt;&lt;script&gt;&lt;![CDATA[(function process(g_request, g_response, g_processor) {
	var response = "";

	 if (!RegressATFRecordSessionv2.isRecording()) {
		var recordingStarted = RegressATFRecordSessionv2.startRecording();
		var jsonParser = new JSON();
		response = jsonParser.encode(RegressATFRecordSessionv2.getSessionDetails());
		g_response.sendRedirect(gs.getSession().getStack().pop());
		if (recordingStarted) {
			gs.addInfoMessage('⏺ Started Regress ATF Test Recorder. For best results, start by creating a new record.');
		}
	 } 


	
})(g_request, g_response, g_processor);]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_processor&lt;/sys_class_name&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-01-02 07:34:34&lt;/sys_created_on&gt;&lt;sys_id&gt;9563125adb4680109e1014613996191c&lt;/sys_id&gt;&lt;sys_mod_count&gt;19&lt;/sys_mod_count&gt;&lt;sys_name&gt;Start Recording Regression Test&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_processor_9563125adb4680109e1014613996191c&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-01-20 10:44:16&lt;/sys_updated_on&gt;&lt;type&gt;script&lt;/type&gt;&lt;/sys_processor&gt;&lt;/record_update&gt;</payload><payload_hash>1741549003</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>e5b46ec3db3814109e10146139961914</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4e7c0000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Start Recording Regression Test</target_name><type>Processor</type><update_domain>global</update_domain><update_guid>437beb08606e4010ee4f2942ab1b0331</update_guid><update_guid_history>437beb08606e4010ee4f2942ab1b0331:1741549003,da6963c4716e4010522b7d67e790680b:1240781882,1e6996a66782c01081718615408a437a:786203261,11c51a26b482c0100ffffcb2357844eb:1498629018,82f9f1e6c202c01053984a30521363e9:-1309860521,ffb9b1e6fe02c0104265ac17c637302c:-1162538682,6549bda68a02c0103cd22735aa14b5c2:-270300318,6e09f1e6ac02c010fef7d77c1010c41b:1097545127,5ab8bda6e302c01096d715a80ac150b0:-940243289,8448f1669602c010167f94010f81a2e7:1717777504,4628fd662302c01024eaafc3639db635:1021274121,03f7fd66f702c0103222eec330991032:859227866,d967f1660f02c01072419d09902380f4:1838838966,9057f1663202c01051f3322386d3c75e:-1780265773,1978929e9b4680109578e556acc439d8:-914158748,81f6d25eff4680109a36095516d22cd1:528785030,a1d5569ad6468010e04f741ed34df894:-886773780,4d15129a524680105635b9eda2a1bd79:-976624827,c394129aca468010cd938b3ef367695e:-1591884415,fc735a1acb4680101c9d525aa859d306:1905017576</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_script_7057705ddb5e44109e101461399619f3</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="sys_script"&gt;&lt;sys_script action="INSERT_OR_UPDATE"&gt;&lt;abort_action&gt;false&lt;/abort_action&gt;&lt;access&gt;package_private&lt;/access&gt;&lt;action_delete&gt;false&lt;/action_delete&gt;&lt;action_insert&gt;false&lt;/action_insert&gt;&lt;action_query&gt;false&lt;/action_query&gt;&lt;action_update&gt;false&lt;/action_update&gt;&lt;active&gt;true&lt;/active&gt;&lt;add_message&gt;false&lt;/add_message&gt;&lt;advanced&gt;true&lt;/advanced&gt;&lt;change_fields&gt;false&lt;/change_fields&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;collection&gt;sysapproval_approver&lt;/collection&gt;&lt;condition/&gt;&lt;description/&gt;&lt;execute_function&gt;false&lt;/execute_function&gt;&lt;filter_condition/&gt;&lt;is_rest&gt;false&lt;/is_rest&gt;&lt;message/&gt;&lt;name&gt;Show message if Regressing&lt;/name&gt;&lt;order&gt;100&lt;/order&gt;&lt;priority&gt;100&lt;/priority&gt;&lt;rest_method/&gt;&lt;rest_method_text/&gt;&lt;rest_service/&gt;&lt;rest_service_text/&gt;&lt;rest_variables/&gt;&lt;role_conditions/&gt;&lt;script&gt;&lt;![CDATA[(function executeRule(current, previous /*null when async*/) {

	if (RegressATFRecordSessionv2.isRecording()) {
		RegressATFRecordSessionv2.showRecordingMsg();
	}

})(current, previous);]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script&lt;/sys_class_name&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-01-11 08:33:50&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;7057705ddb5e44109e101461399619f3&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_name&gt;Show message if Regressing&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_7057705ddb5e44109e101461399619f3&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-01-11 08:33:50&lt;/sys_updated_on&gt;&lt;template/&gt;&lt;when&gt;before_display&lt;/when&gt;&lt;/sys_script&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=7057705ddb5e44109e101461399619f3"/&gt;&lt;/record_update&gt;</payload><payload_hash>-1252038194</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>e5b46ec3db3814109e10146139961917</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4dff0000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table>sysapproval_approver</table><target_name>Show message if Regressing</target_name><type>Business Rule</type><update_domain>global</update_domain><update_guid>fc57705d2c5e4410d36a34346dbdcbf5</update_guid><update_guid_history>fc57705d2c5e4410d36a34346dbdcbf5:-1252038194</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_script_include_73bf5dd8db3233001c4af53a29961952</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;public&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;global.OpenNewFormTestStepGenerator&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;OpenNewFormTestStepGenerator&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var OpenNewFormTestStepGenerator = Class.create();
OpenNewFormTestStepGenerator.prototype = Object.extendsObject(TestStepGenerator, {

	generateTestStep: function() {
		this.grATFStep.notes = 'New record ' + this.regressionObject.display + ' was opened in this view';
		this.setView();
		
		TestStepGenerator.prototype.generateTestStep.call(this);
	},
	
	setView: function() {
		this.grATFStep.inputs.view = this.regressionObject.viewName;
	},
	
    type: 'OpenNewFormTestStepGenerator'
});]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-07-18 09:16:47&lt;/sys_created_on&gt;&lt;sys_id&gt;73bf5dd8db3233001c4af53a29961952&lt;/sys_id&gt;&lt;sys_mod_count&gt;19&lt;/sys_mod_count&gt;&lt;sys_name&gt;OpenNewFormTestStepGenerator&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_73bf5dd8db3233001c4af53a29961952&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-01-11 06:22:43&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload><payload_hash>-1715529169</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>e5b46ec3db3814109e1014613996191a</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4da40000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>OpenNewFormTestStepGenerator</target_name><type>Script Include</type><update_domain>global</update_domain><update_guid>40599091c01e441085379f833695548e</update_guid><update_guid_history>40599091c01e441085379f833695548e:-8242396,2f395451931e4410c72fd91fb5044116:-1289571932,c282a39b5632330084da971b209db060:-214914929,1eb063d75c3233005e882e8d93a28953:1436605468,f5d89618dcf23300d261d2b584b6e880:994972495,c4b89218bff23300d0213445dbd11fa1:-933829619,4e889ad4a0f233000b5c82362154b43f:-1332300211,d0589ad433f233002b5de7f4643565e7:947958315,0f385ed4ecf23300b3909ae8ca54b4d9:-1732796043,63f79ad43ef233003cd9e6439400fe51:1978401908,69f7d6d466f23300fab9b99d1eaf292a:2141706171,0c171e94eff2330049c3560ea1880a85:-1927521506,d6469e5445f23300956ba7768aa7f1cd:198136574,b1d59ed0e3f23300ea28fb9dac66d3f7:-752656245,2a051e142cf23300a5cd24a42817d600:-1052613180,63449ed05bf233004eb08682828550cf:-810613122,2280161006f233008bda9a710c85c252:-2075998126,0850d21078f233007b624a025bbf17a3:-1437831197,ab60a59c68323300937ffe385e4d84fc:-1999596186,bbbf5dd8543233002b537bc488c5c854:-1864951285</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_user_role_contains_114773c5db9a44109e101461399619c4</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_user_role_contains"><sys_user_role_contains action="INSERT_OR_UPDATE"><contains display_value="atf_test_designer" name="atf_test_designer">62ec7c6053131200040729cac2dc34d5</contains><role display_value="regress_user" name="regress_user">42931f6adbc233001c4af53a29961962</role><sys_class_name>sys_user_role_contains</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-01-11 03:53:59</sys_created_on><sys_id>114773c5db9a44109e101461399619c4</sys_id><sys_mod_count>0</sys_mod_count><sys_name>atf_test_designer.regress_user</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>sys_user_role_contains_114773c5db9a44109e101461399619c4</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-01-11 03:53:59</sys_updated_on></sys_user_role_contains></record_update>]]></payload><payload_hash>482343523</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>e5b46ec3db3814109e1014613996191e</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4d990000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>atf_test_designer.regress_user</target_name><type>Contained Role</type><update_domain>global</update_domain><update_guid>d14773c51f9a441002f2cc5df9ce82c7</update_guid><update_guid_history>d14773c51f9a441002f2cc5df9ce82c7:482343523</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>catalog_ui_policy_action_92ea4985db3e84109e101461399619b7</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="catalog_ui_policy_action"><catalog_ui_policy_action action="INSERT_OR_UPDATE"><catalog_item display_value="Regress Properties">e194ce26db42c0109e10146139961954</catalog_item><catalog_variable>IO:170d96aadb82c0109e101461399619b8</catalog_variable><cleared>false</cleared><disabled>true</disabled><field/><mandatory>ignore</mandatory><order>100</order><sys_class_name>catalog_ui_policy_action</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-02-04 11:52:32</sys_created_on><sys_id>92ea4985db3e84109e101461399619b7</sys_id><sys_mod_count>0</sys_mod_count><sys_name>test_template_for_existing_record</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>catalog_ui_policy_action_92ea4985db3e84109e101461399619b7</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-02-04 11:52:32</sys_updated_on><table/><ui_policy display_value="Always">acdac585db3e84109e101461399619e2</ui_policy><variable>test_template_for_existing_record</variable><variable_set/><visible>ignore</visible></catalog_ui_policy_action></record_update>]]></payload><payload_hash>-345089721</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>e5b4ee43db3814109e10146139961981</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4edf0000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>test_template_for_existing_record</target_name><type>Catalog UI Policy Action</type><update_domain>global</update_domain><update_guid>6dfa0585db3e8410f600f64dffb4760c</update_guid><update_guid_history>6dfa0585db3e8410f600f64dffb4760c:-345089721</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_app_module_277695dedbac58109e101461399619d0</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_app_module"><sys_app_module action="INSERT_OR_UPDATE"><active>true</active><application display_value="Regress - ATF Recorder">0a931f6adbc233001c4af53a2996195f</application><assessment/><content_page/><device_type/><filter/><hint/><homepage/><image/><link_type>DIRECT</link_type><map_page/><mobile_title>Star</mobile_title><mobile_view_name>Mobile</mobile_view_name><name/><order>512</order><override_menu_roles>false</override_menu_roles><query>startRecordingExhaustiveRegressionATFTest.do</query><report/><roles/><sys_class_name>sys_app_module</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-05 09:45:14</sys_created_on><sys_domain>global</sys_domain><sys_domain_path>/</sys_domain_path><sys_id>277695dedbac58109e101461399619d0</sys_id><sys_mod_count>1</sys_mod_count><sys_name>⏺ Start Recording (Exhaustive)</sys_name><sys_overrides/><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>sys_app_module_277695dedbac58109e101461399619d0</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-05 09:46:44</sys_updated_on><timeline_page/><title>⏺ Start Recording (Exhaustive)</title><uncancelable>false</uncancelable><view_name/><window_name/></sys_app_module></record_update>]]></payload><payload_hash>731947664</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>e9b46ec3db3814109e10146139961910</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b54cb0000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>⏺ Start Recording (Exhaustive)</target_name><type>Module</type><update_domain>global</update_domain><update_guid>65d61952f4ec5810542374daa98dcaf0</update_guid><update_guid_history>65d61952f4ec5810542374daa98dcaf0:731947664,ab7695de55ac5810af9f78c44f110bd1:-22406642</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_atf_test_template_d1985d6cdb710010f0a2f282399619eb</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_atf_test_template"><sys_atf_test_template action="INSERT_OR_UPDATE"><description>Used by Regress ATF Recorder when an action is performed on a previosly recorded record.</description><name>Regress ATF Recorder - Record Action</name><sys_class_name>sys_atf_test_template</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2019-12-15 06:32:39</sys_created_on><sys_id>d1985d6cdb710010f0a2f282399619eb</sys_id><sys_mod_count>11</sys_mod_count><sys_name>Regress ATF Recorder - Record Action</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>sys_atf_test_template_d1985d6cdb710010f0a2f282399619eb</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-01-18 10:05:55</sys_updated_on><template>071ee5b253331200040729cac2dc348d,d8fdf5e10b1022009cfdc71437673adc,fcae4a935332120028bc29cac2dc340e,1dfece935332120028bc29cac2dc3478,1b97cd31872022008182c9ded0e3ece5,323ca6e1c3b2220076173b0ac3d3aec1,33f637e8c3ba220076173b0ac3d3aee1,0f4a128297202200abe4bb7503ac4af0</template></sys_atf_test_template></record_update>]]></payload><payload_hash>988874221</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>e9b46ec3db3814109e10146139961913</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4e630000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Regress ATF Recorder - Record Action</target_name><type>Test Template</type><update_domain>global</update_domain><update_guid>e98fc9ab8b56001013a1c38e28eaa4a1</update_guid><update_guid_history>e98fc9ab8b56001013a1c38e28eaa4a1:988874221,04b38559a79e44101e09e7bee5b074c9:767914989,e0734d598f9e441011f2b1144b34fd98:-1419878325,64c53d5412d2c010d0ae761e82746b24:1952384778,8e132c80b7168010d3c4d26993bfb554:-237487592,3798e417264200101192374c93d34e43:-1003493202,818860173142001090f3bc3bcdde6f2a:-891277307,131a5612648680102d045bf8119e86b0:184932890,e45ad1ac0c710010ebc512efa36f7a4c:-260998960,b6e91dac577100109394ad7ab5d83211:1099467290,2109d1ace47100100b08ab22740d2744:1462209754,82a8156ce47100109b4da9d592c37109:-639155435</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_properties_fcd80f4adb0fc0109e101461399619e0</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_properties"><sys_properties action="INSERT_OR_UPDATE"><choices/><description/><ignore_cache>false</ignore_cache><is_private>false</is_private><name>regress.record.for.tables</name><read_roles/><suffix/><sys_class_name>sys_properties</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-02-20 09:52:38</sys_created_on><sys_id>fcd80f4adb0fc0109e101461399619e0</sys_id><sys_mod_count>9</sys_mod_count><sys_name>regress.record.for.tables</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>sys_properties_fcd80f4adb0fc0109e101461399619e0</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-05 10:20:38</sys_updated_on><type>string</type><value>task,sc_req_item,task_sla,sysapproval_approver</value><write_roles>regress_user</write_roles></sys_properties><sys_translated_text action="delete_multiple" query="documentkey=fcd80f4adb0fc0109e101461399619e0"/></record_update>]]></payload><payload_hash>508011867</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>e9b46ec3db3814109e10146139961916</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b56280000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>regress.record.for.tables</target_name><type>System Property</type><update_domain>global</update_domain><update_guid>ea9e1d5e0cec581019eb50e25f9f6551</update_guid><update_guid_history>ea9e1d5e0cec581019eb50e25f9f6551:508011867,958e450870e81010adb0fba5211b31ef:-685489451,0d7425fe9f478410d4a49a00bf8a22b9:508011867,a013617e554784105b1e723dc9fc691e:-685489451,1081a1fafe47841092d57ae554d1b317:508011867,cb40257a2e478410e1cec2cc1fa4e5c2:-685489451,0416513e4b0784100015cbaecf464d67:508011867,c2745d3a5f078410ba4b1bccd8a3e155:-495980477,999f09b24407841028e399ffa53b5c86:371402330,41f8c706970fc010798238578b153bdf:1924916155</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_script_include_456dc1e5db5233001c4af53a2996192e</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;public&lt;/access&gt;&lt;active&gt;false&lt;/active&gt;&lt;api_name&gt;global.PolicyActionToFieldStateStepProcessor&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;PolicyActionToFieldStateStepProcessor&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var PolicyActionToFieldStateStepProcessor = Class.create();
PolicyActionToFieldStateStepProcessor.prototype = {
	
    initialize: function( fieldState ) {
		this.isFieldState = [];
		this.isNotFieldState = [];
		
		this.fieldState = fieldState;
    },
	
	processPolicyAction: function(grUIPolicyAction) {
		var fieldName = grUIPolicyAction.getValue('field');
			
		var mandatoryValue = grUIPolicyAction.getValue(this.fieldState);
			
		switch(mandatoryValue) {
			case "true" : this.isFieldState.push(fieldName); break;
			case "false" : this.isNotFieldState.push(fieldName); break;
			case "ignore" : break;	
			default:
		}
		
	},
	
	getIsFieldState: function() {
		return this.isFieldState.join(",");
	},
	
	getIsNotFieldState: function() {
		return this.isNotFieldState.join(",");
	},

    type: 'PolicyActionToFieldStateStepProcessor'
};]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-06-27 08:40:32&lt;/sys_created_on&gt;&lt;sys_id&gt;456dc1e5db5233001c4af53a2996192e&lt;/sys_id&gt;&lt;sys_mod_count&gt;10&lt;/sys_mod_count&gt;&lt;sys_name&gt;PolicyActionToFieldStateStepProcessor&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_456dc1e5db5233001c4af53a2996192e&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-01-06 10:03:04&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload><payload_hash>313194995</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>e9b46ec3db3814109e10146139961919</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4d880000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>PolicyActionToFieldStateStepProcessor</target_name><type>Script Include</type><update_domain>global</update_domain><update_guid>4bcb5fa7c6464010fac193f313171b0d</update_guid><update_guid_history>4bcb5fa7c6464010fac193f313171b0d:-517792856,46791618edf23300e5496db83af0c6ca:-526922927,e7d255d03f323300205e8e8fa899d846:-238147703,9dc0d88885763300f3b79269042fbe56:2034634040,703091292b523300e2901a70a9022517:1958836134,16ef8529925233005f9be85076982f71:815036742,35af0d29a7523300b6fc77f75991d7f0:-1385390437,468f89a5c7523300270375b9b352c96f:-146133599,0eee89e576523300a298a26589e93ceb:-1412095283,e4be41299a52330080afa684cdac90ea:-2018811781,c41e85a1225233008502688c3d36486a:-634489875</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_script_include_f373a8b5db5dc010f0a2f2823996196c</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;public&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;global.ClickUIActionTestStepGenerator&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;ClickUIActionTestStepGenerator&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var ClickUIActionTestStepGenerator = Class.create();
ClickUIActionTestStepGenerator.prototype = Object.extendsObject(TestStepGenerator, {

	generateTestStep: function() {
		

		this.grATFStep.inputs['ui_action'] = this.regressionObject.uiAction;
		
		if (this.isClientSideUIAction()) {
			// Client side UI Actions can affect field values and field state, which gets checked before the UI action is clicked
			// This will cause the Test to fail. To avoid this, we simply move the click to before the field validations occur
			// Note that some Client UI Actions will just use the sysverb_update and will look like server side to Regress.
			gs.debug('Client Side UI Action was clicked');
			this.makeFieldValidationStepsInactive();
		} else {
			this.grATFStep.notes = "The UI Action clicked by the user.";
		}
		TestStepGenerator.prototype.generateTestStep.call(this);
		
		RegressATFRecordSessionv2.addTestStepMarker(this.regressionObject.sysID, this.grATFStep.getValue('sys_id'));
	},
	
	isClientSideUIAction: function() {
		var grClientSideUIAction = new GlideRecord("sys_ui_action");
		grClientSideUIAction.addQuery("sys_id", this.regressionObject.uiAction);
		grClientSideUIAction.addQuery('client',true);
		grClientSideUIAction.query();
		
		return grClientSideUIAction.hasNext();
	},
	
	makeFieldValidationStepsInactive: function() {
		var grLastQueryStep = this.getLastTestStep(TestStepGenerator.STEP_CONFIG_FIELD_STATE_VALIDATION);
		if (grLastQueryStep.isValidRecord()) {
			var fieldStateStepOrder = grLastQueryStep.order;
			this.grATFStep.notes = "Client Side UI Action clicked.";	
			var grFurtherSteps = this.getTestStepsBetween(fieldStateStepOrder-1, this.grATFStep.order );
			while (grFurtherSteps.next()) {
				grFurtherSteps.active = false;
				grFurtherSteps.notes = "Field State and/or values may have been changed by Client side UI Action that would cause this Test to fail. Reactivate these steps if the Action did not make any changes to these.";	
				grFurtherSteps.update();
			}
			
		} else {
			gs.debug('No Field State Validation Test Step could be found');
		}
	},

	
    type: 'ClickUIActionTestStepGenerator'
});]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-11-24 03:21:23&lt;/sys_created_on&gt;&lt;sys_id&gt;f373a8b5db5dc010f0a2f2823996196c&lt;/sys_id&gt;&lt;sys_mod_count&gt;17&lt;/sys_mod_count&gt;&lt;sys_name&gt;ClickUIActionTestStepGenerator&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_f373a8b5db5dc010f0a2f2823996196c&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-01-23 10:16:50&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload><payload_hash>-1260980686</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>e9b46ec3db3814109e1014613996191c</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4eb50000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>ClickUIActionTestStepGenerator</target_name><type>Script Include</type><update_domain>global</update_domain><update_guid>1ef1078146668010798eec7c9c205fa7</update_guid><update_guid_history>1ef1078146668010798eec7c9c205fa7:-2128624995,a5a10781816680106c24ddd108d42a59:1900142589,9d5e36cd2d268010cb426a5e55bfa996:-1106177464,8e1c12309be64010a32efc8964027655:-419453522,589b52fc14a6401085452822c165744c:-4013112,7cead2bc0fa6401094e0a1cde1a7c5ef:1890636060,fc82d9a7f2960010c7e5819093e4a392:2145590677,424814e7a492001077d0fbb7e78e7419:782549280,6147146722920010450cf85c33e2d404:1098670270,caa458e31692001080c0aff3c87280d5:-1741660150,9a5294a35292001051b23609bcd7fba7:-1917113184,40611463969200106024ef8db698f52c:654502256,9a80d423219200109b81189571fcaab0:2122768329,6a2090ef67520010d74825b014f2b780:-1919703276,c8d380e7a95200104f54f6faf37d9870:35417126,dc884b624246c010384638e727bc01b8:73147160,828125e44cb10010c69ffbe2e0fd775f:-381636814,a7d0ed646ab10010d8aeabc3db2ac6df:-644881518,52a32cb5485dc010e037c5c5a7f2fcf5:-381636814,fb73a8b5695dc01027e583e51e9d4f6e:180098470</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_ui_page_5968cd2fdb1600109e10146139961920</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_ui_page"&gt;&lt;sys_ui_page action="INSERT_OR_UPDATE"&gt;&lt;category&gt;general&lt;/category&gt;&lt;client_script&gt;&lt;![CDATA[function invokePromptCallBack(type) {
    var gdw = GlideDialogWindow.get();
	 if (type == 'ok')
		   var f = gdw.getPreference('onPromptComplete');
		else
		   var f = gdw.getPreference('onPromptCancel');

	var uiAction = getSelectedUIActionRadioValue();
	if (uiAction) {
		uiAction = uiAction.replace("sys_id_","");
		jslog('Manually selected UI Action ' + uiAction);
		
		if (typeof(f) == 'function') {
			try {
				f.call(gdw, uiAction);
			} catch(e) {

			}
		}
	}

    gdw.destroy();
	
    return false;
}

function getSelectedUIActionRadioValue() {
	var radios = document.getElementsByName('pickAnUIAction');

	for (var i = 0, length = radios.length; i &lt; length; i++) {
	  if (radios[i].checked) {
		return radios[i].id;
	  }
	}	
}]]&gt;&lt;/client_script&gt;&lt;description/&gt;&lt;direct&gt;false&lt;/direct&gt;&lt;endpoint/&gt;&lt;html&gt;&lt;![CDATA[&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;j:jelly trim="false" xmlns:j="jelly:core" xmlns:g="glide" xmlns:j2="null" xmlns:g2="null"&gt;
	
	&lt;g:ui_form onsubmit="return invokeConfirmCallBack('ok');"&gt;

		&lt;g:evaluate jelly="true"&gt;
			var title = (jelly.RP.getWindowProperties().get('title') || '') + '';
			title =  new GlideStringUtil().unEscapeHTML(title);
		&lt;/g:evaluate&gt;
		
		&lt;g:evaluate jelly="true" var="actionName"&gt;
			var actionName = jelly.RP.getWindowProperties().get('actionName') + '';	
			actionName;
		&lt;/g:evaluate&gt;					

		&lt;g:evaluate jelly="true" var ="potentialUIActions"&gt;

			var actionName = RP.getWindowProperties().get('actionName');
			var visibleUIActions = RP.getWindowProperties().get('visibleUIActions');

			var potentialUIActions = [];

			var grUIActions = new GlideRecord('sys_ui_action');
			grUIActions.addQuery('sys_id','IN',visibleUIActions);
			grUIActions.orderBy('name');
			grUIActions.addQuery('action_name',actionName)
			.addOrCondition('client',true);
			grUIActions.query();
			while(grUIActions.next()) {
				var uiActionDetail = {
					name: grUIActions.getValue('name'),
					table: grUIActions.getValue('table'),
					sys_id: grUIActions.getUniqueValue(),
					action_name: grUIActions.getValue('action_name')
				}
				potentialUIActions.push(uiActionDetail);
			}

			potentialUIActions
		&lt;/g:evaluate&gt;			

	&lt;table width="100%"&gt;
		&lt;tr&gt;&lt;td/&gt;&lt;td/&gt;&lt;/tr&gt;

		&lt;tr&gt;
			&lt;td&gt;&lt;g:no_escape&gt;${title}&lt;/g:no_escape&gt;&lt;/td&gt;	
		&lt;/tr&gt;

		&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;

		&lt;j:forEach items="${potentialUIActions}" var="potentialUIAction"&gt;	

			&lt;tr&gt;&lt;td&gt;
			&lt;div class="input-group-radio"&gt;				
				&lt;g:evaluate jelly="true"&gt;
					var name = jelly.potentialUIAction.name;
					var value = 'sys_id_' + jelly.potentialUIAction.sys_id;
					var table = jelly.potentialUIAction.table;
					var thisActionName = jelly.potentialUIAction.action_name;
					var isMatchingActionName = (thisActionName == jelly.actionName);
				&lt;/g:evaluate&gt;
				&lt;!-- Just setting checked to true/false via isMatchingActionName wasn't working --&gt;
				&lt;j:if test="${isMatchingActionName}"&gt;
					&lt;input id="${value}" class="radio" type="radio" name="pickAnUIAction" checked="true"&gt;&lt;/input&gt;
				&lt;/j:if&gt; 
				&lt;j:if test="${!isMatchingActionName}"&gt;
					&lt;input id="${value}" class="radio" type="radio" name="pickAnUIAction"&gt;&lt;/input&gt;
				&lt;/j:if&gt;
				
				&lt;label for="${value}" class="radio-label"&gt;${name} [${table}]&lt;/label&gt;	
			&lt;/div&gt;				
			&lt;/td&gt;&lt;/tr&gt;

		&lt;/j:forEach&gt;


		&lt;tr&gt;
			&lt;td colspan="2" align="right"&gt;
				&lt;g:dialog_buttons_ok_cancel 
											ok="invokePromptCallBack('ok');" 
											ok_type="button" 
											cancel="invokePromptCallBack('cancel')" 
											cancel_type="button" /&gt;
			&lt;/td&gt;
		&lt;/tr&gt;

	&lt;/table&gt;
	&lt;/g:ui_form&gt;
&lt;/j:jelly&gt;]]&gt;&lt;/html&gt;&lt;name&gt;regress_confirm_ui_action&lt;/name&gt;&lt;processing_script/&gt;&lt;sys_class_name&gt;sys_ui_page&lt;/sys_class_name&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-01-18 09:34:45&lt;/sys_created_on&gt;&lt;sys_id&gt;5968cd2fdb1600109e10146139961920&lt;/sys_id&gt;&lt;sys_mod_count&gt;98&lt;/sys_mod_count&gt;&lt;sys_name&gt;regress_confirm_ui_action&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_ui_page_5968cd2fdb1600109e10146139961920&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-01-23 08:26:50&lt;/sys_updated_on&gt;&lt;/sys_ui_page&gt;&lt;/record_update&gt;</payload><payload_hash>2070716286</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>e9b46ec3db3814109e1014613996191d</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4ea60000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>regress_confirm_ui_action</target_name><type>UI Page</type><update_domain>global</update_domain><update_guid>cbc8628dc5e28010c1b50edea75c3706</update_guid><update_guid_history>cbc8628dc5e28010c1b50edea75c3706:2070716286,b198628d6fe280102bb29a76f637ff02:1833539169,8d78e64d8ee28010a89726e26aa5986a:-1555790854,ae48664d98e28010919d3ad52dd8f4e9:-407144619,6f08264d8ee280106b3254325ae1a649:-1466429785,9bb7ea0d33e280106ac4d6b57092cbf5:1629935277,9277ea0da7e2801072f5d1fbc650f5f2:1136518482,0d676a0df9e280107b2d17c001e9f206:1132729100,a057e60d2fe280101466d339565c9e23:-1384821764,4227e20d08e2801054e7192fe1615fd7:1330265964,ebd46e49f6e280107b486f972d7d1de5:-951246618,9e92ea749be6401091fc60e702286491:-784138512,8f62aa74e5e6401028753e9ee54350ab:2043126438,ec5262b4f8e6401022333a132fe5b1fd:234093951,84b12a746ce64010bcdb8de92f8608c5:-1918203351,55612274c2e6401079998dbf9bf09b4b:973612613,43d0aa3479e640106c1e2ef2e9920399:691072457,74c0263436e640104deb197c28f46c63:664768986,8690aef00ce64010165237f48b510cd9:294945138,7340223438e64010f5f21506384319b0:-1624338218,121066f0eae64010e62a8841f998cf46:-316943154,99efdaf055e6401022c4faa55c13db0b:1917039913,8aa95e7ccba640104e81788f7228e39b:-1982714405,ad89da7c5ea64010913b515a1e9dfe27:2020762699,7479d67c19a64010b546f8a3b3d454f8:1470643663,3019127c77a64010280a2efd529620fc:-1028690374,39b8def8c9a64010b6d7db52a70957cd:554471652,46b79eb840a64010bbc37b84c6af5c75:-704366808,27975af8dfa640104b760bbf72128176:1362242953,e457d6f8b5a640107fbe11b09ee953b6:-799373861,a906d6781fa640107a62abbed2ef5dec:-964053521,8ae592780ba640108f8538c12aa5b238:-921841970,14d59a388ba64010a6ef632ffa608fff:1898781161,c995127818a6401050ad693bc3fb26f1:-1735426464,1775d23895a64010cdf559e8c136ceb6:-99651516,fa451e3840a64010895459dc354d19c2:1001860299,26051a3825a6401072cfab48f9a89ebc:708193968,aaf496b4cfa64010ab133674a183fe2b:-941668192,a5b4daf437a640102d2c30afa4bb48c6:40233748,b66492385da64010b10627e021dbdd8c:-773125725,50345af4afa640106a9479121aad9793:-2116339086,c6d35af436a640106e2efdb30a56e46d:182941561,27e965a4bb2a001022408d6cd755775d:1167672221,0981e9a86ae60010cf972b5d7a3e130c:-1954321067,e0212568f7e6001046355eb1cbc39675:-741783337,14e0a1a891e60010b2a735ae84649f32:-1260349494,fa60ad6439e600107b32384ced1790e4:-1747535550,586fdda483e60010a59786f919415322:211900484,9bed4d6895a60010239a1c91d846c7d9:-1612164518,662d0d6890a60010c3b571a27574c4b7:429071732,451c4d646ba60010b22ac4d052f6dbad:495795081,99370524faa60010f736596b6bb116cd:-553511422,85d6892424a60010f45d2458002e8d45:1245542587,3fdfe8e0336600105485997a0d231e87:1974740208,3d4f6c608a6600100c85ef6eec51ed3a:529582777,b50fec6023660010c65cdfff4d1d0fc2:-561710061,f67e2ca013660010c1b4333c983681e4:1715633720,fd6ee8a0936600103fe4c9c866cc8594:-1553198587,7e3e20a0926600105f2643bef91cfad1:-556688601,05adec60c1660010ea2a30fdf69dcfca:-1073805732,0f7d6c605f6600102c7ab45a96a79a54:-556565750,c34d6c602e660010e5a7a72824a6c932:-727416530,fa1d2cecee260010d611f9b9a0b65bc7:582667246,59fc20604f66001043d5377736e386ee:1378075035,c29c20608066001072082b6bb41fc2b9:-1080056211,db4c2060ce660010322efc61b66056b5:-1469053461,ac5b64206d660010c65a3ca461dd1b32:-1286566662,be2ba020e7660010889f34a16ba75b56:937914808,bfea6cecea260010f0baca2ba0797918:-1269667590,529ae8ec5226001060ec13bb113d6693:1023944890,fb7a68ec632600103f423b846ce84ec8:1781246363,e44aa8ac6526001053d9f71291f2739b:432247712,3e2a64ec6b260010e1a008b5235e88be:905976400,7ae920ac49260010fae226249fd5de57:-1146899587,b7b96c6c1d260010d66e7ac0e285d134:-2106011768,4b99ec6c2f260010d9e43a6aab3facf1:432247712,7989a06cb12600107331e1b28b5c372a:480198297,d339686c392600108032d7ffdf92ddaf:-288537070,4528a06c812600105ee512aa100b815f:237830151,d0e7686cef2600105045b8ab05e084c3:2066860248,ca77ac2c0226001036ace839592a93fc:-396687517,83072ce81326001028466d6cbebfe805:-555786381,22d620e862260010e2c60cfd51772904:1915419691,7176eca8a2260010642eeb4a2c383117:-294140363,894668a8342600109cc9880cfd039d0e:239675033,3106a0e8ef26001051c8e3492683f679:-1847759476,5bd5a0e8e2260010df3982540388031d:1910440132,1b9528a8d02600104e4792f8536345cc:2107530322,b425ec68e62600103f9a55f5f2ede7ea:247771494,82d4ec68d526001038d81215373132d2:-1656238085,ba74ec68b726001076c94c8d19e42ace:-2068265582,2c44a468692600100f2bfb3863a14aaf:-1837314382,f70420e481260010723725fcd94aabd0:237034443,5fa0e0e091260010711c7bb16e78b700:-87488754,7f6ea7c8ea6e4010216eaf456223a644:-246707630,803de388db6e401046c1ee1a6a7dada1:-980647942,a3eca388f26e4010e6ffd214a2ea1f61:-246707630,6be552ffb2da0010c89d4583adb12f4a:1952844767,d168cd2fa0160010fb1d510541663b22:-246707630</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>catalog_script_client_b785edcddb5494109e10146139961926</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update sys_domain="global" table="catalog_script_client"&gt;&lt;catalog_script_client action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;applies_catalog&gt;true&lt;/applies_catalog&gt;&lt;applies_extended&gt;false&lt;/applies_extended&gt;&lt;applies_req_item&gt;false&lt;/applies_req_item&gt;&lt;applies_sc_task&gt;false&lt;/applies_sc_task&gt;&lt;applies_target_record&gt;false&lt;/applies_target_record&gt;&lt;applies_to&gt;set&lt;/applies_to&gt;&lt;cat_item/&gt;&lt;cat_variable/&gt;&lt;condition/&gt;&lt;description/&gt;&lt;field/&gt;&lt;global&gt;true&lt;/global&gt;&lt;isolate_script&gt;true&lt;/isolate_script&gt;&lt;messages/&gt;&lt;name&gt;Regress Submit (SP)&lt;/name&gt;&lt;order/&gt;&lt;script&gt;&lt;![CDATA[function onSubmit() {
	try {
		if (typeof regress !== 'undefined' &amp;&amp; regress.reg_form.isRecording()) {
			return regress.reg_form.recordCatItemSP();
		} 
	} catch (e) {
		g_form.addErrorMessage('RegressUI Error: ' + e);
		return false;
	}		
	
}
]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;catalog_script_client&lt;/sys_class_name&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-04-19 03:22:57&lt;/sys_created_on&gt;&lt;sys_domain&gt;global&lt;/sys_domain&gt;&lt;sys_domain_path&gt;/&lt;/sys_domain_path&gt;&lt;sys_id&gt;b785edcddb5494109e10146139961926&lt;/sys_id&gt;&lt;sys_mod_count&gt;6&lt;/sys_mod_count&gt;&lt;sys_name&gt;Regress Submit (SP)&lt;/sys_name&gt;&lt;sys_overrides/&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;catalog_script_client_b785edcddb5494109e10146139961926&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-25 04:00:01&lt;/sys_updated_on&gt;&lt;table/&gt;&lt;type&gt;onSubmit&lt;/type&gt;&lt;ui_type&gt;1&lt;/ui_type&gt;&lt;variable_set display_value="Regress Item Recorder"&gt;6df85e0ddb7f00109e101461399619f6&lt;/variable_set&gt;&lt;view/&gt;&lt;/catalog_script_client&gt;&lt;/record_update&gt;</payload><payload_hash>-109121457</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>e9b4ee43db3814109e10146139961980</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b52b40000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Regress Submit (SP)</target_name><type>Catalog Client Scripts</type><update_domain>global</update_domain><update_guid>ed976443dd949c101bf7c1e555832bd6</update_guid><update_guid_history>ed976443dd949c101bf7c1e555832bd6:-109121457,e366548b42d09c100cfb8f8845b7e8a6:1478407119,363829c10a9494105033d8e8dfe3b8af:1285991254,8e666505f5949410898e86f389844eb0:571637433,8fd521c147949410fecb12a1a6683512:419182553,afa5298151949410fcbaefa28c23da58:-542583305,3b85edcdd05494108bc19aad26b6ca28:-1439274801</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>item_option_new_8a865e33db1e00109e10146139961923</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="item_option_new"><item_option_new action="INSERT_OR_UPDATE"><active>true</active><attributes/><cat_item display_value="Regress Properties">e194ce26db42c0109e10146139961954</cat_item><category/><choice_direction>down</choice_direction><choice_field/><choice_table/><create_roles/><default_html_value/><default_value>javascript:gs.getProperty('regress.record.new',''); </default_value><delete_roles/><delivery_plan/><description/><display_title>false</display_title><do_not_select_first>false</do_not_select_first><dynamic_default_value/><dynamic_ref_qual/><example_text/><field/><global>false</global><help_tag>More information</help_tag><help_text/><include_none>false</include_none><instructions/><layout>normal</layout><list_table/><lookup_label/><lookup_price/><lookup_table/><lookup_unique>false</lookup_unique><lookup_value/><macro/><mandatory>false</mandatory><map_to_field>false</map_to_field><mask_use_confirmation>false</mask_use_confirmation><mask_use_encryption>false</mask_use_encryption><name>test_template_new</name><order>400</order><price_if_checked>0</price_if_checked><pricing_implications>false</pricing_implications><question_text>Test Template for New Recording</question_text><read_roles/><rec_lookup_price/><rec_price_if_checked>0</rec_price_if_checked><record/><record_producer_table>global</record_producer_table><reference>sys_atf_test_template</reference><reference_qual/><reference_qual_condition/><scale_max>5</scale_max><scale_min>0</scale_min><show_help>false</show_help><show_help_on_load>false</show_help_on_load><sp_widget/><summary_macro/><sys_class_name>item_option_new</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-01-19 09:54:38</sys_created_on><sys_id>8a865e33db1e00109e10146139961923</sys_id><sys_mod_count>6</sys_mod_count><sys_name>Test Template for New Recording</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>item_option_new_8a865e33db1e00109e10146139961923</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-02-08 08:37:13</sys_updated_on><table/><tooltip/><type>8</type><ui_page/><use_dynamic_default>false</use_dynamic_default><use_reference_qualifier>simple</use_reference_qualifier><validate_regex/><variable_name/><variable_set/><variable_width/><visibility>1</visibility><visible_bundle>true</visible_bundle><visible_guide>true</visible_guide><visible_standalone>true</visible_standalone><visible_summary>true</visible_summary><write_roles/></item_option_new><sys_translated_text action="delete_multiple" query="documentkey=8a865e33db1e00109e10146139961923"/><fx_price action="delete_multiple" query="id=8a865e33db1e00109e10146139961923"/><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>price_if_checked</field><id>8a865e33db1e00109e10146139961923</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-01-19 09:54:39</sys_created_on><sys_id>46869e33db1e00109e10146139961903</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-01-19 09:54:39</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>rec_price_if_checked</field><id>8a865e33db1e00109e10146139961923</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-01-19 09:54:38</sys_created_on><sys_id>02869e33db1e00109e10146139961902</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-01-19 09:54:38</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price></record_update>]]></payload><payload_hash>331058019</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>e9b4ee43db3814109e10146139961983</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4fb80000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Test Template for New Recording</target_name><type>Variable</type><update_domain>global</update_domain><update_guid>5b94cd9e517688106f34ea9a64073b40</update_guid><update_guid_history>5b94cd9e517688106f34ea9a64073b40:331058019,151856b38b1e00101bc07e1dac9bd1be:-1018461392,98b7de731c1e0010042dd4536c5bc381:-1551530348,68971e73cc1e0010c5d745b02da2dbc0:-1430843995,80571a73591e00102f61aab57337c79e:-1544215726,0eb612735b1e0010e58c8e8e380b63bf:-1224046812,1e869e33111e0010b137af261f977306:1540542694</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sc_cat_item_producer_e194ce26db42c0109e10146139961954</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sc_cat_item_producer"&gt;&lt;sc_cat_item_producer action="INSERT_OR_UPDATE"&gt;&lt;active&gt;true&lt;/active&gt;&lt;availability&gt;on_desktop&lt;/availability&gt;&lt;billable&gt;false&lt;/billable&gt;&lt;can_cancel&gt;false&lt;/can_cancel&gt;&lt;category/&gt;&lt;cost&gt;0&lt;/cost&gt;&lt;custom_cart/&gt;&lt;delivery_plan/&gt;&lt;delivery_plan_script/&gt;&lt;delivery_time&gt;1970-01-03 00:00:00&lt;/delivery_time&gt;&lt;description&gt;&lt;![CDATA[&lt;p&gt;&lt;strong&gt;System Properties for Regress Application.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;When active, Regress captures form changes and generates ATF Steps based on the configuration below when the form is saved or submitted.&lt;/p&gt;
&lt;p&gt;Please check for the latest version and further product documentation on the &lt;a title="ServiceNow Share" href="https://developer.servicenow.com/connect.do#!/share/contents/5672333_regress_atf_service_catalog_test_generator?t&amp;#61;PRODUCT_DETAILS" target="_blank" rel="noopener noreferrer nofollow"&gt;ServiceNow Share&lt;/a&gt; page.&lt;/p&gt;
&lt;p&gt;Written and maintained by &lt;a title="Paul Morris." href="https://www.linkedin.com/in/paul-morris-perthwa/" rel="nofollow"&gt;Paul Morris.&lt;/a&gt;&lt;/p&gt;]]&gt;&lt;/description&gt;&lt;display_price_property&gt;non_zero&lt;/display_price_property&gt;&lt;entitlement_script/&gt;&lt;group/&gt;&lt;hide_sp&gt;false&lt;/hide_sp&gt;&lt;icon/&gt;&lt;ignore_price&gt;false&lt;/ignore_price&gt;&lt;image/&gt;&lt;list_price&gt;0&lt;/list_price&gt;&lt;location/&gt;&lt;mandatory_attachment&gt;false&lt;/mandatory_attachment&gt;&lt;meta/&gt;&lt;mobile_hide_price&gt;false&lt;/mobile_hide_price&gt;&lt;mobile_picture/&gt;&lt;mobile_picture_type&gt;use_desktop_picture&lt;/mobile_picture_type&gt;&lt;model/&gt;&lt;name&gt;Regress Properties&lt;/name&gt;&lt;no_attachment_v2&gt;false&lt;/no_attachment_v2&gt;&lt;no_cart&gt;false&lt;/no_cart&gt;&lt;no_cart_v2&gt;false&lt;/no_cart_v2&gt;&lt;no_delivery_time_v2&gt;false&lt;/no_delivery_time_v2&gt;&lt;no_order&gt;false&lt;/no_order&gt;&lt;no_order_now&gt;false&lt;/no_order_now&gt;&lt;no_proceed_checkout&gt;false&lt;/no_proceed_checkout&gt;&lt;no_quantity&gt;false&lt;/no_quantity&gt;&lt;no_quantity_v2&gt;false&lt;/no_quantity_v2&gt;&lt;no_search&gt;false&lt;/no_search&gt;&lt;no_wishlist_v2&gt;false&lt;/no_wishlist_v2&gt;&lt;omit_price&gt;false&lt;/omit_price&gt;&lt;order&gt;0&lt;/order&gt;&lt;ordered_item_link/&gt;&lt;picture/&gt;&lt;post_insert_script/&gt;&lt;preview&gt;JavaScript: popupOpenStandard("com.glideapp.servicecatalog_cat_item_view.do?v=1&amp;amp;sysparm_id=e194ce26db42c0109e10146139961954&amp;amp;sysparm_preview=true", "summary");&lt;/preview&gt;&lt;price&gt;0&lt;/price&gt;&lt;recurring_frequency/&gt;&lt;recurring_price&gt;0&lt;/recurring_price&gt;&lt;redirect_url&gt;catalog_home&lt;/redirect_url&gt;&lt;request_method/&gt;&lt;roles&gt;snc_internal&lt;/roles&gt;&lt;sc_catalogs/&gt;&lt;sc_ic_item_staging/&gt;&lt;sc_ic_version/&gt;&lt;script&gt;&lt;![CDATA[(function executeScript(producer, current) {
	var regressEnabled = (producer.regress_enabled == 'Yes' ? 'true' : 'false');
	var fieldNames = RegressSystemPropertyHelper.GetSelectedFieldNames(producer.fields_for_existing_record_queries);
	var tableNames = RegressSystemPropertyHelper.GetTableNamesBySysIDs(producer.automatically_record_for_these_tables);

	var regressSystemPropertyHelper = new RegressSystemPropertyHelper();
	regressSystemPropertyHelper.updateSystemProperty('regress.enabled', regressEnabled);
	regressSystemPropertyHelper.updateSystemProperty('regress.new.record.create.template', producer.test_template_for_new_form);
	regressSystemPropertyHelper.updateSystemProperty('regress.new.record.existing.template',  producer.test_template_for_existing_record);
	regressSystemPropertyHelper.updateSystemProperty('regress.record.action.template',  producer.test_template_on_form_action);
	regressSystemPropertyHelper.updateSystemProperty('regress.record.new',producer.test_template_new);
	regressSystemPropertyHelper.updateSystemProperty('regress.record.servicecatalog_cat_item_sp',producer.test_template_sc_sp);
	regressSystemPropertyHelper.updateSystemProperty('regress.record.servicecatalog_cat_item_view',producer.test_template_sc);

	regressSystemPropertyHelper.updateSystemProperty('regress.regression.level', producer.regression_level);
	regressSystemPropertyHelper.updateSystemProperty('regress.existing.query.fields', fieldNames);
	regressSystemPropertyHelper.updateSystemProperty('regress.record.for.tables',tableNames);


	gs.addInfoMessage('Updated System Propertes');

	//Prevent record producer from creating a record. We just want to use this as a nicer System Properties page
	current.setAbortAction(true);

	var redirectURL = "com.glideapp.servicecatalog_cat_item_view.do?v=1&amp;sysparm_id=e194ce26db42c0109e10146139961954&amp;sysparm_preview=true&amp;sysparm_domain_restore=false&amp;sysparm_stack=no";

	// producer.redirect is not working, perhaps interupted by the setAbortAction
	gs.setRedirect(redirectURL);
})(producer,current);
]]&gt;&lt;/script&gt;&lt;short_description&gt;Regress - System Properties&lt;/short_description&gt;&lt;show_variable_help_on_load&gt;false&lt;/show_variable_help_on_load&gt;&lt;start_closed&gt;false&lt;/start_closed&gt;&lt;sys_class_name&gt;sc_cat_item_producer&lt;/sys_class_name&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-01-03 01:08:29&lt;/sys_created_on&gt;&lt;sys_id&gt;e194ce26db42c0109e10146139961954&lt;/sys_id&gt;&lt;sys_mod_count&gt;38&lt;/sys_mod_count&gt;&lt;sys_name&gt;Regress Properties&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sc_cat_item_producer_e194ce26db42c0109e10146139961954&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-05-05 10:10:26&lt;/sys_updated_on&gt;&lt;table_name&gt;global&lt;/table_name&gt;&lt;template/&gt;&lt;type&gt;item&lt;/type&gt;&lt;use_sc_layout&gt;true&lt;/use_sc_layout&gt;&lt;vendor/&gt;&lt;view/&gt;&lt;visible_bundle&gt;true&lt;/visible_bundle&gt;&lt;visible_guide&gt;true&lt;/visible_guide&gt;&lt;visible_standalone&gt;true&lt;/visible_standalone&gt;&lt;workflow/&gt;&lt;/sc_cat_item_producer&gt;&lt;sys_translated_text action="delete_multiple" query="documentkey=e194ce26db42c0109e10146139961954"/&gt;&lt;fx_price action="delete_multiple" query="id=e194ce26db42c0109e10146139961954"/&gt;&lt;fx_price action="INSERT_OR_UPDATE"&gt;&lt;amount&gt;0&lt;/amount&gt;&lt;currency display_value="USD"&gt;USD&lt;/currency&gt;&lt;field&gt;price&lt;/field&gt;&lt;id&gt;e194ce26db42c0109e10146139961954&lt;/id&gt;&lt;parent/&gt;&lt;reference_amount&gt;0&lt;/reference_amount&gt;&lt;reference_currency display_value="USD"&gt;USD&lt;/reference_currency&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-01-03 01:08:29&lt;/sys_created_on&gt;&lt;sys_id&gt;47a40a26db42c0109e101461399619f3&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-01-03 01:08:29&lt;/sys_updated_on&gt;&lt;table&gt;sc_cat_item_producer&lt;/table&gt;&lt;type&gt;calculated&lt;/type&gt;&lt;/fx_price&gt;&lt;fx_price action="INSERT_OR_UPDATE"&gt;&lt;amount&gt;0&lt;/amount&gt;&lt;currency display_value="USD"&gt;USD&lt;/currency&gt;&lt;field&gt;recurring_price&lt;/field&gt;&lt;id&gt;e194ce26db42c0109e10146139961954&lt;/id&gt;&lt;parent/&gt;&lt;reference_amount&gt;0&lt;/reference_amount&gt;&lt;reference_currency display_value="USD"&gt;USD&lt;/reference_currency&gt;&lt;sys_created_by&gt;paul.morris&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2020-01-03 01:08:30&lt;/sys_created_on&gt;&lt;sys_id&gt;cba40a26db42c0109e101461399619f4&lt;/sys_id&gt;&lt;sys_mod_count&gt;0&lt;/sys_mod_count&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-01-03 01:08:30&lt;/sys_updated_on&gt;&lt;table&gt;sc_cat_item_producer&lt;/table&gt;&lt;type&gt;calculated&lt;/type&gt;&lt;/fx_price&gt;&lt;/record_update&gt;</payload><payload_hash>-1158287741</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>edb46ec3db3814109e1014613996190f</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b55b70000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table>global</table><target_name>Regress Properties</target_name><type>Record Producer</type><update_domain>global</update_domain><update_guid>f44c951a69ec5810e4acfcbcd79e8fb2</update_guid><update_guid_history>f44c951a69ec5810e4acfcbcd79e8fb2:-1158287741,ae8b99d6deec5810746e17b14c324758:1667223320,090fc548ade8101087d1a25f5096e7d6:-526999104,5b2c9fa3a1d090103807babba81f47de:-584439988,bc0cd3e3c3d09010ed9877e3bcfa8739:-1683182918,14bd4fd85c1b0c102856476bbaa1ae29:260585138,c134d53aef078410d1e0efe11e0b8670:1126667387,503319f636078410b13e4e0e10d53760:1989045533,c0671a73831e0010fcbef1cd031434a5:796181488,cd37d673561e0010dfdede5f7376f46e:1381563618,3ec65e338f1e0010d123037b80b0b972:1230513948,47665a33731e00101c46bf2b2a99a815:-2078643908,b72e9912b5520010eca66d420fc2d3f3:1736775001,886da95f7e060010959fe2c9f8496ffe:-604591112,85fb251f28060010c0ebec93d59dd50f:1347252565,776f936ee586c01094fa6ccc8c5be292:1144008104,bdee932ecc86c0103d4013ef21992a1c:1949277317,bb6e932e4d86c010f41581d8d8fce3d0:-1539394533,b27e96ea0d82c010c1b0efb7cea621b3:676408950,496e162e4a82c010da1517beb3ddfacd:-653293167,b76496e25282c010f72a733fef015c4f:-1189167834,d924dea23782c01039004de2fa5b5488:950785915,f3e3d6a24682c010daa9096b89890523:500416322,79a3d2a22382c01063366a5ca68b1ca3:-829660780,31da4eeae242c01099af971fec4c0255:-377987584,7ccacaea7242c01051cd65c79b2ef474:-1265806256,5e9a06eaa442c01069cf107c1ecefb90:-518220208,157ac6ea2142c0100d62e89359d92d99:1624058748,394a06eabf42c0103fc6e6a6f6b5b8fd:1034630188,101a42aa4a42c010ee6b1f1ac25251f7:1472700520,d0c94aaa5342c0104b12409c7bfc7b67:1539306311,dd5946aa8b42c0101b76b032cade512a:1915387277,94b88ae6f742c0106f8ed4a1c47089f5:2135694916,00a8862a4b42c010247b6a52973ec669:2024772665,d1b502a6e942c0106cc95a60a406b362:-1353592644,c1c44666c242c01036dba6263305bd82:1047765877,4fa40a261742c010b338a88668f046f7:-1987743679</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_atf_test_template_14f91dacdb710010f0a2f28239961902</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_atf_test_template"><sys_atf_test_template action="INSERT_OR_UPDATE"><description>Used by Regress ATF Recorder on the first instance that an existing record is recorded.</description><name>Regress ATF Recorder - Existing Record</name><sys_class_name>sys_atf_test_template</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2019-12-15 06:38:31</sys_created_on><sys_id>14f91dacdb710010f0a2f28239961902</sys_id><sys_mod_count>12</sys_mod_count><sys_name>Regress ATF Recorder - Existing Record</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>sys_atf_test_template_14f91dacdb710010f0a2f28239961902</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-01-11 09:29:30</sys_updated_on><template>071ee5b253331200040729cac2dc348d,0270b8005f30220012b44adb7f46666a,5f2e0e535332120028bc29cac2dc34d3,d8fdf5e10b1022009cfdc71437673adc,fcae4a935332120028bc29cac2dc340e,1dfece935332120028bc29cac2dc3478,1b97cd31872022008182c9ded0e3ece5,323ca6e1c3b2220076173b0ac3d3aec1,33f637e8c3ba220076173b0ac3d3aee1,0f4a128297202200abe4bb7503ac4af0</template></sys_atf_test_template></record_update>]]></payload><payload_hash>-674152841</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>edb46ec3db3814109e10146139961912</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4e0e0000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Regress ATF Recorder - Existing Record</target_name><type>Test Template</type><update_domain>global</update_domain><update_guid>cc1441994f9e441091be376b3f58ca72</update_guid><update_guid_history>cc1441994f9e441091be376b3f58ca72:-674152841,e5f30599489e4410e946e824826b797e:842505,e665f5144bd2c0103d7081958a579e23:895337612,0115791477d2c010fe99d25d2e94a8f3:1904890306,32cc5fa773464010a49be0b4edf92414:1557741480,40cc9fe7ca464010813a056389898a31:-1631383469,3958a0174d4200100dc0045cec8e511f:-440809573,d43868d3ad420010d31bc1c05b7ae53f:-259561824,f553225aab868010e2c4e19e15573aae:1844467379,e97c9e92368680101d1b535007bf7f77:-1870507832,4d7671125b068010312194a175702597:1774659836,e82addace6710010d51288d777e183ce:-991754984,080a51ac8f710010e7f5883c5d355bbd:2073017533</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_properties_c28d1b2bdb4640109e10146139961943</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="sys_properties"><sys_properties action="INSERT_OR_UPDATE"><choices/><description/><ignore_cache>false</ignore_cache><is_private>false</is_private><name>regress.record.new</name><read_roles/><suffix/><sys_class_name>sys_properties</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-01-06 10:10:52</sys_created_on><sys_id>c28d1b2bdb4640109e10146139961943</sys_id><sys_mod_count>4</sys_mod_count><sys_name>regress.record.new</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>sys_properties_c28d1b2bdb4640109e10146139961943</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-02-08 08:34:26</sys_updated_on><type>string</type><value>408c9be7db4640109e101461399619f2</value><write_roles>regress_user</write_roles></sys_properties><sys_translated_text action="delete_multiple" query="documentkey=c28d1b2bdb4640109e10146139961943"/></record_update>]]></payload><payload_hash>816471458</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>edb46ec3db3814109e10146139961915</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4f470000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>regress.record.new</target_name><type>System Property</type><update_domain>global</update_domain><update_guid>3af3019e80768810d7f7c99f4e1c6b04</update_guid><update_guid_history>3af3019e80768810d7f7c99f4e1c6b04:816471458,af0a0545bf3e8410a0ea01b1227bbc09:-1013059503,3d88d95a13120010547e1568a7cd0e0b:816471458,94addb2b4b4640104c183d483fa65594:-1154500486,619d9fe715464010fafe7b086745ce74:-395514116</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_script_include_221a7069db1233001c4af53a29961954</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;public&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;global.RegressAddTestTemplateAjax&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description&gt;Extended  AddTestTemplateAjax to make some efficiency modification&lt;/description&gt;&lt;name&gt;RegressAddTestTemplateAjax&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var RegressAddTestTemplateAjax = Class.create();
RegressAddTestTemplateAjax.prototype = Object.extendsObject(AddTestTemplateAjax, {

	_createStep: function(testId, stepConfigId, testTableName, order) {
		var gr = new GlideRecord('sys_atf_step');
		gr.initialize();
		gr.test = testId;
		gr.order = order;
		gr.step_config = stepConfigId;
		// Set the variable only if the step has a valid table input variable and the testTableName passed is not null
		if (gr.inputs.getVariablesRecord().isValidField('table') &amp;&amp; !gs.nil(testTableName))
			gr.inputs.table = testTableName;
		//gr.insert(); //Was causing issues with input variables, making them not populate 
		
		return gr; // not returned in orginal function
	},
	
	// Descriptions become too big if we update them each time a template is applied, so lets not update it.
	_setTestDescription: function() {
		
	},

    type: 'RegressAddTestTemplateAjax'
});]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-06-27 07:13:29&lt;/sys_created_on&gt;&lt;sys_id&gt;221a7069db1233001c4af53a29961954&lt;/sys_id&gt;&lt;sys_mod_count&gt;13&lt;/sys_mod_count&gt;&lt;sys_name&gt;RegressAddTestTemplateAjax&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_221a7069db1233001c4af53a29961954&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-01-15 10:26:06&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload><payload_hash>655237860</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>edb46ec3db3814109e10146139961918</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b4e490000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>RegressAddTestTemplateAjax</target_name><type>Script Include</type><update_domain>global</update_domain><update_guid>cc67fda68f12001024a65707f94065b7</update_guid><update_guid_history>cc67fda68f12001024a65707f94065b7:-776136177,f0c28fe7922233007d0beac26c6f79f8:-1448776880,5b42cfe7e9223300e28f45a8eabcf2d4:381309552,2731cba7222233002ee0ce03b94780d8:-1448776880,d0dfbe679f223300ecb8ac425fe5eb12:381309552,2255beb91592330049ea2a776c7d03ad:-1448776880,53f4f2b966923300a4b522c07c2a8a03:381309552,961136f52492330046dee9315a73de8d:-765705424,0260bab579923300d926160f05eaf2af:106743734,4f9a3869181233005be90718ac10982e:-725637418,719af069771233006416c7e7b2e5bf34:8313671,915ab4293c123300f8eeb9dba25b53dd:-54933120,fb4a70699c123300dcc1cc1cb356d917:-723041951,052ab8298612330007b4b393fc0acc4e:862253634</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>sys_script_include_be871994db3233001c4af53a299619a4</name><payload>&lt;?xml version="1.0" encoding="UTF-8"?&gt;&lt;record_update table="sys_script_include"&gt;&lt;sys_script_include action="INSERT_OR_UPDATE"&gt;&lt;access&gt;public&lt;/access&gt;&lt;active&gt;true&lt;/active&gt;&lt;api_name&gt;global.OpenAnExistingRecordStepGenerator&lt;/api_name&gt;&lt;caller_access/&gt;&lt;client_callable&gt;false&lt;/client_callable&gt;&lt;description/&gt;&lt;name&gt;OpenAnExistingRecordStepGenerator&lt;/name&gt;&lt;script&gt;&lt;![CDATA[var OpenAnExistingRecordStepGenerator = Class.create();
OpenAnExistingRecordStepGenerator.prototype = Object.extendsObject(TestStepGenerator, {

	generateTestStep: function() {
		
		var previousRecordTestStepReference = RegressATFRecordSessionv2.getPreviousRecordTestStepReference(this.regressionObject.sysID);
		if (!gs.nil(previousRecordTestStepReference)) {
			var grLastQueryStep = new GlideRecord('sys_atf_step');
			if (grLastQueryStep.get(previousRecordTestStepReference)) {
				this.useQueryStep(grLastQueryStep);
				this.grATFStep.notes = 'Previously opened Record ' + this.regressionObject.display + ' was opened in this view.';	
				// Todo: find last Record Query and delete it, as it is not necessary
			}
		} else {
			
			this.setupOpenExistingForm();
		}

		this.grATFStep.inputs.view = this.regressionObject.viewName;
		TestStepGenerator.prototype.generateTestStep.call(this);
	},
	
	// Make reference to existing record if detected
	setupReferenceToPreviousRecord: function() {
		gs.debug('Setting up reference to previous record for Open Existing Record Test Step.');
		var grLastQueryStep = this.getLastTestStepWithRecordOutput(this.regressionObject.tableName);
		if (grLastQueryStep.isValidRecord()) {
			this.useQueryStep(grLastQueryStep);
			this.grATFStep.notes = 'Previously opened Record ' + this.regressionObject.display + ' was opened in this view.';
		} else {
			gs.warn('Something went wrong - could not find previous step with output');
			this.setupOpenExistingForm();
		}
		
	},
	
	setupOpenExistingForm: function() {
		gs.debug('Setting up reference to existing record for Open Existing Record Test Step.');
		
		var grLastQueryStep = this.getLastTestStepWithRecordOutput();
		
		if (grLastQueryStep.isValidRecord()) {
			this.useQueryStep(grLastQueryStep);
			this.grATFStep.notes = 'Existing Record ' + this.regressionObject.display + ' was opened in this view.';
		} else {
			gs.warn('Something went wrong - could not find previous step with output');
		}
		
	},

	
	useQueryStep: function(grLastQueryStep) {
		gs.debug('Using Output from  Step ' + grLastQueryStep.order);
		var outputField = this.getStepOutputField(grLastQueryStep);
		gs.debug('Output field is ' + outputField);
		var stepRefStr = this.buildRecordIDString(grLastQueryStep.getUniqueValue(),outputField );
		this.setContextualValueVariable('record_id',stepRefStr);
	},
	
	
	
    type: 'OpenAnExistingRecordStepGenerator'
});]]&gt;&lt;/script&gt;&lt;sys_class_name&gt;sys_script_include&lt;/sys_class_name&gt;&lt;sys_created_by&gt;admin&lt;/sys_created_by&gt;&lt;sys_created_on&gt;2019-07-18 08:40:56&lt;/sys_created_on&gt;&lt;sys_id&gt;be871994db3233001c4af53a299619a4&lt;/sys_id&gt;&lt;sys_mod_count&gt;33&lt;/sys_mod_count&gt;&lt;sys_name&gt;OpenAnExistingRecordStepGenerator&lt;/sys_name&gt;&lt;sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_package&gt;&lt;sys_policy/&gt;&lt;sys_scope display_value="Regress - ATF Recorder"&gt;86935f2adbc233001c4af53a2996191f&lt;/sys_scope&gt;&lt;sys_update_name&gt;sys_script_include_be871994db3233001c4af53a299619a4&lt;/sys_update_name&gt;&lt;sys_updated_by&gt;paul.morris&lt;/sys_updated_by&gt;&lt;sys_updated_on&gt;2020-04-11 05:32:47&lt;/sys_updated_on&gt;&lt;/sys_script_include&gt;&lt;/record_update&gt;</payload><payload_hash>-1668408055</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>edb46ec3db3814109e1014613996191b</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b52490000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>OpenAnExistingRecordStepGenerator</target_name><type>Script Include</type><update_domain>global</update_domain><update_guid>ff86bc6e20801410dc0f87ede88968f7</update_guid><update_guid_history>ff86bc6e20801410dc0f87ede88968f7:-1668408055,0f16b06e95801410c600632c72d5e6a9:-365639004,62f8b4418afa8410d072f2fcc48d2daa:-1811934283,6f13387aeb220010c0fc5e596dfe7e99:1552139178,a7efa4f630220010d74da32d7fd91c8e:465685255,35150f05046680108297e3fcc25a737a:2028703207,64914067fa520010097b248abde7d9e7:820337124,6adefb93025200100e204c4695fb9e7d:-1345843740,707ebb93a0520010c0147b657afa3ca6:693128824,5c8dbb531252001088e62e1143b726bc:1254993560,96fc77537c5200102320ebb6983e0130:-1293835910,97c9739fa21200104eb618d415f49711:967468388,1078b75fe5120010e952f8d644d71164:1069056589,9da7bf1fc81200108196edc8e9fb8272:-412952989,479e6f57c412001088856fa7dd6c19cd:146665616,0498e6f65c9e0010c78bf39c0b1f5d8c:1603002593,4528ee76a39e00107506323967d2b57e:-1884486890,afda7891ba9e4410cf77286d78d2d8f3:-784203248,38b430d9165e4410c46a02f4cc712a54:-1131300972,0d791091c51e441091b9f43c14dc3529:249883073,ba40f90296733300e3c8f990e8f837df:387264556,d3d56d8654333300088141e33662ce2b:-1250004238,4e53e1c2e73333002bbcc8ce66312092:-717408687,a60eea5967b373004dd20f0bae7081a8:366730777,c85f9e597ab373000de2c3a7886f2ff9:469420824,414752d4e9f233001ff46ff6dfd04c3a:1951853522,c2371e94ecf233006e4048c90f3f8223:1287606168,b3931a905ef2330098bbda5d1d9b5dbf:1502613,c98c59d83a3233002511bb0d53103d44:-518438563,6d7cd1d862323300e1ad52747c14db90:-940659574,74cb91d8be32330060a4a918da2ee21d:-1342294283,a70b59587b32330020376c08af15bbe5:469623626,7579d9d497323300df81887560de73e8:-1047476078,7a8719d4e2323300c947d45c3c7cdaaf:389872861</update_guid_history><update_set/><view/></sys_update_xml><sys_update_xml action="INSERT_OR_UPDATE"><action>INSERT_OR_UPDATE</action><application display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</application><category>customer</category><comments/><name>item_option_new_2a451876db0384109e1014613996192f</name><payload><![CDATA[<?xml version="1.0" encoding="UTF-8"?><record_update table="item_option_new"><item_option_new action="INSERT_OR_UPDATE"><active>false</active><attributes/><cat_item/><category/><choice_direction>down</choice_direction><choice_field/><choice_table/><create_roles/><default_html_value/><default_value/><delete_roles/><delivery_plan/><description/><display_title>false</display_title><do_not_select_first>false</do_not_select_first><dynamic_default_value/><dynamic_ref_qual/><example_text/><field/><global>false</global><help_tag>More information</help_tag><help_text>Reference Qualifiers do not work on lookup multi choice fields until Orlando.</help_text><include_none>false</include_none><instructions/><layout>normal</layout><list_table>sys_dictionary</list_table><lookup_label>column_label,name</lookup_label><lookup_price/><lookup_table>sys_dictionary</lookup_table><lookup_unique>true</lookup_unique><lookup_value>element</lookup_value><macro/><mandatory>false</mandatory><map_to_field>false</map_to_field><mask_use_confirmation>false</mask_use_confirmation><mask_use_encryption>false</mask_use_encryption><name>query_for_similar_records_using_these_fields</name><order/><price_if_checked>0</price_if_checked><pricing_implications>false</pricing_implications><question_text>Query for similar records using these fields</question_text><read_roles/><rec_lookup_price/><rec_price_if_checked>0</rec_price_if_checked><record/><record_producer_table/><reference/><reference_qual>javascript:RegressSystemPropertyHelper.GetExistingRecordFieldFilterByTable(current.variables.automatically_record_for_this_table);</reference_qual><reference_qual_condition/><scale_max>5</scale_max><scale_min>0</scale_min><show_help>false</show_help><show_help_on_load>false</show_help_on_load><sp_widget/><summary_macro/><sys_class_name>item_option_new</sys_class_name><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-02-22 04:44:51</sys_created_on><sys_id>2a451876db0384109e1014613996192f</sys_id><sys_mod_count>7</sys_mod_count><sys_name>Query for similar records using these fields</sys_name><sys_package display_value="Regress - ATF Recorder" source="86935f2adbc233001c4af53a2996191f">86935f2adbc233001c4af53a2996191f</sys_package><sys_policy/><sys_scope display_value="Regress - ATF Recorder">86935f2adbc233001c4af53a2996191f</sys_scope><sys_update_name>item_option_new_2a451876db0384109e1014613996192f</sys_update_name><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-02-22 05:32:06</sys_updated_on><table/><tooltip/><type>22</type><ui_page/><use_dynamic_default>false</use_dynamic_default><use_reference_qualifier>advanced</use_reference_qualifier><validate_regex/><variable_name/><variable_set display_value="Table Query Fields">b5e41cb6db0384109e10146139961909</variable_set><variable_width/><visibility>1</visibility><visible_bundle>true</visible_bundle><visible_guide>true</visible_guide><visible_standalone>true</visible_standalone><visible_summary>true</visible_summary><write_roles/></item_option_new><sys_translated_text action="delete_multiple" query="documentkey=2a451876db0384109e1014613996192f"/><fx_price action="delete_multiple" query="id=2a451876db0384109e1014613996192f"/><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>price_if_checked</field><id>2a451876db0384109e1014613996192f</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-02-22 04:44:51</sys_created_on><sys_id>b3a518f6db0384109e101461399619cf</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-02-22 04:44:51</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price><fx_price action="INSERT_OR_UPDATE"><amount>0</amount><currency display_value="USD">USD</currency><field>rec_price_if_checked</field><id>2a451876db0384109e1014613996192f</id><parent/><reference_amount>0</reference_amount><reference_currency display_value="USD">USD</reference_currency><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-02-22 04:44:51</sys_created_on><sys_id>7ba518f6db0384109e101461399619ce</sys_id><sys_mod_count>0</sys_mod_count><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-02-22 04:44:51</sys_updated_on><table>item_option_new</table><type>calculated</type></fx_price></record_update>]]></payload><payload_hash>1982787904</payload_hash><remote_update_set display_value="Regress - ATF Recorder v0.994 (New York)">61b4ee43db3814109e10146139961980</remote_update_set><replace_on_upgrade>false</replace_on_upgrade><sys_created_by>paul.morris</sys_created_by><sys_created_on>2020-05-20 09:38:07</sys_created_on><sys_id>edb4ee43db3814109e10146139961982</sys_id><sys_mod_count>0</sys_mod_count><sys_recorded_at>171e46b506c0000001</sys_recorded_at><sys_updated_by>paul.morris</sys_updated_by><sys_updated_on>2020-05-20 09:38:07</sys_updated_on><table/><target_name>Query for similar records using these fields</target_name><type>Variable</type><update_domain>global</update_domain><update_guid>c080e8f23a438410910e5d77442f64ea</update_guid><update_guid_history>c080e8f23a438410910e5d77442f64ea:1982787904,2e2e147225438410c2632cd30b191e52:-108073636,1e1e9072ab438410371abb516ba1b06f:-643461036,d19ad07e2b038410ae148468861bcddb:-2054479221,a54a5c3e98038410bf036867aa36abea:528638386,ed8998fa850384103a1b0b0467a1e740:2047649395,415994fabd038410cffc0c5e92b9e4ce:-1262726135,3ba518f62f038410b4b359171d6286d2:572561763</update_guid_history><update_set/><view/></sys_update_xml></unload>